function wO(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function mw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var E_={exports:{}},rd={},I_={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function EO(){if(PT)return je;PT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function b(W,ie,Te){this.props=W,this.context=ie,this.refs=R,this.updater=Te||T}b.prototype.isReactComponent={},b.prototype.setState=function(W,ie){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ie,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function M(){}M.prototype=b.prototype;function L(W,ie,Te){this.props=W,this.context=ie,this.refs=R,this.updater=Te||T}var F=L.prototype=new M;F.constructor=L,I(F,b.prototype),F.isPureReactComponent=!0;var $=Array.isArray,B=Object.prototype.hasOwnProperty,q={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function A(W,ie,Te){var Ce,Ve={},Fe=null,He=null;if(ie!=null)for(Ce in ie.ref!==void 0&&(He=ie.ref),ie.key!==void 0&&(Fe=""+ie.key),ie)B.call(ie,Ce)&&!V.hasOwnProperty(Ce)&&(Ve[Ce]=ie[Ce]);var $e=arguments.length-2;if($e===1)Ve.children=Te;else if(1<$e){for(var et=Array($e),gt=0;gt<$e;gt++)et[gt]=arguments[gt+2];Ve.children=et}if(W&&W.defaultProps)for(Ce in $e=W.defaultProps,$e)Ve[Ce]===void 0&&(Ve[Ce]=$e[Ce]);return{$$typeof:n,type:W,key:Fe,ref:He,props:Ve,_owner:q.current}}function C(W,ie){return{$$typeof:n,type:W.type,key:ie,ref:W.ref,props:W.props,_owner:W._owner}}function E(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function x(W){var ie={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Te){return ie[Te]})}var k=/\/+/g;function N(W,ie){return typeof W=="object"&&W!==null&&W.key!=null?x(""+W.key):ie.toString(36)}function X(W,ie,Te,Ce,Ve){var Fe=typeof W;(Fe==="undefined"||Fe==="boolean")&&(W=null);var He=!1;if(W===null)He=!0;else switch(Fe){case"string":case"number":He=!0;break;case"object":switch(W.$$typeof){case n:case e:He=!0}}if(He)return He=W,Ve=Ve(He),W=Ce===""?"."+N(He,0):Ce,$(Ve)?(Te="",W!=null&&(Te=W.replace(k,"$&/")+"/"),X(Ve,ie,Te,"",function(gt){return gt})):Ve!=null&&(E(Ve)&&(Ve=C(Ve,Te+(!Ve.key||He&&He.key===Ve.key?"":(""+Ve.key).replace(k,"$&/")+"/")+W)),ie.push(Ve)),1;if(He=0,Ce=Ce===""?".":Ce+":",$(W))for(var $e=0;$e<W.length;$e++){Fe=W[$e];var et=Ce+N(Fe,$e);He+=X(Fe,ie,Te,et,Ve)}else if(et=_(W),typeof et=="function")for(W=et.call(W),$e=0;!(Fe=W.next()).done;)Fe=Fe.value,et=Ce+N(Fe,$e++),He+=X(Fe,ie,Te,et,Ve);else if(Fe==="object")throw ie=String(W),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return He}function j(W,ie,Te){if(W==null)return W;var Ce=[],Ve=0;return X(W,Ce,"","",function(Fe){return ie.call(Te,Fe,Ve++)}),Ce}function me(W){if(W._status===-1){var ie=W._result;ie=ie(),ie.then(function(Te){(W._status===0||W._status===-1)&&(W._status=1,W._result=Te)},function(Te){(W._status===0||W._status===-1)&&(W._status=2,W._result=Te)}),W._status===-1&&(W._status=0,W._result=ie)}if(W._status===1)return W._result.default;throw W._result}var oe={current:null},Z={transition:null},pe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:q};function de(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:j,forEach:function(W,ie,Te){j(W,function(){ie.apply(this,arguments)},Te)},count:function(W){var ie=0;return j(W,function(){ie++}),ie},toArray:function(W){return j(W,function(ie){return ie})||[]},only:function(W){if(!E(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},je.Component=b,je.Fragment=t,je.Profiler=i,je.PureComponent=L,je.StrictMode=r,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,je.act=de,je.cloneElement=function(W,ie,Te){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Ce=I({},W.props),Ve=W.key,Fe=W.ref,He=W._owner;if(ie!=null){if(ie.ref!==void 0&&(Fe=ie.ref,He=q.current),ie.key!==void 0&&(Ve=""+ie.key),W.type&&W.type.defaultProps)var $e=W.type.defaultProps;for(et in ie)B.call(ie,et)&&!V.hasOwnProperty(et)&&(Ce[et]=ie[et]===void 0&&$e!==void 0?$e[et]:ie[et])}var et=arguments.length-2;if(et===1)Ce.children=Te;else if(1<et){$e=Array(et);for(var gt=0;gt<et;gt++)$e[gt]=arguments[gt+2];Ce.children=$e}return{$$typeof:n,type:W.type,key:Ve,ref:Fe,props:Ce,_owner:He}},je.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},je.createElement=A,je.createFactory=function(W){var ie=A.bind(null,W);return ie.type=W,ie},je.createRef=function(){return{current:null}},je.forwardRef=function(W){return{$$typeof:u,render:W}},je.isValidElement=E,je.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:me}},je.memo=function(W,ie){return{$$typeof:f,type:W,compare:ie===void 0?null:ie}},je.startTransition=function(W){var ie=Z.transition;Z.transition={};try{W()}finally{Z.transition=ie}},je.unstable_act=de,je.useCallback=function(W,ie){return oe.current.useCallback(W,ie)},je.useContext=function(W){return oe.current.useContext(W)},je.useDebugValue=function(){},je.useDeferredValue=function(W){return oe.current.useDeferredValue(W)},je.useEffect=function(W,ie){return oe.current.useEffect(W,ie)},je.useId=function(){return oe.current.useId()},je.useImperativeHandle=function(W,ie,Te){return oe.current.useImperativeHandle(W,ie,Te)},je.useInsertionEffect=function(W,ie){return oe.current.useInsertionEffect(W,ie)},je.useLayoutEffect=function(W,ie){return oe.current.useLayoutEffect(W,ie)},je.useMemo=function(W,ie){return oe.current.useMemo(W,ie)},je.useReducer=function(W,ie,Te){return oe.current.useReducer(W,ie,Te)},je.useRef=function(W){return oe.current.useRef(W)},je.useState=function(W){return oe.current.useState(W)},je.useSyncExternalStore=function(W,ie,Te){return oe.current.useSyncExternalStore(W,ie,Te)},je.useTransition=function(){return oe.current.useTransition()},je.version="18.3.1",je}var CT;function Oo(){return CT||(CT=1,I_.exports=EO()),I_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function IO(){if(kT)return rd;kT=1;var n=Oo(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var m,g={},_=null,T=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:T,props:g,_owner:i.current}}return rd.Fragment=t,rd.jsx=l,rd.jsxs=l,rd}var xT;function TO(){return xT||(xT=1,E_.exports=IO()),E_.exports}var O=TO(),K=Oo();const We=mw(K),lv=wO({__proto__:null,default:We},[K]);var mp={},T_={exports:{}},Zn={},S_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function SO(){return NT||(NT=1,function(n){function e(Z,pe){var de=Z.length;Z.push(pe);e:for(;0<de;){var W=de-1>>>1,ie=Z[W];if(0<i(ie,pe))Z[W]=pe,Z[de]=ie,de=W;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var pe=Z[0],de=Z.pop();if(de!==pe){Z[0]=de;e:for(var W=0,ie=Z.length,Te=ie>>>1;W<Te;){var Ce=2*(W+1)-1,Ve=Z[Ce],Fe=Ce+1,He=Z[Fe];if(0>i(Ve,de))Fe<ie&&0>i(He,Ve)?(Z[W]=He,Z[Fe]=de,W=Fe):(Z[W]=Ve,Z[Ce]=de,W=Ce);else if(Fe<ie&&0>i(He,de))Z[W]=He,Z[Fe]=de,W=Fe;else break e}}return pe}function i(Z,pe){var de=Z.sortIndex-pe.sortIndex;return de!==0?de:Z.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,g=null,_=3,T=!1,I=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(Z){for(var pe=t(f);pe!==null;){if(pe.callback===null)r(f);else if(pe.startTime<=Z)r(f),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(f)}}function $(Z){if(R=!1,F(Z),!I)if(t(d)!==null)I=!0,me(B);else{var pe=t(f);pe!==null&&oe($,pe.startTime-Z)}}function B(Z,pe){I=!1,R&&(R=!1,M(A),A=-1),T=!0;var de=_;try{for(F(pe),g=t(d);g!==null&&(!(g.expirationTime>pe)||Z&&!x());){var W=g.callback;if(typeof W=="function"){g.callback=null,_=g.priorityLevel;var ie=W(g.expirationTime<=pe);pe=n.unstable_now(),typeof ie=="function"?g.callback=ie:g===t(d)&&r(d),F(pe)}else r(d);g=t(d)}if(g!==null)var Te=!0;else{var Ce=t(f);Ce!==null&&oe($,Ce.startTime-pe),Te=!1}return Te}finally{g=null,_=de,T=!1}}var q=!1,V=null,A=-1,C=5,E=-1;function x(){return!(n.unstable_now()-E<C)}function k(){if(V!==null){var Z=n.unstable_now();E=Z;var pe=!0;try{pe=V(!0,Z)}finally{pe?N():(q=!1,V=null)}}else q=!1}var N;if(typeof L=="function")N=function(){L(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,j=X.port2;X.port1.onmessage=k,N=function(){j.postMessage(null)}}else N=function(){b(k,0)};function me(Z){V=Z,q||(q=!0,N())}function oe(Z,pe){A=b(function(){Z(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,me(B))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var de=_;_=pe;try{return Z()}finally{_=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=_;_=Z;try{return pe()}finally{_=de}},n.unstable_scheduleCallback=function(Z,pe,de){var W=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?W+de:W):de=W,Z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=de+ie,Z={id:m++,callback:pe,priorityLevel:Z,startTime:de,expirationTime:ie,sortIndex:-1},de>W?(Z.sortIndex=de,e(f,Z),t(d)===null&&Z===t(f)&&(R?(M(A),A=-1):R=!0,oe($,de-W))):(Z.sortIndex=ie,e(d,Z),I||T||(I=!0,me(B))),Z},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(Z){var pe=_;return function(){var de=_;_=pe;try{return Z.apply(this,arguments)}finally{_=de}}}}(R_)),R_}var OT;function RO(){return OT||(OT=1,S_.exports=SO()),S_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function AO(){if(DT)return Zn;DT=1;var n=Oo(),e=RO();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(s){return d.call(g,s)?!0:d.call(m,s)?!1:f.test(s)?g[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(s,a,c,p,y,w,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=P}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new R(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(M,L);b[a]=new R(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(M,L);b[a]=new R(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(M,L);b[a]=new R(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,a,c,p){var y=b.hasOwnProperty(a)?b[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),q=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var de=Object.assign,W;function ie(s){if(W===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var Te=!1;function Ce(s,a){if(!s||Te)return"";Te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var p=ee}Reflect.construct(s,[],a)}else{try{a.call()}catch(ee){p=ee}s.call(a.prototype)}else{try{throw Error()}catch(ee){p=ee}s()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),w=p.stack.split(`
`),P=y.length-1,U=w.length-1;1<=P&&0<=U&&y[P]!==w[U];)U--;for(;1<=P&&0<=U;P--,U--)if(y[P]!==w[U]){if(P!==1||U!==1)do if(P--,U--,0>U||y[P]!==w[U]){var z=`
`+y[P].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=P&&0<=U);break}}}finally{Te=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ie(s):""}function Ve(s){switch(s.tag){case 5:return ie(s.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Fe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case q:return"Portal";case C:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case x:return(s.displayName||"Context")+".Consumer";case E:return(s._context.displayName||"Context")+".Provider";case k:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return a=s.displayName||null,a!==null?a:Fe(s.type)||"Memo";case me:a=s._payload,s=s._init;try{return Fe(s(a))}catch{}}return null}function He(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function et(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function gt(s){var a=et(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,w.call(this,P)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ln(s){s._valueTracker||(s._valueTracker=gt(s))}function tt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=et(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function ht(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Zt(s,a){var c=a.checked;return de({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function $r(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=$e(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Rr(s,a){a=a.checked,a!=null&&F(s,"checked",a,!1)}function Ar(s,a){Rr(s,a);var c=$e(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Wn(s,a.type,c):a.hasOwnProperty("defaultValue")&&Wn(s,a.type,$e(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function qn(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Wn(s,a,c){(a!=="number"||ht(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var or=Array.isArray;function Hi(s,a,c,p){if(s=s.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=a.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+$e(c),a=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function dc(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Za(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(or(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:$e(c)}}function el(s,a){var c=$e(a.value),p=$e(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function hc(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function en(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?en(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ki,fc=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,y)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ki.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function xs(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$o=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(s){$o.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),zo[a]=zo[s]})});function pc(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||zo.hasOwnProperty(s)&&zo[s]?(""+a).trim():a+"px"}function mc(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=pc(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var gc=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yc(s,a){if(a){if(gc[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function _c(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=null;function tl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var nl=null,br=null,di=null;function rl(s){if(s=zc(s)){if(typeof nl!="function")throw Error(t(280));var a=s.stateNode;a&&(a=kf(a),nl(s.stateNode,s.type,a))}}function hi(s){br?di?di.push(s):di=[s]:br=s}function vc(){if(br){var s=br,a=di;if(di=br=null,rl(s),a)for(s=0;s<a.length;s++)rl(a[s])}}function Wo(s,a){return s(a)}function wc(){}var Gi=!1;function Ec(s,a,c){if(Gi)return s(a,c);Gi=!0;try{return Wo(s,a,c)}finally{Gi=!1,(br!==null||di!==null)&&(wc(),vc())}}function jt(s,a){var c=s.stateNode;if(c===null)return null;var p=kf(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var il=!1;if(u)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){il=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{il=!1}function Ho(s,a,c,p,y,w,P,U,z){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(ce){this.onError(ce)}}var Ko=!1,sl=null,Wr=!1,Ic=null,Qg={onError:function(s){Ko=!0,sl=s}};function ol(s,a,c,p,y,w,P,U,z){Ko=!1,sl=null,Ho.apply(Qg,arguments)}function ef(s,a,c,p,y,w,P,U,z){if(ol.apply(this,arguments),Ko){if(Ko){var ee=sl;Ko=!1,sl=null}else throw Error(t(198));Wr||(Wr=!0,Ic=ee)}}function Hr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Go(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Kr(s){if(Hr(s)!==s)throw Error(t(188))}function tf(s){var a=s.alternate;if(!a){if(a=Hr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Kr(y),s;if(w===p)return Kr(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var P=!1,U=y.child;U;){if(U===c){P=!0,c=y,p=w;break}if(U===p){P=!0,p=y,c=w;break}U=U.sibling}if(!P){for(U=w.child;U;){if(U===c){P=!0,c=w,p=y;break}if(U===p){P=!0,p=w,c=y;break}U=U.sibling}if(!P)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Tc(s){return s=tf(s),s!==null?al(s):null}function al(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=al(s);if(a!==null)return a;s=s.sibling}return null}var ll=e.unstable_scheduleCallback,Sc=e.unstable_cancelCallback,nf=e.unstable_shouldYield,Yg=e.unstable_requestPaint,ut=e.unstable_now,rf=e.unstable_getCurrentPriorityLevel,Qo=e.unstable_ImmediatePriority,Ns=e.unstable_UserBlockingPriority,Pr=e.unstable_NormalPriority,Rc=e.unstable_LowPriority,sf=e.unstable_IdlePriority,Yo=null,ar=null;function of(s){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Yo,s,void 0,(s.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:lf,Ac=Math.log,af=Math.LN2;function lf(s){return s>>>=0,s===0?32:31-(Ac(s)/af|0)|0}var ul=64,cl=4194304;function Os(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Jo(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes,P=c&268435455;if(P!==0){var U=P&~y;U!==0?p=Os(U):(w&=P,w!==0&&(p=Os(w)))}else P=c&~y,P!==0?p=Os(P):w!==0&&(p=Os(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&y)&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if(p&4&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-Vn(a),y=1<<c,p|=s[c],a&=~y;return p}function Jg(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes;0<w;){var P=31-Vn(w),U=1<<P,z=y[P];z===-1?(!(U&c)||U&p)&&(y[P]=Jg(U,a)):z<=a&&(s.expiredLanes|=U),w&=~U}}function lr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Xo(){var s=ul;return ul<<=1,!(ul&4194240)&&(ul=64),s}function Ds(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Vs(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Vn(a),s[a]=c}function ot(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Vn(c),w=1<<y;a[y]=0,p[y]=-1,s[y]=-1,c&=~w}}function Ls(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-Vn(c),y=1<<p;y&a|s[p]&a&&(s[p]|=a),c&=~y}}var qe=0;function Ms(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var uf,dl,cf,df,hf,bc=!1,fi=[],yn=null,Gr=null,Qr=null,Fs=new Map,Cr=new Map,pi=[],Xg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ff(s,a){switch(s){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Fs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(a.pointerId)}}function Hn(s,a,c,p,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=zc(a),a!==null&&dl(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function Zg(s,a,c,p,y){switch(a){case"focusin":return yn=Hn(yn,s,a,c,p,y),!0;case"dragenter":return Gr=Hn(Gr,s,a,c,p,y),!0;case"mouseover":return Qr=Hn(Qr,s,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return Fs.set(w,Hn(Fs.get(w)||null,s,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Cr.set(w,Hn(Cr.get(w)||null,s,a,c,p,y)),!0}return!1}function pf(s){var a=ra(s.target);if(a!==null){var c=Hr(a);if(c!==null){if(a=c.tag,a===13){if(a=Go(c),a!==null){s.blockedOn=a,hf(s.priority,function(){cf(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=hl(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);qo=p,c.target.dispatchEvent(p),qo=null}else return a=zc(c),a!==null&&dl(a),s.blockedOn=c,!1;a.shift()}return!0}function Zo(s,a,c){Yi(s)&&c.delete(a)}function mf(){bc=!1,yn!==null&&Yi(yn)&&(yn=null),Gr!==null&&Yi(Gr)&&(Gr=null),Qr!==null&&Yi(Qr)&&(Qr=null),Fs.forEach(Zo),Cr.forEach(Zo)}function Yr(s,a){s.blockedOn===a&&(s.blockedOn=null,bc||(bc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mf)))}function Jr(s){function a(y){return Yr(y,s)}if(0<fi.length){Yr(fi[0],s);for(var c=1;c<fi.length;c++){var p=fi[c];p.blockedOn===s&&(p.blockedOn=null)}}for(yn!==null&&Yr(yn,s),Gr!==null&&Yr(Gr,s),Qr!==null&&Yr(Qr,s),Fs.forEach(a),Cr.forEach(a),c=0;c<pi.length;c++)p=pi[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<pi.length&&(c=pi[0],c.blockedOn===null);)pf(c),c.blockedOn===null&&pi.shift()}var Ji=$.ReactCurrentBatchConfig,js=!0;function yt(s,a,c,p){var y=qe,w=Ji.transition;Ji.transition=null;try{qe=1,Pc(s,a,c,p)}finally{qe=y,Ji.transition=w}}function ey(s,a,c,p){var y=qe,w=Ji.transition;Ji.transition=null;try{qe=4,Pc(s,a,c,p)}finally{qe=y,Ji.transition=w}}function Pc(s,a,c,p){if(js){var y=hl(s,a,c,p);if(y===null)dy(s,a,p,ea,c),ff(s,p);else if(Zg(y,s,a,c,p))p.stopPropagation();else if(ff(s,p),a&4&&-1<Xg.indexOf(s)){for(;y!==null;){var w=zc(y);if(w!==null&&uf(w),w=hl(s,a,c,p),w===null&&dy(s,a,p,ea,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else dy(s,a,p,null,c)}}var ea=null;function hl(s,a,c,p){if(ea=null,s=tl(p),s=ra(s),s!==null)if(a=Hr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Go(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ea=s,null}function Cc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rf()){case Qo:return 1;case Ns:return 4;case Pr:case Rc:return 16;case sf:return 536870912;default:return 16}default:return 16}}var ur=null,fl=null,Kn=null;function kc(){if(Kn)return Kn;var s,a=fl,c=a.length,p,y="value"in ur?ur.value:ur.textContent,w=y.length;for(s=0;s<c&&a[s]===y[s];s++);var P=c-s;for(p=1;p<=P&&a[c-p]===y[w-p];p++);return Kn=y.slice(s,1<p?1-p:void 0)}function pl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function mi(){return!0}function xc(){return!1}function _n(s){function a(c,p,y,w,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(c=s[U],this[U]=c?c(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?mi:xc,this.isPropagationStopped=xc,this}return de(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),a}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=_n(Xr),gi=de({},Xr,{view:0,detail:0}),ty=_n(gi),gl,Xi,Us,ta=de({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Us&&(Us&&s.type==="mousemove"?(gl=s.screenX-Us.screenX,Xi=s.screenY-Us.screenY):Xi=gl=0,Us=s),gl)},movementY:function(s){return"movementY"in s?s.movementY:Xi}}),yl=_n(ta),Nc=de({},ta,{dataTransfer:0}),gf=_n(Nc),_l=de({},gi,{relatedTarget:0}),vl=_n(_l),yf=de({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zi=_n(yf),_f=de({},Xr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vf=_n(_f),wf=de({},Xr,{data:0}),Oc=_n(wf),wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ef[s])?!!a[s]:!1}function yi(){return If}var h=de({},gi,{key:function(s){if(s.key){var a=wl[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=pl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ln[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(s){return s.type==="keypress"?pl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=_n(h),S=de({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=_n(S),Q=de({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi}),ne=_n(Q),ye=de({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nt=_n(ye),nn=de({},ta,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=_n(nn),un=[9,13,27,32],Wt=u&&"CompositionEvent"in window,kr=null;u&&"documentMode"in document&&(kr=document.documentMode);var cr=u&&"TextEvent"in window&&!kr,na=u&&(!Wt||kr&&8<kr&&11>=kr),El=" ",IE=!1;function TE(s,a){switch(s){case"keyup":return un.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SE(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Il=!1;function yN(s,a){switch(s){case"compositionend":return SE(a);case"keypress":return a.which!==32?null:(IE=!0,El);case"textInput":return s=a.data,s===El&&IE?null:s;default:return null}}function _N(s,a){if(Il)return s==="compositionend"||!Wt&&TE(s,a)?(s=kc(),Kn=fl=ur=null,Il=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return na&&a.locale!=="ko"?null:a.data;default:return null}}var vN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RE(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!vN[s.type]:a==="textarea"}function AE(s,a,c,p){hi(p),a=bf(a,"onChange"),0<a.length&&(c=new ml("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Dc=null,Vc=null;function wN(s){qE(s,0)}function Tf(s){var a=bl(s);if(tt(a))return s}function EN(s,a){if(s==="change")return a}var bE=!1;if(u){var ny;if(u){var ry="oninput"in document;if(!ry){var PE=document.createElement("div");PE.setAttribute("oninput","return;"),ry=typeof PE.oninput=="function"}ny=ry}else ny=!1;bE=ny&&(!document.documentMode||9<document.documentMode)}function CE(){Dc&&(Dc.detachEvent("onpropertychange",kE),Vc=Dc=null)}function kE(s){if(s.propertyName==="value"&&Tf(Vc)){var a=[];AE(a,Vc,s,tl(s)),Ec(wN,a)}}function IN(s,a,c){s==="focusin"?(CE(),Dc=a,Vc=c,Dc.attachEvent("onpropertychange",kE)):s==="focusout"&&CE()}function TN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Tf(Vc)}function SN(s,a){if(s==="click")return Tf(a)}function RN(s,a){if(s==="input"||s==="change")return Tf(a)}function AN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Zr=typeof Object.is=="function"?Object.is:AN;function Lc(s,a){if(Zr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!Zr(s[y],a[y]))return!1}return!0}function xE(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function NE(s,a){var c=xE(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xE(c)}}function OE(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?OE(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function DE(){for(var s=window,a=ht();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ht(s.document)}return a}function iy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function bN(s){var a=DE(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&OE(c.ownerDocument.documentElement,c)){if(p!==null&&iy(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!s.extend&&w>p&&(y=p,p=w,w=y),y=NE(c,w);var P=NE(c,p);y&&P&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==P.node||s.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var PN=u&&"documentMode"in document&&11>=document.documentMode,Tl=null,sy=null,Mc=null,oy=!1;function VE(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;oy||Tl==null||Tl!==ht(p)||(p=Tl,"selectionStart"in p&&iy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Mc&&Lc(Mc,p)||(Mc=p,p=bf(sy,"onSelect"),0<p.length&&(a=new ml("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Tl)))}function Sf(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Sl={animationend:Sf("Animation","AnimationEnd"),animationiteration:Sf("Animation","AnimationIteration"),animationstart:Sf("Animation","AnimationStart"),transitionend:Sf("Transition","TransitionEnd")},ay={},LE={};u&&(LE=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Rf(s){if(ay[s])return ay[s];if(!Sl[s])return s;var a=Sl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in LE)return ay[s]=a[c];return s}var ME=Rf("animationend"),FE=Rf("animationiteration"),jE=Rf("animationstart"),UE=Rf("transitionend"),BE=new Map,zE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(s,a){BE.set(s,a),o(a,[s])}for(var ly=0;ly<zE.length;ly++){var uy=zE[ly],CN=uy.toLowerCase(),kN=uy[0].toUpperCase()+uy.slice(1);Bs(CN,"on"+kN)}Bs(ME,"onAnimationEnd"),Bs(FE,"onAnimationIteration"),Bs(jE,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(UE,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fc));function $E(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,ef(p,a,void 0,s),s.currentTarget=null}function qE(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var P=p.length-1;0<=P;P--){var U=p[P],z=U.instance,ee=U.currentTarget;if(U=U.listener,z!==w&&y.isPropagationStopped())break e;$E(y,U,ee),w=z}else for(P=0;P<p.length;P++){if(U=p[P],z=U.instance,ee=U.currentTarget,U=U.listener,z!==w&&y.isPropagationStopped())break e;$E(y,U,ee),w=z}}}if(Wr)throw s=Ic,Wr=!1,Ic=null,s}function ft(s,a){var c=a[yy];c===void 0&&(c=a[yy]=new Set);var p=s+"__bubble";c.has(p)||(WE(a,s,2,!1),c.add(p))}function cy(s,a,c){var p=0;a&&(p|=4),WE(c,s,p,a)}var Af="_reactListening"+Math.random().toString(36).slice(2);function jc(s){if(!s[Af]){s[Af]=!0,r.forEach(function(c){c!=="selectionchange"&&(xN.has(c)||cy(c,!1,s),cy(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Af]||(a[Af]=!0,cy("selectionchange",!1,a))}}function WE(s,a,c,p){switch(Cc(a)){case 1:var y=yt;break;case 4:y=ey;break;default:y=Pc}c=y.bind(null,a,c,s),y=void 0,!il||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(a,c,{capture:!0,passive:y}):s.addEventListener(a,c,!0):y!==void 0?s.addEventListener(a,c,{passive:y}):s.addEventListener(a,c,!1)}function dy(s,a,c,p,y){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var U=p.stateNode.containerInfo;if(U===y||U.nodeType===8&&U.parentNode===y)break;if(P===4)for(P=p.return;P!==null;){var z=P.tag;if((z===3||z===4)&&(z=P.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;P=P.return}for(;U!==null;){if(P=ra(U),P===null)return;if(z=P.tag,z===5||z===6){p=w=P;continue e}U=U.parentNode}}p=p.return}Ec(function(){var ee=w,ce=tl(c),he=[];e:{var le=BE.get(s);if(le!==void 0){var we=ml,Se=s;switch(s){case"keypress":if(pl(c)===0)break e;case"keydown":case"keyup":we=v;break;case"focusin":Se="focus",we=vl;break;case"focusout":Se="blur",we=vl;break;case"beforeblur":case"afterblur":we=vl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case ME:case FE:case jE:we=Zi;break;case UE:we=nt;break;case"scroll":we=ty;break;case"wheel":we=Ke;break;case"copy":case"cut":case"paste":we=vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=D}var Ae=(a&4)!==0,Ut=!Ae&&s==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var H=ee,J;H!==null;){J=H;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Y!==null&&(ge=jt(H,Y),ge!=null&&Ae.push(Uc(H,ge,J)))),Ut)break;H=H.return}0<Ae.length&&(le=new we(le,Se,null,c,ce),he.push({event:le,listeners:Ae}))}}if(!(a&7)){e:{if(le=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",le&&c!==qo&&(Se=c.relatedTarget||c.fromElement)&&(ra(Se)||Se[es]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Se=c.relatedTarget||c.toElement,we=ee,Se=Se?ra(Se):null,Se!==null&&(Ut=Hr(Se),Se!==Ut||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=ee),we!==Se)){if(Ae=yl,ge="onMouseLeave",Y="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=D,ge="onPointerLeave",Y="onPointerEnter",H="pointer"),Ut=we==null?le:bl(we),J=Se==null?le:bl(Se),le=new Ae(ge,H+"leave",we,c,ce),le.target=Ut,le.relatedTarget=J,ge=null,ra(ce)===ee&&(Ae=new Ae(Y,H+"enter",Se,c,ce),Ae.target=J,Ae.relatedTarget=Ut,ge=Ae),Ut=ge,we&&Se)t:{for(Ae=we,Y=Se,H=0,J=Ae;J;J=Rl(J))H++;for(J=0,ge=Y;ge;ge=Rl(ge))J++;for(;0<H-J;)Ae=Rl(Ae),H--;for(;0<J-H;)Y=Rl(Y),J--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Rl(Ae),Y=Rl(Y)}Ae=null}else Ae=null;we!==null&&HE(he,le,we,Ae,!1),Se!==null&&Ut!==null&&HE(he,Ut,Se,Ae,!0)}}e:{if(le=ee?bl(ee):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var be=EN;else if(RE(le))if(bE)be=RN;else{be=TN;var xe=IN}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(be=SN);if(be&&(be=be(s,ee))){AE(he,be,c,ce);break e}xe&&xe(s,le,ee),s==="focusout"&&(xe=le._wrapperState)&&xe.controlled&&le.type==="number"&&Wn(le,"number",le.value)}switch(xe=ee?bl(ee):window,s){case"focusin":(RE(xe)||xe.contentEditable==="true")&&(Tl=xe,sy=ee,Mc=null);break;case"focusout":Mc=sy=Tl=null;break;case"mousedown":oy=!0;break;case"contextmenu":case"mouseup":case"dragend":oy=!1,VE(he,c,ce);break;case"selectionchange":if(PN)break;case"keydown":case"keyup":VE(he,c,ce)}var Ne;if(Wt)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Il?TE(s,c)&&(Oe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Oe="onCompositionStart");Oe&&(na&&c.locale!=="ko"&&(Il||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Il&&(Ne=kc()):(ur=ce,fl="value"in ur?ur.value:ur.textContent,Il=!0)),xe=bf(ee,Oe),0<xe.length&&(Oe=new Oc(Oe,s,null,c,ce),he.push({event:Oe,listeners:xe}),Ne?Oe.data=Ne:(Ne=SE(c),Ne!==null&&(Oe.data=Ne)))),(Ne=cr?yN(s,c):_N(s,c))&&(ee=bf(ee,"onBeforeInput"),0<ee.length&&(ce=new Oc("onBeforeInput","beforeinput",null,c,ce),he.push({event:ce,listeners:ee}),ce.data=Ne))}qE(he,a)})}function Uc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function bf(s,a){for(var c=a+"Capture",p=[];s!==null;){var y=s,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=jt(s,c),w!=null&&p.unshift(Uc(s,w,y)),w=jt(s,a),w!=null&&p.push(Uc(s,w,y))),s=s.return}return p}function Rl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function HE(s,a,c,p,y){for(var w=a._reactName,P=[];c!==null&&c!==p;){var U=c,z=U.alternate,ee=U.stateNode;if(z!==null&&z===p)break;U.tag===5&&ee!==null&&(U=ee,y?(z=jt(c,w),z!=null&&P.unshift(Uc(c,z,U))):y||(z=jt(c,w),z!=null&&P.push(Uc(c,z,U)))),c=c.return}P.length!==0&&s.push({event:a,listeners:P})}var NN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function KE(s){return(typeof s=="string"?s:""+s).replace(NN,`
`).replace(ON,"")}function Pf(s,a,c){if(a=KE(a),KE(s)!==a&&c)throw Error(t(425))}function Cf(){}var hy=null,fy=null;function py(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var my=typeof setTimeout=="function"?setTimeout:void 0,DN=typeof clearTimeout=="function"?clearTimeout:void 0,GE=typeof Promise=="function"?Promise:void 0,VN=typeof queueMicrotask=="function"?queueMicrotask:typeof GE<"u"?function(s){return GE.resolve(null).then(s).catch(LN)}:my;function LN(s){setTimeout(function(){throw s})}function gy(s,a){var c=a,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),Jr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Jr(a)}function zs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function QE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Al=Math.random().toString(36).slice(2),_i="__reactFiber$"+Al,Bc="__reactProps$"+Al,es="__reactContainer$"+Al,yy="__reactEvents$"+Al,MN="__reactListeners$"+Al,FN="__reactHandles$"+Al;function ra(s){var a=s[_i];if(a)return a;for(var c=s.parentNode;c;){if(a=c[es]||c[_i]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=QE(s);s!==null;){if(c=s[_i])return c;s=QE(s)}return a}s=c,c=s.parentNode}return null}function zc(s){return s=s[_i]||s[es],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function bl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function kf(s){return s[Bc]||null}var _y=[],Pl=-1;function $s(s){return{current:s}}function pt(s){0>Pl||(s.current=_y[Pl],_y[Pl]=null,Pl--)}function ct(s,a){Pl++,_y[Pl]=s.current,s.current=a}var qs={},Rn=$s(qs),Gn=$s(!1),ia=qs;function Cl(s,a){var c=s.type.contextTypes;if(!c)return qs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function Qn(s){return s=s.childContextTypes,s!=null}function xf(){pt(Gn),pt(Rn)}function YE(s,a,c){if(Rn.current!==qs)throw Error(t(168));ct(Rn,a),ct(Gn,c)}function JE(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,He(s)||"Unknown",y));return de({},c,p)}function Nf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||qs,ia=Rn.current,ct(Rn,s),ct(Gn,Gn.current),!0}function XE(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=JE(s,a,ia),p.__reactInternalMemoizedMergedChildContext=s,pt(Gn),pt(Rn),ct(Rn,s)):pt(Gn),ct(Gn,c)}var ts=null,Of=!1,vy=!1;function ZE(s){ts===null?ts=[s]:ts.push(s)}function jN(s){Of=!0,ZE(s)}function Ws(){if(!vy&&ts!==null){vy=!0;var s=0,a=qe;try{var c=ts;for(qe=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}ts=null,Of=!1}catch(y){throw ts!==null&&(ts=ts.slice(s+1)),ll(Qo,Ws),y}finally{qe=a,vy=!1}}return null}var kl=[],xl=0,Df=null,Vf=0,xr=[],Nr=0,sa=null,ns=1,rs="";function oa(s,a){kl[xl++]=Vf,kl[xl++]=Df,Df=s,Vf=a}function eI(s,a,c){xr[Nr++]=ns,xr[Nr++]=rs,xr[Nr++]=sa,sa=s;var p=ns;s=rs;var y=32-Vn(p)-1;p&=~(1<<y),c+=1;var w=32-Vn(a)+y;if(30<w){var P=y-y%5;w=(p&(1<<P)-1).toString(32),p>>=P,y-=P,ns=1<<32-Vn(a)+y|c<<y|p,rs=w+s}else ns=1<<w|c<<y|p,rs=s}function wy(s){s.return!==null&&(oa(s,1),eI(s,1,0))}function Ey(s){for(;s===Df;)Df=kl[--xl],kl[xl]=null,Vf=kl[--xl],kl[xl]=null;for(;s===sa;)sa=xr[--Nr],xr[Nr]=null,rs=xr[--Nr],xr[Nr]=null,ns=xr[--Nr],xr[Nr]=null}var dr=null,hr=null,_t=!1,ei=null;function tI(s,a){var c=Lr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function nI(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,dr=s,hr=zs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,dr=s,hr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=sa!==null?{id:ns,overflow:rs}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Lr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,dr=s,hr=null,!0):!1;default:return!1}}function Iy(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ty(s){if(_t){var a=hr;if(a){var c=a;if(!nI(s,a)){if(Iy(s))throw Error(t(418));a=zs(c.nextSibling);var p=dr;a&&nI(s,a)?tI(p,c):(s.flags=s.flags&-4097|2,_t=!1,dr=s)}}else{if(Iy(s))throw Error(t(418));s.flags=s.flags&-4097|2,_t=!1,dr=s}}}function rI(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;dr=s}function Lf(s){if(s!==dr)return!1;if(!_t)return rI(s),_t=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!py(s.type,s.memoizedProps)),a&&(a=hr)){if(Iy(s))throw iI(),Error(t(418));for(;a;)tI(s,a),a=zs(a.nextSibling)}if(rI(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){hr=zs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}hr=null}}else hr=dr?zs(s.stateNode.nextSibling):null;return!0}function iI(){for(var s=hr;s;)s=zs(s.nextSibling)}function Nl(){hr=dr=null,_t=!1}function Sy(s){ei===null?ei=[s]:ei.push(s)}var UN=$.ReactCurrentBatchConfig;function $c(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var y=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(P){var U=y.refs;P===null?delete U[w]:U[w]=P},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Mf(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function sI(s){var a=s._init;return a(s._payload)}function oI(s){function a(Y,H){if(s){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function c(Y,H){if(!s)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function p(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function y(Y,H){return Y=Zs(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function P(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,J,ge){return H===null||H.tag!==6?(H=m_(J,Y.mode,ge),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function z(Y,H,J,ge){var be=J.type;return be===V?ce(Y,H,J.props.children,ge,J.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===me&&sI(be)===H.type)?(ge=y(H,J.props),ge.ref=$c(Y,H,J),ge.return=Y,ge):(ge=ap(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=$c(Y,H,J),ge.return=Y,ge)}function ee(Y,H,J,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=g_(J,Y.mode,ge),H.return=Y,H):(H=y(H,J.children||[]),H.return=Y,H)}function ce(Y,H,J,ge,be){return H===null||H.tag!==7?(H=pa(J,Y.mode,ge,be),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function he(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=m_(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return J=ap(H.type,H.key,H.props,null,Y.mode,J),J.ref=$c(Y,null,H),J.return=Y,J;case q:return H=g_(H,Y.mode,J),H.return=Y,H;case me:var ge=H._init;return he(Y,ge(H._payload),J)}if(or(H)||pe(H))return H=pa(H,Y.mode,J,null),H.return=Y,H;Mf(Y,H)}return null}function le(Y,H,J,ge){var be=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return be!==null?null:U(Y,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===be?z(Y,H,J,ge):null;case q:return J.key===be?ee(Y,H,J,ge):null;case me:return be=J._init,le(Y,H,be(J._payload),ge)}if(or(J)||pe(J))return be!==null?null:ce(Y,H,J,ge,null);Mf(Y,J)}return null}function we(Y,H,J,ge,be){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(J)||null,U(H,Y,""+ge,be);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case B:return Y=Y.get(ge.key===null?J:ge.key)||null,z(H,Y,ge,be);case q:return Y=Y.get(ge.key===null?J:ge.key)||null,ee(H,Y,ge,be);case me:var xe=ge._init;return we(Y,H,J,xe(ge._payload),be)}if(or(ge)||pe(ge))return Y=Y.get(J)||null,ce(H,Y,ge,be,null);Mf(H,ge)}return null}function Se(Y,H,J,ge){for(var be=null,xe=null,Ne=H,Oe=H=0,hn=null;Ne!==null&&Oe<J.length;Oe++){Ne.index>Oe?(hn=Ne,Ne=null):hn=Ne.sibling;var Ye=le(Y,Ne,J[Oe],ge);if(Ye===null){Ne===null&&(Ne=hn);break}s&&Ne&&Ye.alternate===null&&a(Y,Ne),H=w(Ye,H,Oe),xe===null?be=Ye:xe.sibling=Ye,xe=Ye,Ne=hn}if(Oe===J.length)return c(Y,Ne),_t&&oa(Y,Oe),be;if(Ne===null){for(;Oe<J.length;Oe++)Ne=he(Y,J[Oe],ge),Ne!==null&&(H=w(Ne,H,Oe),xe===null?be=Ne:xe.sibling=Ne,xe=Ne);return _t&&oa(Y,Oe),be}for(Ne=p(Y,Ne);Oe<J.length;Oe++)hn=we(Ne,Y,Oe,J[Oe],ge),hn!==null&&(s&&hn.alternate!==null&&Ne.delete(hn.key===null?Oe:hn.key),H=w(hn,H,Oe),xe===null?be=hn:xe.sibling=hn,xe=hn);return s&&Ne.forEach(function(eo){return a(Y,eo)}),_t&&oa(Y,Oe),be}function Ae(Y,H,J,ge){var be=pe(J);if(typeof be!="function")throw Error(t(150));if(J=be.call(J),J==null)throw Error(t(151));for(var xe=be=null,Ne=H,Oe=H=0,hn=null,Ye=J.next();Ne!==null&&!Ye.done;Oe++,Ye=J.next()){Ne.index>Oe?(hn=Ne,Ne=null):hn=Ne.sibling;var eo=le(Y,Ne,Ye.value,ge);if(eo===null){Ne===null&&(Ne=hn);break}s&&Ne&&eo.alternate===null&&a(Y,Ne),H=w(eo,H,Oe),xe===null?be=eo:xe.sibling=eo,xe=eo,Ne=hn}if(Ye.done)return c(Y,Ne),_t&&oa(Y,Oe),be;if(Ne===null){for(;!Ye.done;Oe++,Ye=J.next())Ye=he(Y,Ye.value,ge),Ye!==null&&(H=w(Ye,H,Oe),xe===null?be=Ye:xe.sibling=Ye,xe=Ye);return _t&&oa(Y,Oe),be}for(Ne=p(Y,Ne);!Ye.done;Oe++,Ye=J.next())Ye=we(Ne,Y,Oe,Ye.value,ge),Ye!==null&&(s&&Ye.alternate!==null&&Ne.delete(Ye.key===null?Oe:Ye.key),H=w(Ye,H,Oe),xe===null?be=Ye:xe.sibling=Ye,xe=Ye);return s&&Ne.forEach(function(vO){return a(Y,vO)}),_t&&oa(Y,Oe),be}function Ut(Y,H,J,ge){if(typeof J=="object"&&J!==null&&J.type===V&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var be=J.key,xe=H;xe!==null;){if(xe.key===be){if(be=J.type,be===V){if(xe.tag===7){c(Y,xe.sibling),H=y(xe,J.props.children),H.return=Y,Y=H;break e}}else if(xe.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===me&&sI(be)===xe.type){c(Y,xe.sibling),H=y(xe,J.props),H.ref=$c(Y,xe,J),H.return=Y,Y=H;break e}c(Y,xe);break}else a(Y,xe);xe=xe.sibling}J.type===V?(H=pa(J.props.children,Y.mode,ge,J.key),H.return=Y,Y=H):(ge=ap(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=$c(Y,H,J),ge.return=Y,Y=ge)}return P(Y);case q:e:{for(xe=J.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Y,H.sibling),H=y(H,J.children||[]),H.return=Y,Y=H;break e}else{c(Y,H);break}else a(Y,H);H=H.sibling}H=g_(J,Y.mode,ge),H.return=Y,Y=H}return P(Y);case me:return xe=J._init,Ut(Y,H,xe(J._payload),ge)}if(or(J))return Se(Y,H,J,ge);if(pe(J))return Ae(Y,H,J,ge);Mf(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Y,H.sibling),H=y(H,J),H.return=Y,Y=H):(c(Y,H),H=m_(J,Y.mode,ge),H.return=Y,Y=H),P(Y)):c(Y,H)}return Ut}var Ol=oI(!0),aI=oI(!1),Ff=$s(null),jf=null,Dl=null,Ry=null;function Ay(){Ry=Dl=jf=null}function by(s){var a=Ff.current;pt(Ff),s._currentValue=a}function Py(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function Vl(s,a){jf=s,Ry=Dl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(Yn=!0),s.firstContext=null)}function Or(s){var a=s._currentValue;if(Ry!==s)if(s={context:s,memoizedValue:a,next:null},Dl===null){if(jf===null)throw Error(t(308));Dl=s,jf.dependencies={lanes:0,firstContext:s}}else Dl=Dl.next=s;return a}var aa=null;function Cy(s){aa===null?aa=[s]:aa.push(s)}function lI(s,a,c,p){var y=a.interleaved;return y===null?(c.next=c,Cy(a)):(c.next=y.next,y.next=c),a.interleaved=c,is(s,p)}function is(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Hs=!1;function ky(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uI(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ss(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ks(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Qe&2){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,is(s,c)}return y=p.interleaved,y===null?(a.next=a,Cy(p)):(a.next=y.next,y.next=a),p.interleaved=a,is(s,c)}function Uf(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Ls(s,c)}}function cI(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=P:w=w.next=P,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Bf(s,a,c,p){var y=s.updateQueue;Hs=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var z=U,ee=z.next;z.next=null,P===null?w=ee:P.next=ee,P=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==P&&(U===null?ce.firstBaseUpdate=ee:U.next=ee,ce.lastBaseUpdate=z))}if(w!==null){var he=y.baseState;P=0,ce=ee=z=null,U=w;do{var le=U.lane,we=U.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=s,Ae=U;switch(le=a,we=c,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){he=Se.call(we,he,le);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(we,he,le):Se,le==null)break e;he=de({},he,le);break e;case 2:Hs=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,le=y.effects,le===null?y.effects=[U]:le.push(U))}else we={eventTime:we,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(ee=ce=we,z=he):ce=ce.next=we,P|=le;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;le=U,U=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&(z=he),y.baseState=z,y.firstBaseUpdate=ee,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do P|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);ca|=P,s.lanes=P,s.memoizedState=he}}function dI(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var qc={},vi=$s(qc),Wc=$s(qc),Hc=$s(qc);function la(s){if(s===qc)throw Error(t(174));return s}function xy(s,a){switch(ct(Hc,a),ct(Wc,s),ct(vi,qc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:tn(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=tn(a,s)}pt(vi),ct(vi,a)}function Ll(){pt(vi),pt(Wc),pt(Hc)}function hI(s){la(Hc.current);var a=la(vi.current),c=tn(a,s.type);a!==c&&(ct(Wc,s),ct(vi,c))}function Ny(s){Wc.current===s&&(pt(vi),pt(Wc))}var At=$s(0);function zf(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Oy=[];function Dy(){for(var s=0;s<Oy.length;s++)Oy[s]._workInProgressVersionPrimary=null;Oy.length=0}var $f=$.ReactCurrentDispatcher,Vy=$.ReactCurrentBatchConfig,ua=0,bt=null,rn=null,cn=null,qf=!1,Kc=!1,Gc=0,BN=0;function An(){throw Error(t(321))}function Ly(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Zr(s[c],a[c]))return!1;return!0}function My(s,a,c,p,y,w){if(ua=w,bt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$f.current=s===null||s.memoizedState===null?WN:HN,s=c(p,y),Kc){w=0;do{if(Kc=!1,Gc=0,25<=w)throw Error(t(301));w+=1,cn=rn=null,a.updateQueue=null,$f.current=KN,s=c(p,y)}while(Kc)}if($f.current=Kf,a=rn!==null&&rn.next!==null,ua=0,cn=rn=bt=null,qf=!1,a)throw Error(t(300));return s}function Fy(){var s=Gc!==0;return Gc=0,s}function wi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?bt.memoizedState=cn=s:cn=cn.next=s,cn}function Dr(){if(rn===null){var s=bt.alternate;s=s!==null?s.memoizedState:null}else s=rn.next;var a=cn===null?bt.memoizedState:cn.next;if(a!==null)cn=a,rn=s;else{if(s===null)throw Error(t(310));rn=s,s={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},cn===null?bt.memoizedState=cn=s:cn=cn.next=s}return cn}function Qc(s,a){return typeof a=="function"?a(s):a}function jy(s){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=rn,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var U=P=null,z=null,ee=w;do{var ce=ee.lane;if((ua&ce)===ce)z!==null&&(z=z.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:s(p,ee.action);else{var he={lane:ce,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};z===null?(U=z=he,P=p):z=z.next=he,bt.lanes|=ce,ca|=ce}ee=ee.next}while(ee!==null&&ee!==w);z===null?P=p:z.next=U,Zr(p,a.memoizedState)||(Yn=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=z,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do w=y.lane,bt.lanes|=w,ca|=w,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Uy(s){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do w=s(w,P.action),P=P.next;while(P!==y);Zr(w,a.memoizedState)||(Yn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function fI(){}function pI(s,a){var c=bt,p=Dr(),y=a(),w=!Zr(p.memoizedState,y);if(w&&(p.memoizedState=y,Yn=!0),p=p.queue,By(yI.bind(null,c,p,s),[s]),p.getSnapshot!==a||w||cn!==null&&cn.memoizedState.tag&1){if(c.flags|=2048,Yc(9,gI.bind(null,c,p,y,a),void 0,null),dn===null)throw Error(t(349));ua&30||mI(c,a,y)}return y}function mI(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=bt.updateQueue,a===null?(a={lastEffect:null,stores:null},bt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function gI(s,a,c,p){a.value=c,a.getSnapshot=p,_I(a)&&vI(s)}function yI(s,a,c){return c(function(){_I(a)&&vI(s)})}function _I(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Zr(s,c)}catch{return!0}}function vI(s){var a=is(s,1);a!==null&&ii(a,s,1,-1)}function wI(s){var a=wi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:s},a.queue=s,s=s.dispatch=qN.bind(null,bt,s),[a.memoizedState,s]}function Yc(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=bt.updateQueue,a===null?(a={lastEffect:null,stores:null},bt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function EI(){return Dr().memoizedState}function Wf(s,a,c,p){var y=wi();bt.flags|=s,y.memoizedState=Yc(1|a,c,void 0,p===void 0?null:p)}function Hf(s,a,c,p){var y=Dr();p=p===void 0?null:p;var w=void 0;if(rn!==null){var P=rn.memoizedState;if(w=P.destroy,p!==null&&Ly(p,P.deps)){y.memoizedState=Yc(a,c,w,p);return}}bt.flags|=s,y.memoizedState=Yc(1|a,c,w,p)}function II(s,a){return Wf(8390656,8,s,a)}function By(s,a){return Hf(2048,8,s,a)}function TI(s,a){return Hf(4,2,s,a)}function SI(s,a){return Hf(4,4,s,a)}function RI(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function AI(s,a,c){return c=c!=null?c.concat([s]):null,Hf(4,4,RI.bind(null,a,s),c)}function zy(){}function bI(s,a){var c=Dr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Ly(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function PI(s,a){var c=Dr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Ly(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function CI(s,a,c){return ua&21?(Zr(c,a)||(c=Xo(),bt.lanes|=c,ca|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,Yn=!0),s.memoizedState=c)}function zN(s,a){var c=qe;qe=c!==0&&4>c?c:4,s(!0);var p=Vy.transition;Vy.transition={};try{s(!1),a()}finally{qe=c,Vy.transition=p}}function kI(){return Dr().memoizedState}function $N(s,a,c){var p=Js(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},xI(s))NI(a,c);else if(c=lI(s,a,c,p),c!==null){var y=Fn();ii(c,s,p,y),OI(c,a,p)}}function qN(s,a,c){var p=Js(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(xI(s))NI(a,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var P=a.lastRenderedState,U=w(P,c);if(y.hasEagerState=!0,y.eagerState=U,Zr(U,P)){var z=a.interleaved;z===null?(y.next=y,Cy(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch{}finally{}c=lI(s,a,y,p),c!==null&&(y=Fn(),ii(c,s,p,y),OI(c,a,p))}}function xI(s){var a=s.alternate;return s===bt||a!==null&&a===bt}function NI(s,a){Kc=qf=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function OI(s,a,c){if(c&4194240){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Ls(s,c)}}var Kf={readContext:Or,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},WN={readContext:Or,useCallback:function(s,a){return wi().memoizedState=[s,a===void 0?null:a],s},useContext:Or,useEffect:II,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Wf(4194308,4,RI.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Wf(4194308,4,s,a)},useInsertionEffect:function(s,a){return Wf(4,2,s,a)},useMemo:function(s,a){var c=wi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=wi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=$N.bind(null,bt,s),[p.memoizedState,s]},useRef:function(s){var a=wi();return s={current:s},a.memoizedState=s},useState:wI,useDebugValue:zy,useDeferredValue:function(s){return wi().memoizedState=s},useTransition:function(){var s=wI(!1),a=s[0];return s=zN.bind(null,s[1]),wi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=bt,y=wi();if(_t){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),dn===null)throw Error(t(349));ua&30||mI(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,II(yI.bind(null,p,w,s),[s]),p.flags|=2048,Yc(9,gI.bind(null,p,w,c,a),void 0,null),c},useId:function(){var s=wi(),a=dn.identifierPrefix;if(_t){var c=rs,p=ns;c=(p&~(1<<32-Vn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Gc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=BN++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},HN={readContext:Or,useCallback:bI,useContext:Or,useEffect:By,useImperativeHandle:AI,useInsertionEffect:TI,useLayoutEffect:SI,useMemo:PI,useReducer:jy,useRef:EI,useState:function(){return jy(Qc)},useDebugValue:zy,useDeferredValue:function(s){var a=Dr();return CI(a,rn.memoizedState,s)},useTransition:function(){var s=jy(Qc)[0],a=Dr().memoizedState;return[s,a]},useMutableSource:fI,useSyncExternalStore:pI,useId:kI,unstable_isNewReconciler:!1},KN={readContext:Or,useCallback:bI,useContext:Or,useEffect:By,useImperativeHandle:AI,useInsertionEffect:TI,useLayoutEffect:SI,useMemo:PI,useReducer:Uy,useRef:EI,useState:function(){return Uy(Qc)},useDebugValue:zy,useDeferredValue:function(s){var a=Dr();return rn===null?a.memoizedState=s:CI(a,rn.memoizedState,s)},useTransition:function(){var s=Uy(Qc)[0],a=Dr().memoizedState;return[s,a]},useMutableSource:fI,useSyncExternalStore:pI,useId:kI,unstable_isNewReconciler:!1};function ti(s,a){if(s&&s.defaultProps){a=de({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function $y(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:de({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Gf={isMounted:function(s){return(s=s._reactInternals)?Hr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=Fn(),y=Js(s),w=ss(p,y);w.payload=a,c!=null&&(w.callback=c),a=Ks(s,w,y),a!==null&&(ii(a,s,y,p),Uf(a,s,y))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=Fn(),y=Js(s),w=ss(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=Ks(s,w,y),a!==null&&(ii(a,s,y,p),Uf(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Fn(),p=Js(s),y=ss(c,p);y.tag=2,a!=null&&(y.callback=a),a=Ks(s,y,p),a!==null&&(ii(a,s,p,c),Uf(a,s,p))}};function DI(s,a,c,p,y,w,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,P):a.prototype&&a.prototype.isPureReactComponent?!Lc(c,p)||!Lc(y,w):!0}function VI(s,a,c){var p=!1,y=qs,w=a.contextType;return typeof w=="object"&&w!==null?w=Or(w):(y=Qn(a)?ia:Rn.current,p=a.contextTypes,w=(p=p!=null)?Cl(s,y):qs),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Gf,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=w),a}function LI(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&Gf.enqueueReplaceState(a,a.state,null)}function qy(s,a,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},ky(s);var w=a.contextType;typeof w=="object"&&w!==null?y.context=Or(w):(w=Qn(a)?ia:Rn.current,y.context=Cl(s,w)),y.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&($y(s,a,w,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Gf.enqueueReplaceState(y,y.state,null),Bf(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Ml(s,a){try{var c="",p=a;do c+=Ve(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:y,digest:null}}function Wy(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Hy(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var GN=typeof WeakMap=="function"?WeakMap:Map;function MI(s,a,c){c=ss(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){tp||(tp=!0,a_=p),Hy(s,a)},c}function FI(s,a,c){c=ss(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){Hy(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Hy(s,a),typeof p!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function jI(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new GN;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),s=lO.bind(null,s,a,c),a.then(s,s))}function UI(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function BI(s,a,c,p,y){return s.mode&1?(s.flags|=65536,s.lanes=y,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ss(-1,1),a.tag=2,Ks(c,a,1))),c.lanes|=1),s)}var QN=$.ReactCurrentOwner,Yn=!1;function Mn(s,a,c,p){a.child=s===null?aI(a,null,c,p):Ol(a,s.child,c,p)}function zI(s,a,c,p,y){c=c.render;var w=a.ref;return Vl(a,y),p=My(s,a,c,p,w,y),c=Fy(),s!==null&&!Yn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,os(s,a,y)):(_t&&c&&wy(a),a.flags|=1,Mn(s,a,p,y),a.child)}function $I(s,a,c,p,y){if(s===null){var w=c.type;return typeof w=="function"&&!p_(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,qI(s,a,w,p,y)):(s=ap(c.type,null,p,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!(s.lanes&y)){var P=w.memoizedProps;if(c=c.compare,c=c!==null?c:Lc,c(P,p)&&s.ref===a.ref)return os(s,a,y)}return a.flags|=1,s=Zs(w,p),s.ref=a.ref,s.return=a,a.child=s}function qI(s,a,c,p,y){if(s!==null){var w=s.memoizedProps;if(Lc(w,p)&&s.ref===a.ref)if(Yn=!1,a.pendingProps=p=w,(s.lanes&y)!==0)s.flags&131072&&(Yn=!0);else return a.lanes=s.lanes,os(s,a,y)}return Ky(s,a,c,p,y)}function WI(s,a,c){var p=a.pendingProps,y=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(jl,fr),fr|=c;else{if(!(c&1073741824))return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ct(jl,fr),fr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,ct(jl,fr),fr|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,ct(jl,fr),fr|=p;return Mn(s,a,y,c),a.child}function HI(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Ky(s,a,c,p,y){var w=Qn(c)?ia:Rn.current;return w=Cl(a,w),Vl(a,y),c=My(s,a,c,p,w,y),p=Fy(),s!==null&&!Yn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,os(s,a,y)):(_t&&p&&wy(a),a.flags|=1,Mn(s,a,c,y),a.child)}function KI(s,a,c,p,y){if(Qn(c)){var w=!0;Nf(a)}else w=!1;if(Vl(a,y),a.stateNode===null)Yf(s,a),VI(a,c,p),qy(a,c,p,y),p=!0;else if(s===null){var P=a.stateNode,U=a.memoizedProps;P.props=U;var z=P.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Or(ee):(ee=Qn(c)?ia:Rn.current,ee=Cl(a,ee));var ce=c.getDerivedStateFromProps,he=typeof ce=="function"||typeof P.getSnapshotBeforeUpdate=="function";he||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(U!==p||z!==ee)&&LI(a,P,p,ee),Hs=!1;var le=a.memoizedState;P.state=le,Bf(a,p,P,y),z=a.memoizedState,U!==p||le!==z||Gn.current||Hs?(typeof ce=="function"&&($y(a,c,ce,p),z=a.memoizedState),(U=Hs||DI(a,c,U,p,le,z,ee))?(he||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),P.props=p,P.state=z,P.context=ee,p=U):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,uI(s,a),U=a.memoizedProps,ee=a.type===a.elementType?U:ti(a.type,U),P.props=ee,he=a.pendingProps,le=P.context,z=c.contextType,typeof z=="object"&&z!==null?z=Or(z):(z=Qn(c)?ia:Rn.current,z=Cl(a,z));var we=c.getDerivedStateFromProps;(ce=typeof we=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(U!==he||le!==z)&&LI(a,P,p,z),Hs=!1,le=a.memoizedState,P.state=le,Bf(a,p,P,y);var Se=a.memoizedState;U!==he||le!==Se||Gn.current||Hs?(typeof we=="function"&&($y(a,c,we,p),Se=a.memoizedState),(ee=Hs||DI(a,c,ee,p,le,Se,z)||!1)?(ce||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Se,z),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Se,z)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),P.props=p,P.state=Se,P.context=z,p=ee):(typeof P.componentDidUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),p=!1)}return Gy(s,a,c,p,w,y)}function Gy(s,a,c,p,y,w){HI(s,a);var P=(a.flags&128)!==0;if(!p&&!P)return y&&XE(a,c,!1),os(s,a,w);p=a.stateNode,QN.current=a;var U=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&P?(a.child=Ol(a,s.child,null,w),a.child=Ol(a,null,U,w)):Mn(s,a,U,w),a.memoizedState=p.state,y&&XE(a,c,!0),a.child}function GI(s){var a=s.stateNode;a.pendingContext?YE(s,a.pendingContext,a.pendingContext!==a.context):a.context&&YE(s,a.context,!1),xy(s,a.containerInfo)}function QI(s,a,c,p,y){return Nl(),Sy(y),a.flags|=256,Mn(s,a,c,p),a.child}var Qy={dehydrated:null,treeContext:null,retryLane:0};function Yy(s){return{baseLanes:s,cachePool:null,transitions:null}}function YI(s,a,c){var p=a.pendingProps,y=At.current,w=!1,P=(a.flags&128)!==0,U;if((U=P)||(U=s!==null&&s.memoizedState===null?!1:(y&2)!==0),U?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ct(At,y&1),s===null)return Ty(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(P=p.children,s=p.fallback,w?(p=a.mode,w=a.child,P={mode:"hidden",children:P},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=P):w=lp(P,p,0,null),s=pa(s,p,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=Yy(c),a.memoizedState=Qy,s):Jy(a,P));if(y=s.memoizedState,y!==null&&(U=y.dehydrated,U!==null))return YN(s,a,P,p,U,y,c);if(w){w=p.fallback,P=a.mode,y=s.child,U=y.sibling;var z={mode:"hidden",children:p.children};return!(P&1)&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=Zs(y,z),p.subtreeFlags=y.subtreeFlags&14680064),U!==null?w=Zs(U,w):(w=pa(w,P,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,P=s.child.memoizedState,P=P===null?Yy(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=s.childLanes&~c,a.memoizedState=Qy,p}return w=s.child,s=w.sibling,p=Zs(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Jy(s,a){return a=lp({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Qf(s,a,c,p){return p!==null&&Sy(p),Ol(a,s.child,null,c),s=Jy(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function YN(s,a,c,p,y,w,P){if(c)return a.flags&256?(a.flags&=-257,p=Wy(Error(t(422))),Qf(s,a,P,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=lp({mode:"visible",children:p.children},y,0,null),w=pa(w,y,P,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&Ol(a,s.child,null,P),a.child.memoizedState=Yy(P),a.memoizedState=Qy,w);if(!(a.mode&1))return Qf(s,a,P,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var U=p.dgst;return p=U,w=Error(t(419)),p=Wy(w,p,void 0),Qf(s,a,P,p)}if(U=(P&s.childLanes)!==0,Yn||U){if(p=dn,p!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|P)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,is(s,y),ii(p,s,y,-1))}return f_(),p=Wy(Error(t(421))),Qf(s,a,P,p)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=uO.bind(null,s),y._reactRetry=a,null):(s=w.treeContext,hr=zs(y.nextSibling),dr=a,_t=!0,ei=null,s!==null&&(xr[Nr++]=ns,xr[Nr++]=rs,xr[Nr++]=sa,ns=s.id,rs=s.overflow,sa=a),a=Jy(a,p.children),a.flags|=4096,a)}function JI(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Py(s.return,a,c)}function Xy(s,a,c,p,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function XI(s,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if(Mn(s,a,p.children,c),p=At.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&JI(s,c,a);else if(s.tag===19)JI(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ct(At,p),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)s=c.alternate,s!==null&&zf(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Xy(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&zf(s)===null){a.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Xy(a,!0,c,null,w);break;case"together":Xy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Yf(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function os(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),ca|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Zs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Zs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function JN(s,a,c){switch(a.tag){case 3:GI(a),Nl();break;case 5:hI(a);break;case 1:Qn(a.type)&&Nf(a);break;case 4:xy(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;ct(Ff,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ct(At,At.current&1),a.flags|=128,null):c&a.child.childLanes?YI(s,a,c):(ct(At,At.current&1),s=os(s,a,c),s!==null?s.sibling:null);ct(At,At.current&1);break;case 19:if(p=(c&a.childLanes)!==0,s.flags&128){if(p)return XI(s,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ct(At,At.current),p)break;return null;case 22:case 23:return a.lanes=0,WI(s,a,c)}return os(s,a,c)}var ZI,Zy,eT,tT;ZI=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Zy=function(){},eT=function(s,a,c,p){var y=s.memoizedProps;if(y!==p){s=a.stateNode,la(vi.current);var w=null;switch(c){case"input":y=Zt(s,y),p=Zt(s,p),w=[];break;case"select":y=de({},y,{value:void 0}),p=de({},p,{value:void 0}),w=[];break;case"textarea":y=dc(s,y),p=dc(s,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Cf)}yc(c,p);var P;c=null;for(ee in y)if(!p.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var U=y[ee];for(P in U)U.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?w||(w=[]):(w=w||[]).push(ee,null));for(ee in p){var z=p[ee];if(U=y!=null?y[ee]:void 0,p.hasOwnProperty(ee)&&z!==U&&(z!=null||U!=null))if(ee==="style")if(U){for(P in U)!U.hasOwnProperty(P)||z&&z.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in z)z.hasOwnProperty(P)&&U[P]!==z[P]&&(c||(c={}),c[P]=z[P])}else c||(w||(w=[]),w.push(ee,c)),c=z;else ee==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,U=U?U.__html:void 0,z!=null&&U!==z&&(w=w||[]).push(ee,z)):ee==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(ee,""+z):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(z!=null&&ee==="onScroll"&&ft("scroll",s),w||U===z||(w=[])):(w=w||[]).push(ee,z))}c&&(w=w||[]).push("style",c);var ee=w;(a.updateQueue=ee)&&(a.flags|=4)}},tT=function(s,a,c,p){c!==p&&(a.flags|=4)};function Jc(s,a){if(!_t)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function bn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function XN(s,a,c){var p=a.pendingProps;switch(Ey(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(a),null;case 1:return Qn(a.type)&&xf(),bn(a),null;case 3:return p=a.stateNode,Ll(),pt(Gn),pt(Rn),Dy(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Lf(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ei!==null&&(c_(ei),ei=null))),Zy(s,a),bn(a),null;case 5:Ny(a);var y=la(Hc.current);if(c=a.type,s!==null&&a.stateNode!=null)eT(s,a,c,p,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return bn(a),null}if(s=la(vi.current),Lf(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[_i]=a,p[Bc]=w,s=(a.mode&1)!==0,c){case"dialog":ft("cancel",p),ft("close",p);break;case"iframe":case"object":case"embed":ft("load",p);break;case"video":case"audio":for(y=0;y<Fc.length;y++)ft(Fc[y],p);break;case"source":ft("error",p);break;case"img":case"image":case"link":ft("error",p),ft("load",p);break;case"details":ft("toggle",p);break;case"input":$r(p,w),ft("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},ft("invalid",p);break;case"textarea":Za(p,w),ft("invalid",p)}yc(c,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var U=w[P];P==="children"?typeof U=="string"?p.textContent!==U&&(w.suppressHydrationWarning!==!0&&Pf(p.textContent,U,s),y=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&Pf(p.textContent,U,s),y=["children",""+U]):i.hasOwnProperty(P)&&U!=null&&P==="onScroll"&&ft("scroll",p)}switch(c){case"input":ln(p),qn(p,w,!0);break;case"textarea":ln(p),hc(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Cf)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=en(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=P.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=P.createElement(c,{is:p.is}):(s=P.createElement(c),c==="select"&&(P=s,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):s=P.createElementNS(s,c),s[_i]=a,s[Bc]=p,ZI(s,a,!1,!1),a.stateNode=s;e:{switch(P=_c(c,p),c){case"dialog":ft("cancel",s),ft("close",s),y=p;break;case"iframe":case"object":case"embed":ft("load",s),y=p;break;case"video":case"audio":for(y=0;y<Fc.length;y++)ft(Fc[y],s);y=p;break;case"source":ft("error",s),y=p;break;case"img":case"image":case"link":ft("error",s),ft("load",s),y=p;break;case"details":ft("toggle",s),y=p;break;case"input":$r(s,p),y=Zt(s,p),ft("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=de({},p,{value:void 0}),ft("invalid",s);break;case"textarea":Za(s,p),y=dc(s,p),ft("invalid",s);break;default:y=p}yc(c,y),U=y;for(w in U)if(U.hasOwnProperty(w)){var z=U[w];w==="style"?mc(s,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&fc(s,z)):w==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&xs(s,z):typeof z=="number"&&xs(s,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&ft("scroll",s):z!=null&&F(s,w,z,P))}switch(c){case"input":ln(s),qn(s,p,!1);break;case"textarea":ln(s),hc(s);break;case"option":p.value!=null&&s.setAttribute("value",""+$e(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?Hi(s,!!p.multiple,w,!1):p.defaultValue!=null&&Hi(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=Cf)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return bn(a),null;case 6:if(s&&a.stateNode!=null)tT(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=la(Hc.current),la(vi.current),Lf(a)){if(p=a.stateNode,c=a.memoizedProps,p[_i]=a,(w=p.nodeValue!==c)&&(s=dr,s!==null))switch(s.tag){case 3:Pf(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Pf(p.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[_i]=a,a.stateNode=p}return bn(a),null;case 13:if(pt(At),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_t&&hr!==null&&a.mode&1&&!(a.flags&128))iI(),Nl(),a.flags|=98560,w=!1;else if(w=Lf(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[_i]=a}else Nl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;bn(a),w=!1}else ei!==null&&(c_(ei),ei=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||At.current&1?sn===0&&(sn=3):f_())),a.updateQueue!==null&&(a.flags|=4),bn(a),null);case 4:return Ll(),Zy(s,a),s===null&&jc(a.stateNode.containerInfo),bn(a),null;case 10:return by(a.type._context),bn(a),null;case 17:return Qn(a.type)&&xf(),bn(a),null;case 19:if(pt(At),w=a.memoizedState,w===null)return bn(a),null;if(p=(a.flags&128)!==0,P=w.rendering,P===null)if(p)Jc(w,!1);else{if(sn!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(P=zf(s),P!==null){for(a.flags|=128,Jc(w,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,s=p,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,s=P.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ct(At,At.current&1|2),a.child}s=s.sibling}w.tail!==null&&ut()>Ul&&(a.flags|=128,p=!0,Jc(w,!1),a.lanes=4194304)}else{if(!p)if(s=zf(P),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Jc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!_t)return bn(a),null}else 2*ut()-w.renderingStartTime>Ul&&c!==1073741824&&(a.flags|=128,p=!0,Jc(w,!1),a.lanes=4194304);w.isBackwards?(P.sibling=a.child,a.child=P):(c=w.last,c!==null?c.sibling=P:a.child=P,w.last=P)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ut(),a.sibling=null,c=At.current,ct(At,p?c&1|2:c&1),a):(bn(a),null);case 22:case 23:return h_(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?fr&1073741824&&(bn(a),a.subtreeFlags&6&&(a.flags|=8192)):bn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function ZN(s,a){switch(Ey(a),a.tag){case 1:return Qn(a.type)&&xf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ll(),pt(Gn),pt(Rn),Dy(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Ny(a),null;case 13:if(pt(At),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Nl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return pt(At),null;case 4:return Ll(),null;case 10:return by(a.type._context),null;case 22:case 23:return h_(),null;case 24:return null;default:return null}}var Jf=!1,Pn=!1,eO=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Fl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Ot(s,a,p)}else c.current=null}function e_(s,a,c){try{c()}catch(p){Ot(s,a,p)}}var nT=!1;function tO(s,a){if(hy=js,s=DE(),iy(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var P=0,U=-1,z=-1,ee=0,ce=0,he=s,le=null;t:for(;;){for(var we;he!==c||y!==0&&he.nodeType!==3||(U=P+y),he!==w||p!==0&&he.nodeType!==3||(z=P+p),he.nodeType===3&&(P+=he.nodeValue.length),(we=he.firstChild)!==null;)le=he,he=we;for(;;){if(he===s)break t;if(le===c&&++ee===y&&(U=P),le===w&&++ce===p&&(z=P),(we=he.nextSibling)!==null)break;he=le,le=he.parentNode}he=we}c=U===-1||z===-1?null:{start:U,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(fy={focusedElem:s,selectionRange:c},js=!1,Ie=a;Ie!==null;)if(a=Ie,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ie=s;else for(;Ie!==null;){a=Ie;try{var Se=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,Ut=Se.memoizedState,Y=a.stateNode,H=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ae:ti(a.type,Ae),Ut);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Ot(a,a.return,ge)}if(s=a.sibling,s!==null){s.return=a.return,Ie=s;break}Ie=a.return}return Se=nT,nT=!1,Se}function Xc(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var w=y.destroy;y.destroy=void 0,w!==void 0&&e_(a,c,w)}y=y.next}while(y!==p)}}function Xf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function t_(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function rT(s){var a=s.alternate;a!==null&&(s.alternate=null,rT(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[_i],delete a[Bc],delete a[yy],delete a[MN],delete a[FN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function iT(s){return s.tag===5||s.tag===3||s.tag===4}function sT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||iT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function n_(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Cf));else if(p!==4&&(s=s.child,s!==null))for(n_(s,a,c),s=s.sibling;s!==null;)n_(s,a,c),s=s.sibling}function r_(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(r_(s,a,c),s=s.sibling;s!==null;)r_(s,a,c),s=s.sibling}var vn=null,ni=!1;function Gs(s,a,c){for(c=c.child;c!==null;)oT(s,a,c),c=c.sibling}function oT(s,a,c){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Yo,c)}catch{}switch(c.tag){case 5:Pn||Fl(c,a);case 6:var p=vn,y=ni;vn=null,Gs(s,a,c),vn=p,ni=y,vn!==null&&(ni?(s=vn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):vn.removeChild(c.stateNode));break;case 18:vn!==null&&(ni?(s=vn,c=c.stateNode,s.nodeType===8?gy(s.parentNode,c):s.nodeType===1&&gy(s,c),Jr(s)):gy(vn,c.stateNode));break;case 4:p=vn,y=ni,vn=c.stateNode.containerInfo,ni=!0,Gs(s,a,c),vn=p,ni=y;break;case 0:case 11:case 14:case 15:if(!Pn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&(w&2||w&4)&&e_(c,a,P),y=y.next}while(y!==p)}Gs(s,a,c);break;case 1:if(!Pn&&(Fl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(U){Ot(c,a,U)}Gs(s,a,c);break;case 21:Gs(s,a,c);break;case 22:c.mode&1?(Pn=(p=Pn)||c.memoizedState!==null,Gs(s,a,c),Pn=p):Gs(s,a,c);break;default:Gs(s,a,c)}}function aT(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new eO),a.forEach(function(p){var y=cO.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function ri(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=s,P=a,U=P;e:for(;U!==null;){switch(U.tag){case 5:vn=U.stateNode,ni=!1;break e;case 3:vn=U.stateNode.containerInfo,ni=!0;break e;case 4:vn=U.stateNode.containerInfo,ni=!0;break e}U=U.return}if(vn===null)throw Error(t(160));oT(w,P,y),vn=null,ni=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(ee){Ot(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)lT(a,s),a=a.sibling}function lT(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ri(a,s),Ei(s),p&4){try{Xc(3,s,s.return),Xf(3,s)}catch(Ae){Ot(s,s.return,Ae)}try{Xc(5,s,s.return)}catch(Ae){Ot(s,s.return,Ae)}}break;case 1:ri(a,s),Ei(s),p&512&&c!==null&&Fl(c,c.return);break;case 5:if(ri(a,s),Ei(s),p&512&&c!==null&&Fl(c,c.return),s.flags&32){var y=s.stateNode;try{xs(y,"")}catch(Ae){Ot(s,s.return,Ae)}}if(p&4&&(y=s.stateNode,y!=null)){var w=s.memoizedProps,P=c!==null?c.memoizedProps:w,U=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&Rr(y,w),_c(U,P);var ee=_c(U,w);for(P=0;P<z.length;P+=2){var ce=z[P],he=z[P+1];ce==="style"?mc(y,he):ce==="dangerouslySetInnerHTML"?fc(y,he):ce==="children"?xs(y,he):F(y,ce,he,ee)}switch(U){case"input":Ar(y,w);break;case"textarea":el(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?Hi(y,!!w.multiple,we,!1):le!==!!w.multiple&&(w.defaultValue!=null?Hi(y,!!w.multiple,w.defaultValue,!0):Hi(y,!!w.multiple,w.multiple?[]:"",!1))}y[Bc]=w}catch(Ae){Ot(s,s.return,Ae)}}break;case 6:if(ri(a,s),Ei(s),p&4){if(s.stateNode===null)throw Error(t(162));y=s.stateNode,w=s.memoizedProps;try{y.nodeValue=w}catch(Ae){Ot(s,s.return,Ae)}}break;case 3:if(ri(a,s),Ei(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Jr(a.containerInfo)}catch(Ae){Ot(s,s.return,Ae)}break;case 4:ri(a,s),Ei(s);break;case 13:ri(a,s),Ei(s),y=s.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(o_=ut())),p&4&&aT(s);break;case 22:if(ce=c!==null&&c.memoizedState!==null,s.mode&1?(Pn=(ee=Pn)||ce,ri(a,s),Pn=ee):ri(a,s),Ei(s),p&8192){if(ee=s.memoizedState!==null,(s.stateNode.isHidden=ee)&&!ce&&s.mode&1)for(Ie=s,ce=s.child;ce!==null;){for(he=Ie=ce;Ie!==null;){switch(le=Ie,we=le.child,le.tag){case 0:case 11:case 14:case 15:Xc(4,le,le.return);break;case 1:Fl(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){p=le,c=le.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ae){Ot(p,c,Ae)}}break;case 5:Fl(le,le.return);break;case 22:if(le.memoizedState!==null){dT(he);continue}}we!==null?(we.return=le,Ie=we):dT(he)}ce=ce.sibling}e:for(ce=null,he=s;;){if(he.tag===5){if(ce===null){ce=he;try{y=he.stateNode,ee?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=he.stateNode,z=he.memoizedProps.style,P=z!=null&&z.hasOwnProperty("display")?z.display:null,U.style.display=pc("display",P))}catch(Ae){Ot(s,s.return,Ae)}}}else if(he.tag===6){if(ce===null)try{he.stateNode.nodeValue=ee?"":he.memoizedProps}catch(Ae){Ot(s,s.return,Ae)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ce===he&&(ce=null),he=he.return}ce===he&&(ce=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ri(a,s),Ei(s),p&4&&aT(s);break;case 21:break;default:ri(a,s),Ei(s)}}function Ei(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(iT(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(xs(y,""),p.flags&=-33);var w=sT(s);r_(s,w,y);break;case 3:case 4:var P=p.stateNode.containerInfo,U=sT(s);n_(s,U,P);break;default:throw Error(t(161))}}catch(z){Ot(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function nO(s,a,c){Ie=s,uT(s)}function uT(s,a,c){for(var p=(s.mode&1)!==0;Ie!==null;){var y=Ie,w=y.child;if(y.tag===22&&p){var P=y.memoizedState!==null||Jf;if(!P){var U=y.alternate,z=U!==null&&U.memoizedState!==null||Pn;U=Jf;var ee=Pn;if(Jf=P,(Pn=z)&&!ee)for(Ie=y;Ie!==null;)P=Ie,z=P.child,P.tag===22&&P.memoizedState!==null?hT(y):z!==null?(z.return=P,Ie=z):hT(y);for(;w!==null;)Ie=w,uT(w),w=w.sibling;Ie=y,Jf=U,Pn=ee}cT(s)}else y.subtreeFlags&8772&&w!==null?(w.return=y,Ie=w):cT(s)}}function cT(s){for(;Ie!==null;){var a=Ie;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Pn||Xf(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Pn)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:ti(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&dI(a,w,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}dI(a,P,c)}break;case 5:var U=a.stateNode;if(c===null&&a.flags&4){c=U;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var ce=ee.memoizedState;if(ce!==null){var he=ce.dehydrated;he!==null&&Jr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Pn||a.flags&512&&t_(a)}catch(le){Ot(a,a.return,le)}}if(a===s){Ie=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function dT(s){for(;Ie!==null;){var a=Ie;if(a===s){Ie=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function hT(s){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Xf(4,a)}catch(z){Ot(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(z){Ot(a,y,z)}}var w=a.return;try{t_(a)}catch(z){Ot(a,w,z)}break;case 5:var P=a.return;try{t_(a)}catch(z){Ot(a,P,z)}}}catch(z){Ot(a,a.return,z)}if(a===s){Ie=null;break}var U=a.sibling;if(U!==null){U.return=a.return,Ie=U;break}Ie=a.return}}var rO=Math.ceil,Zf=$.ReactCurrentDispatcher,i_=$.ReactCurrentOwner,Vr=$.ReactCurrentBatchConfig,Qe=0,dn=null,Ht=null,wn=0,fr=0,jl=$s(0),sn=0,Zc=null,ca=0,ep=0,s_=0,ed=null,Jn=null,o_=0,Ul=1/0,as=null,tp=!1,a_=null,Qs=null,np=!1,Ys=null,rp=0,td=0,l_=null,ip=-1,sp=0;function Fn(){return Qe&6?ut():ip!==-1?ip:ip=ut()}function Js(s){return s.mode&1?Qe&2&&wn!==0?wn&-wn:UN.transition!==null?(sp===0&&(sp=Xo()),sp):(s=qe,s!==0||(s=window.event,s=s===void 0?16:Cc(s.type)),s):1}function ii(s,a,c,p){if(50<td)throw td=0,l_=null,Error(t(185));Vs(s,c,p),(!(Qe&2)||s!==dn)&&(s===dn&&(!(Qe&2)&&(ep|=c),sn===4&&Xs(s,wn)),Xn(s,p),c===1&&Qe===0&&!(a.mode&1)&&(Ul=ut()+500,Of&&Ws()))}function Xn(s,a){var c=s.callbackNode;Qi(s,a);var p=Jo(s,s===dn?wn:0);if(p===0)c!==null&&Sc(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Sc(c),a===1)s.tag===0?jN(pT.bind(null,s)):ZE(pT.bind(null,s)),VN(function(){!(Qe&6)&&Ws()}),c=null;else{switch(Ms(p)){case 1:c=Qo;break;case 4:c=Ns;break;case 16:c=Pr;break;case 536870912:c=sf;break;default:c=Pr}c=IT(c,fT.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function fT(s,a){if(ip=-1,sp=0,Qe&6)throw Error(t(327));var c=s.callbackNode;if(Bl()&&s.callbackNode!==c)return null;var p=Jo(s,s===dn?wn:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=op(s,p);else{a=p;var y=Qe;Qe|=2;var w=gT();(dn!==s||wn!==a)&&(as=null,Ul=ut()+500,ha(s,a));do try{oO();break}catch(U){mT(s,U)}while(!0);Ay(),Zf.current=w,Qe=y,Ht!==null?a=0:(dn=null,wn=0,a=sn)}if(a!==0){if(a===2&&(y=lr(s),y!==0&&(p=y,a=u_(s,y))),a===1)throw c=Zc,ha(s,0),Xs(s,p),Xn(s,ut()),c;if(a===6)Xs(s,p);else{if(y=s.current.alternate,!(p&30)&&!iO(y)&&(a=op(s,p),a===2&&(w=lr(s),w!==0&&(p=w,a=u_(s,w))),a===1))throw c=Zc,ha(s,0),Xs(s,p),Xn(s,ut()),c;switch(s.finishedWork=y,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:fa(s,Jn,as);break;case 3:if(Xs(s,p),(p&130023424)===p&&(a=o_+500-ut(),10<a)){if(Jo(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){Fn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=my(fa.bind(null,s,Jn,as),a);break}fa(s,Jn,as);break;case 4:if(Xs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,y=-1;0<p;){var P=31-Vn(p);w=1<<P,P=a[P],P>y&&(y=P),p&=~w}if(p=y,p=ut()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*rO(p/1960))-p,10<p){s.timeoutHandle=my(fa.bind(null,s,Jn,as),p);break}fa(s,Jn,as);break;case 5:fa(s,Jn,as);break;default:throw Error(t(329))}}}return Xn(s,ut()),s.callbackNode===c?fT.bind(null,s):null}function u_(s,a){var c=ed;return s.current.memoizedState.isDehydrated&&(ha(s,a).flags|=256),s=op(s,a),s!==2&&(a=Jn,Jn=c,a!==null&&c_(a)),s}function c_(s){Jn===null?Jn=s:Jn.push.apply(Jn,s)}function iO(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Zr(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xs(s,a){for(a&=~s_,a&=~ep,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Vn(a),p=1<<c;s[c]=-1,a&=~p}}function pT(s){if(Qe&6)throw Error(t(327));Bl();var a=Jo(s,0);if(!(a&1))return Xn(s,ut()),null;var c=op(s,a);if(s.tag!==0&&c===2){var p=lr(s);p!==0&&(a=p,c=u_(s,p))}if(c===1)throw c=Zc,ha(s,0),Xs(s,a),Xn(s,ut()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,fa(s,Jn,as),Xn(s,ut()),null}function d_(s,a){var c=Qe;Qe|=1;try{return s(a)}finally{Qe=c,Qe===0&&(Ul=ut()+500,Of&&Ws())}}function da(s){Ys!==null&&Ys.tag===0&&!(Qe&6)&&Bl();var a=Qe;Qe|=1;var c=Vr.transition,p=qe;try{if(Vr.transition=null,qe=1,s)return s()}finally{qe=p,Vr.transition=c,Qe=a,!(Qe&6)&&Ws()}}function h_(){fr=jl.current,pt(jl)}function ha(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,DN(c)),Ht!==null)for(c=Ht.return;c!==null;){var p=c;switch(Ey(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&xf();break;case 3:Ll(),pt(Gn),pt(Rn),Dy();break;case 5:Ny(p);break;case 4:Ll();break;case 13:pt(At);break;case 19:pt(At);break;case 10:by(p.type._context);break;case 22:case 23:h_()}c=c.return}if(dn=s,Ht=s=Zs(s.current,null),wn=fr=a,sn=0,Zc=null,s_=ep=ca=0,Jn=ed=null,aa!==null){for(a=0;a<aa.length;a++)if(c=aa[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var P=w.next;w.next=y,p.next=P}c.pending=p}aa=null}return s}function mT(s,a){do{var c=Ht;try{if(Ay(),$f.current=Kf,qf){for(var p=bt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}qf=!1}if(ua=0,cn=rn=bt=null,Kc=!1,Gc=0,i_.current=null,c===null||c.return===null){sn=1,Zc=a,Ht=null;break}e:{var w=s,P=c.return,U=c,z=a;if(a=wn,U.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ee=z,ce=U,he=ce.tag;if(!(ce.mode&1)&&(he===0||he===11||he===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=UI(P);if(we!==null){we.flags&=-257,BI(we,P,U,w,a),we.mode&1&&jI(w,ee,a),a=we,z=ee;var Se=a.updateQueue;if(Se===null){var Ae=new Set;Ae.add(z),a.updateQueue=Ae}else Se.add(z);break e}else{if(!(a&1)){jI(w,ee,a),f_();break e}z=Error(t(426))}}else if(_t&&U.mode&1){var Ut=UI(P);if(Ut!==null){!(Ut.flags&65536)&&(Ut.flags|=256),BI(Ut,P,U,w,a),Sy(Ml(z,U));break e}}w=z=Ml(z,U),sn!==4&&(sn=2),ed===null?ed=[w]:ed.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=MI(w,z,a);cI(w,Y);break e;case 1:U=z;var H=w.type,J=w.stateNode;if(!(w.flags&128)&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Qs===null||!Qs.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var ge=FI(w,U,a);cI(w,ge);break e}}w=w.return}while(w!==null)}_T(c)}catch(be){a=be,Ht===c&&c!==null&&(Ht=c=c.return);continue}break}while(!0)}function gT(){var s=Zf.current;return Zf.current=Kf,s===null?Kf:s}function f_(){(sn===0||sn===3||sn===2)&&(sn=4),dn===null||!(ca&268435455)&&!(ep&268435455)||Xs(dn,wn)}function op(s,a){var c=Qe;Qe|=2;var p=gT();(dn!==s||wn!==a)&&(as=null,ha(s,a));do try{sO();break}catch(y){mT(s,y)}while(!0);if(Ay(),Qe=c,Zf.current=p,Ht!==null)throw Error(t(261));return dn=null,wn=0,sn}function sO(){for(;Ht!==null;)yT(Ht)}function oO(){for(;Ht!==null&&!nf();)yT(Ht)}function yT(s){var a=ET(s.alternate,s,fr);s.memoizedProps=s.pendingProps,a===null?_T(s):Ht=a,i_.current=null}function _T(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=ZN(c,a),c!==null){c.flags&=32767,Ht=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{sn=6,Ht=null;return}}else if(c=XN(c,a,fr),c!==null){Ht=c;return}if(a=a.sibling,a!==null){Ht=a;return}Ht=a=s}while(a!==null);sn===0&&(sn=5)}function fa(s,a,c){var p=qe,y=Vr.transition;try{Vr.transition=null,qe=1,aO(s,a,c,p)}finally{Vr.transition=y,qe=p}return null}function aO(s,a,c,p){do Bl();while(Ys!==null);if(Qe&6)throw Error(t(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(ot(s,w),s===dn&&(Ht=dn=null,wn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||np||(np=!0,IT(Pr,function(){return Bl(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=Vr.transition,Vr.transition=null;var P=qe;qe=1;var U=Qe;Qe|=4,i_.current=null,tO(s,c),lT(c,s),bN(fy),js=!!hy,fy=hy=null,s.current=c,nO(c),Yg(),Qe=U,qe=P,Vr.transition=w}else s.current=c;if(np&&(np=!1,Ys=s,rp=y),w=s.pendingLanes,w===0&&(Qs=null),of(c.stateNode),Xn(s,ut()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(tp)throw tp=!1,s=a_,a_=null,s;return rp&1&&s.tag!==0&&Bl(),w=s.pendingLanes,w&1?s===l_?td++:(td=0,l_=s):td=0,Ws(),null}function Bl(){if(Ys!==null){var s=Ms(rp),a=Vr.transition,c=qe;try{if(Vr.transition=null,qe=16>s?16:s,Ys===null)var p=!1;else{if(s=Ys,Ys=null,rp=0,Qe&6)throw Error(t(331));var y=Qe;for(Qe|=4,Ie=s.current;Ie!==null;){var w=Ie,P=w.child;if(Ie.flags&16){var U=w.deletions;if(U!==null){for(var z=0;z<U.length;z++){var ee=U[z];for(Ie=ee;Ie!==null;){var ce=Ie;switch(ce.tag){case 0:case 11:case 15:Xc(8,ce,w)}var he=ce.child;if(he!==null)he.return=ce,Ie=he;else for(;Ie!==null;){ce=Ie;var le=ce.sibling,we=ce.return;if(rT(ce),ce===ee){Ie=null;break}if(le!==null){le.return=we,Ie=le;break}Ie=we}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var Ut=Ae.sibling;Ae.sibling=null,Ae=Ut}while(Ae!==null)}}Ie=w}}if(w.subtreeFlags&2064&&P!==null)P.return=w,Ie=P;else e:for(;Ie!==null;){if(w=Ie,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Xc(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ie=Y;break e}Ie=w.return}}var H=s.current;for(Ie=H;Ie!==null;){P=Ie;var J=P.child;if(P.subtreeFlags&2064&&J!==null)J.return=P,Ie=J;else e:for(P=H;Ie!==null;){if(U=Ie,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:Xf(9,U)}}catch(be){Ot(U,U.return,be)}if(U===P){Ie=null;break e}var ge=U.sibling;if(ge!==null){ge.return=U.return,Ie=ge;break e}Ie=U.return}}if(Qe=y,Ws(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Yo,s)}catch{}p=!0}return p}finally{qe=c,Vr.transition=a}}return!1}function vT(s,a,c){a=Ml(c,a),a=MI(s,a,1),s=Ks(s,a,1),a=Fn(),s!==null&&(Vs(s,1,a),Xn(s,a))}function Ot(s,a,c){if(s.tag===3)vT(s,s,c);else for(;a!==null;){if(a.tag===3){vT(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Qs===null||!Qs.has(p))){s=Ml(c,s),s=FI(a,s,1),a=Ks(a,s,1),s=Fn(),a!==null&&(Vs(a,1,s),Xn(a,s));break}}a=a.return}}function lO(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=Fn(),s.pingedLanes|=s.suspendedLanes&c,dn===s&&(wn&c)===c&&(sn===4||sn===3&&(wn&130023424)===wn&&500>ut()-o_?ha(s,0):s_|=c),Xn(s,a)}function wT(s,a){a===0&&(s.mode&1?(a=cl,cl<<=1,!(cl&130023424)&&(cl=4194304)):a=1);var c=Fn();s=is(s,a),s!==null&&(Vs(s,a,c),Xn(s,c))}function uO(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),wT(s,c)}function cO(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),wT(s,c)}var ET;ET=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Gn.current)Yn=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return Yn=!1,JN(s,a,c);Yn=!!(s.flags&131072)}else Yn=!1,_t&&a.flags&1048576&&eI(a,Vf,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Yf(s,a),s=a.pendingProps;var y=Cl(a,Rn.current);Vl(a,c),y=My(null,a,p,s,y,c);var w=Fy();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Qn(p)?(w=!0,Nf(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,ky(a),y.updater=Gf,a.stateNode=y,y._reactInternals=a,qy(a,p,s,c),a=Gy(null,a,p,!0,w,c)):(a.tag=0,_t&&w&&wy(a),Mn(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Yf(s,a),s=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=hO(p),s=ti(p,s),y){case 0:a=Ky(null,a,p,s,c);break e;case 1:a=KI(null,a,p,s,c);break e;case 11:a=zI(null,a,p,s,c);break e;case 14:a=$I(null,a,p,ti(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ti(p,y),Ky(s,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ti(p,y),KI(s,a,p,y,c);case 3:e:{if(GI(a),s===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,uI(s,a),Bf(a,p,null,c);var P=a.memoizedState;if(p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=Ml(Error(t(423)),a),a=QI(s,a,p,c,y);break e}else if(p!==y){y=Ml(Error(t(424)),a),a=QI(s,a,p,c,y);break e}else for(hr=zs(a.stateNode.containerInfo.firstChild),dr=a,_t=!0,ei=null,c=aI(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Nl(),p===y){a=os(s,a,c);break e}Mn(s,a,p,c)}a=a.child}return a;case 5:return hI(a),s===null&&Ty(a),p=a.type,y=a.pendingProps,w=s!==null?s.memoizedProps:null,P=y.children,py(p,y)?P=null:w!==null&&py(p,w)&&(a.flags|=32),HI(s,a),Mn(s,a,P,c),a.child;case 6:return s===null&&Ty(a),null;case 13:return YI(s,a,c);case 4:return xy(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Ol(a,null,p,c):Mn(s,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ti(p,y),zI(s,a,p,y,c);case 7:return Mn(s,a,a.pendingProps,c),a.child;case 8:return Mn(s,a,a.pendingProps.children,c),a.child;case 12:return Mn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,P=y.value,ct(Ff,p._currentValue),p._currentValue=P,w!==null)if(Zr(w.value,P)){if(w.children===y.children&&!Gn.current){a=os(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var U=w.dependencies;if(U!==null){P=w.child;for(var z=U.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=ss(-1,c&-c),z.tag=2;var ee=w.updateQueue;if(ee!==null){ee=ee.shared;var ce=ee.pending;ce===null?z.next=z:(z.next=ce.next,ce.next=z),ee.pending=z}}w.lanes|=c,z=w.alternate,z!==null&&(z.lanes|=c),Py(w.return,c,a),U.lanes|=c;break}z=z.next}}else if(w.tag===10)P=w.type===a.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(t(341));P.lanes|=c,U=P.alternate,U!==null&&(U.lanes|=c),Py(P,c,a),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===a){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}Mn(s,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Vl(a,c),y=Or(y),p=p(y),a.flags|=1,Mn(s,a,p,c),a.child;case 14:return p=a.type,y=ti(p,a.pendingProps),y=ti(p.type,y),$I(s,a,p,y,c);case 15:return qI(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ti(p,y),Yf(s,a),a.tag=1,Qn(p)?(s=!0,Nf(a)):s=!1,Vl(a,c),VI(a,p,y),qy(a,p,y,c),Gy(null,a,p,!0,s,c);case 19:return XI(s,a,c);case 22:return WI(s,a,c)}throw Error(t(156,a.tag))};function IT(s,a){return ll(s,a)}function dO(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(s,a,c,p){return new dO(s,a,c,p)}function p_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hO(s){if(typeof s=="function")return p_(s)?1:0;if(s!=null){if(s=s.$$typeof,s===k)return 11;if(s===j)return 14}return 2}function Zs(s,a){var c=s.alternate;return c===null?(c=Lr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function ap(s,a,c,p,y,w){var P=2;if(p=s,typeof s=="function")p_(s)&&(P=1);else if(typeof s=="string")P=5;else e:switch(s){case V:return pa(c.children,y,w,a);case A:P=8,y|=8;break;case C:return s=Lr(12,c,a,y|2),s.elementType=C,s.lanes=w,s;case N:return s=Lr(13,c,a,y),s.elementType=N,s.lanes=w,s;case X:return s=Lr(19,c,a,y),s.elementType=X,s.lanes=w,s;case oe:return lp(c,y,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:P=10;break e;case x:P=9;break e;case k:P=11;break e;case j:P=14;break e;case me:P=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Lr(P,c,a,y),a.elementType=s,a.type=p,a.lanes=w,a}function pa(s,a,c,p){return s=Lr(7,s,p,a),s.lanes=c,s}function lp(s,a,c,p){return s=Lr(22,s,p,a),s.elementType=oe,s.lanes=c,s.stateNode={isHidden:!1},s}function m_(s,a,c){return s=Lr(6,s,null,a),s.lanes=c,s}function g_(s,a,c){return a=Lr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function fO(s,a,c,p,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ds(0),this.expirationTimes=Ds(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ds(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function y_(s,a,c,p,y,w,P,U,z){return s=new fO(s,a,c,U,z),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Lr(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ky(w),s}function pO(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function TT(s){if(!s)return qs;s=s._reactInternals;e:{if(Hr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Qn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Qn(c))return JE(s,c,a)}return a}function ST(s,a,c,p,y,w,P,U,z){return s=y_(c,p,!0,s,y,w,P,U,z),s.context=TT(null),c=s.current,p=Fn(),y=Js(c),w=ss(p,y),w.callback=a??null,Ks(c,w,y),s.current.lanes=y,Vs(s,y,p),Xn(s,p),s}function up(s,a,c,p){var y=a.current,w=Fn(),P=Js(y);return c=TT(c),a.context===null?a.context=c:a.pendingContext=c,a=ss(w,P),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Ks(y,a,P),s!==null&&(ii(s,y,P,w),Uf(s,y,P)),P}function cp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function RT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function __(s,a){RT(s,a),(s=s.alternate)&&RT(s,a)}function mO(){return null}var AT=typeof reportError=="function"?reportError:function(s){console.error(s)};function v_(s){this._internalRoot=s}dp.prototype.render=v_.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));up(s,a,null,null)},dp.prototype.unmount=v_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;da(function(){up(null,s,null,null)}),a[es]=null}};function dp(s){this._internalRoot=s}dp.prototype.unstable_scheduleHydration=function(s){if(s){var a=df();s={blockedOn:null,target:s,priority:a};for(var c=0;c<pi.length&&a!==0&&a<pi[c].priority;c++);pi.splice(c,0,s),c===0&&pf(s)}};function w_(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function hp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function bT(){}function gO(s,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var ee=cp(P);w.call(ee)}}var P=ST(a,p,s,0,null,!1,!1,"",bT);return s._reactRootContainer=P,s[es]=P.current,jc(s.nodeType===8?s.parentNode:s),da(),P}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var U=p;p=function(){var ee=cp(z);U.call(ee)}}var z=y_(s,0,!1,null,null,!1,!1,"",bT);return s._reactRootContainer=z,s[es]=z.current,jc(s.nodeType===8?s.parentNode:s),da(function(){up(a,z,c,p)}),z}function fp(s,a,c,p,y){var w=c._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var U=y;y=function(){var z=cp(P);U.call(z)}}up(a,P,s,y)}else P=gO(c,a,s,y,p);return cp(P)}uf=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Os(a.pendingLanes);c!==0&&(Ls(a,c|1),Xn(a,ut()),!(Qe&6)&&(Ul=ut()+500,Ws()))}break;case 13:da(function(){var p=is(s,1);if(p!==null){var y=Fn();ii(p,s,1,y)}}),__(s,1)}},dl=function(s){if(s.tag===13){var a=is(s,134217728);if(a!==null){var c=Fn();ii(a,s,134217728,c)}__(s,134217728)}},cf=function(s){if(s.tag===13){var a=Js(s),c=is(s,a);if(c!==null){var p=Fn();ii(c,s,a,p)}__(s,a)}},df=function(){return qe},hf=function(s,a){var c=qe;try{return qe=s,a()}finally{qe=c}},nl=function(s,a,c){switch(a){case"input":if(Ar(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var y=kf(p);if(!y)throw Error(t(90));tt(p),Ar(p,y)}}}break;case"textarea":el(s,c);break;case"select":a=c.value,a!=null&&Hi(s,!!c.multiple,a,!1)}},Wo=d_,wc=da;var yO={usingClientEntryPoint:!1,Events:[zc,bl,kf,hi,vc,d_]},nd={findFiberByHostInstance:ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_O={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tc(s),s===null?null:s.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||mO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pp.isDisabled&&pp.supportsFiber)try{Yo=pp.inject(_O),ar=pp}catch{}}return Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yO,Zn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w_(a))throw Error(t(200));return pO(s,a,null,c)},Zn.createRoot=function(s,a){if(!w_(s))throw Error(t(299));var c=!1,p="",y=AT;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=y_(s,1,!1,null,null,c,!1,p,y),s[es]=a.current,jc(s.nodeType===8?s.parentNode:s),new v_(a)},Zn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Tc(a),s=s===null?null:s.stateNode,s},Zn.flushSync=function(s){return da(s)},Zn.hydrate=function(s,a,c){if(!hp(a))throw Error(t(200));return fp(null,s,a,!0,c)},Zn.hydrateRoot=function(s,a,c){if(!w_(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",P=AT;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=ST(a,null,s,1,c??null,y,!1,w,P),s[es]=a.current,jc(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new dp(a)},Zn.render=function(s,a,c){if(!hp(a))throw Error(t(200));return fp(null,s,a,!1,c)},Zn.unmountComponentAtNode=function(s){if(!hp(s))throw Error(t(40));return s._reactRootContainer?(da(function(){fp(null,null,s,!1,function(){s._reactRootContainer=null,s[es]=null})}),!0):!1},Zn.unstable_batchedUpdates=d_,Zn.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!hp(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return fp(s,a,c,!1,p)},Zn.version="18.3.1-next-f1338f8080-20240426",Zn}var VT;function bO(){if(VT)return T_.exports;VT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),T_.exports=AO(),T_.exports}var LT;function PO(){if(LT)return mp;LT=1;var n=bO();return mp.createRoot=n.createRoot,mp.hydrateRoot=n.hydrateRoot,mp}var CO=PO(),id={},MT;function kO(){if(MT)return id;MT=1,Object.defineProperty(id,"__esModule",{value:!0}),id.parse=l,id.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const I=new o,R=_.length;if(R<2)return I;const b=(T==null?void 0:T.decode)||m;let M=0;do{const L=_.indexOf("=",M);if(L===-1)break;const F=_.indexOf(";",M),$=F===-1?R:F;if(L>$){M=_.lastIndexOf(";",L-1)+1;continue}const B=u(_,M,L),q=d(_,L,B),V=_.slice(B,q);if(I[V]===void 0){let A=u(_,L+1,$),C=d(_,$,A);const E=b(_.slice(A,C));I[V]=E}M=$+1}while(M<R);return I}function u(_,T,I){do{const R=_.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<I);return I}function d(_,T,I){for(;T>I;){const R=_.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return I}function f(_,T,I){const R=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const b=R(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let M=_+"="+b;if(!I)return M;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);M+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);M+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);M+="; Path="+I.path}if(I.expires){if(!g(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);M+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(M+="; HttpOnly"),I.secure&&(M+="; Secure"),I.partitioned&&(M+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return M}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return id}kO();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var FT="popstate";function xO(n={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return uv("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Yd(i)}return OO(e,t,null,n)}function Ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NO(){return Math.random().toString(36).substring(2,10)}function jT(n,e){return{usr:n.state,key:n.key,idx:e}}function uv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?qu(e):e,state:t,key:e&&e.key||r||NO()}}function Yd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function qu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function OO(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let b=m(),M=b==null?null:b-f;f=b,d&&d({action:u,location:R.location,delta:M})}function _(b,M){u="PUSH";let L=uv(R.location,b,M);f=m()+1;let F=jT(L,f),$=R.createHref(L);try{l.pushState(F,"",$)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign($)}o&&d&&d({action:u,location:R.location,delta:1})}function T(b,M){u="REPLACE";let L=uv(R.location,b,M);f=m();let F=jT(L,f),$=R.createHref(L);l.replaceState(F,"",$),o&&d&&d({action:u,location:R.location,delta:0})}function I(b){let M=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof b=="string"?b:Yd(b);return L=L.replace(/ $/,"%20"),Ct(M,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,M)}let R={get action(){return u},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(FT,g),d=b,()=>{i.removeEventListener(FT,g),d=null}},createHref(b){return e(i,b)},createURL:I,encodeLocation(b){let M=I(b);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:T,go(b){return l.go(b)}};return R}function fb(n,e,t="/"){return DO(n,e,t,!1)}function DO(n,e,t,r){let i=typeof e=="string"?qu(e):e,o=yo(i.pathname||"/",t);if(o==null)return null;let l=pb(n);VO(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=HO(o);u=qO(l[d],f,r)}return u}function pb(n,e=[],t=[],r=""){let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Ct(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=gs([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(Ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),pb(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:zO(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of mb(o.path))i(o,l,d)}),e}function mb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=mb(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function VO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$O(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var LO=/^:[\w-]+$/,MO=3,FO=2,jO=1,UO=10,BO=-2,UT=n=>n==="*";function zO(n,e){let t=n.split("/"),r=t.length;return t.some(UT)&&(r+=BO),e&&(r+=FO),t.filter(i=>!UT(i)).reduce((i,o)=>i+(LO.test(o)?MO:o===""?jO:UO),r)}function $O(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function qO(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=im({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),_=d.route;if(!g&&f&&t&&!r[r.length-1].route.index&&(g=im({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:gs([o,g.pathname]),pathnameBase:YO(gs([o,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(o=gs([o,g.pathnameBase]))}return l}function im(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=WO(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},_)=>{if(m==="*"){let I=u[_]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const T=u[_];return g&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function WO(n,e=!1,t=!0){Fi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function KO(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?qu(n):n;return{pathname:t?t.startsWith("/")?t:GO(t,e):e,search:JO(r),hash:XO(i)}}function GO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function A_(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gb(n){let e=QO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function yb(n,e,t,r=!1){let i;typeof n=="string"?i=qu(n):(i={...n},Ct(!i.pathname||!i.pathname.includes("?"),A_("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),A_("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),A_("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=KO(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var gs=n=>n.join("/").replace(/\/\/+/g,"/"),YO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),JO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _b=["POST","PUT","PATCH","DELETE"];new Set(_b);var eD=["GET",..._b];new Set(eD);var Wu=K.createContext(null);Wu.displayName="DataRouter";var Um=K.createContext(null);Um.displayName="DataRouterState";var vb=K.createContext({isTransitioning:!1});vb.displayName="ViewTransition";var tD=K.createContext(new Map);tD.displayName="Fetchers";var nD=K.createContext(null);nD.displayName="Await";var qi=K.createContext(null);qi.displayName="Navigation";var Sh=K.createContext(null);Sh.displayName="Location";var Wi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var gw=K.createContext(null);gw.displayName="RouteError";function rD(n,{relative:e}={}){Ct(Rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(qi),{hash:i,pathname:o,search:l}=Ah(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:gs([t,o])),r.createHref({pathname:u,search:l,hash:i})}function Rh(){return K.useContext(Sh)!=null}function Do(){return Ct(Rh(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Sh).location}var wb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Eb(n){K.useContext(qi).static||K.useLayoutEffect(n)}function Bm(){let{isDataRoute:n}=K.useContext(Wi);return n?gD():iD()}function iD(){Ct(Rh(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(Wu),{basename:e,navigator:t}=K.useContext(qi),{matches:r}=K.useContext(Wi),{pathname:i}=Do(),o=JSON.stringify(gb(r)),l=K.useRef(!1);return Eb(()=>{l.current=!0}),K.useCallback((d,f={})=>{if(Fi(l.current,wb),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=yb(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:gs([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,i,n])}K.createContext(null);function Ib(){let{matches:n}=K.useContext(Wi),e=n[n.length-1];return e?e.params:{}}function Ah(n,{relative:e}={}){let{matches:t}=K.useContext(Wi),{pathname:r}=Do(),i=JSON.stringify(gb(t));return K.useMemo(()=>yb(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function sD(n,e){return Tb(n,e)}function Tb(n,e,t,r){var L;Ct(Rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=K.useContext(qi),{matches:l}=K.useContext(Wi),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let F=g&&g.path||"";Sb(f,!g||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Do(),T;if(e){let F=typeof e=="string"?qu(e):e;Ct(m==="/"||((L=F.pathname)==null?void 0:L.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${F.pathname}" was given in the \`location\` prop.`),T=F}else T=_;let I=T.pathname||"/",R=I;if(m!=="/"){let F=m.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let b=!o&&t&&t.matches&&t.matches.length>0?t.matches:fb(n,{pathname:R});Fi(g||b!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Fi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=cD(b&&b.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:gs([m,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:gs([m,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,t,r);return e&&M?K.createElement(Sh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},M):M}function oD(){let n=mD(),e=ZO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:o},"ErrorBoundary")," or"," ",K.createElement("code",{style:o},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,l)}var aD=K.createElement(oD,null),lD=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Wi.Provider,{value:this.props.routeContext},K.createElement(gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uD({routeContext:n,match:e,children:t}){let r=K.useContext(Wu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Wi.Provider,{value:n},t)}function cD(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=t,_=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let g,_=!1,T=null,I=null;t&&(g=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||aD,l&&(u<0&&m===0?(Sb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,I=null):u===m&&(_=!0,I=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),b=()=>{let M;return g?M=T:_?M=I:f.route.Component?M=K.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=d,K.createElement(uD,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:M})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?K.createElement(lD,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:b(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):b()},null)}function yw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dD(n){let e=K.useContext(Wu);return Ct(e,yw(n)),e}function hD(n){let e=K.useContext(Um);return Ct(e,yw(n)),e}function fD(n){let e=K.useContext(Wi);return Ct(e,yw(n)),e}function _w(n){let e=fD(n),t=e.matches[e.matches.length-1];return Ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function pD(){return _w("useRouteId")}function mD(){var r;let n=K.useContext(gw),e=hD("useRouteError"),t=_w("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function gD(){let{router:n}=dD("useNavigate"),e=_w("useNavigate"),t=K.useRef(!1);return Eb(()=>{t.current=!0}),K.useCallback(async(i,o={})=>{Fi(t.current,wb),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var BT={};function Sb(n,e,t){!e&&!BT[n]&&(BT[n]=!0,Fi(!1,t))}K.memo(yD);function yD({routes:n,future:e,state:t}){return Tb(n,void 0,t,e)}function oo(n){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _D({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Ct(!Rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=qu(t));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:_="default"}=t,T=K.useMemo(()=>{let I=yo(d,l);return I==null?null:{location:{pathname:I,search:f,hash:m,state:g,key:_},navigationType:r}},[l,d,f,m,g,_,r]);return Fi(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:K.createElement(qi.Provider,{value:u},K.createElement(Sh.Provider,{children:e,value:T}))}function vD({children:n,location:e}){return sD(cv(n),e)}function cv(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let o=[...e,i];if(r.type===K.Fragment){t.push.apply(t,cv(r.props.children,o));return}Ct(r.type===oo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=cv(r.props.children,o)),t.push(l)}),t}var Op="get",Dp="application/x-www-form-urlencoded";function zm(n){return n!=null&&typeof n.tagName=="string"}function wD(n){return zm(n)&&n.tagName.toLowerCase()==="button"}function ED(n){return zm(n)&&n.tagName.toLowerCase()==="form"}function ID(n){return zm(n)&&n.tagName.toLowerCase()==="input"}function TD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SD(n,e){return n.button===0&&(!e||e==="_self")&&!TD(n)}var gp=null;function RD(){if(gp===null)try{new FormData(document.createElement("form"),0),gp=!1}catch{gp=!0}return gp}var AD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b_(n){return n!=null&&!AD.has(n)?(Fi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dp}"`),null):n}function bD(n,e){let t,r,i,o,l;if(ED(n)){let u=n.getAttribute("action");r=u?yo(u,e):null,t=n.getAttribute("method")||Op,i=b_(n.getAttribute("enctype"))||Dp,o=new FormData(n)}else if(wD(n)||ID(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?yo(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Op,i=b_(n.getAttribute("formenctype"))||b_(u.getAttribute("enctype"))||Dp,o=new FormData(u,n),!RD()){let{name:f,type:m,value:g}=n;if(m==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,g)}}else{if(zm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Op,r=null,i=Dp,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function vw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function PD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kD(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await PD(o,t);return l.links?l.links():[]}return[]}));return DD(r.flat(1).filter(CD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zT(n,e,t,r,i,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var m;return t[f].pathname!==d.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function xD(n,e){return ND(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function ND(n){return[...new Set(n)]}function OD(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function DD(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(OD(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function VD(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LD(){let n=K.useContext(Wu);return vw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MD(){let n=K.useContext(Um);return vw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ww=K.createContext(void 0);ww.displayName="FrameworkContext";function Rb(){let n=K.useContext(ww);return vw(n,"You must render this element inside a <HydratedRouter> element"),n}function FD(n,e){let t=K.useContext(ww),[r,i]=K.useState(!1),[o,l]=K.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,_=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=M=>{M.forEach(L=>{l(L.isIntersecting)})},b=new IntersectionObserver(R,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[n]),K.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:sd(u,T),onBlur:sd(d,I),onMouseEnter:sd(f,T),onMouseLeave:sd(m,I),onTouchStart:sd(g,T)}]:[!1,_,{}]}function sd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function jD({page:n,...e}){let{router:t}=LD(),r=K.useMemo(()=>fb(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(BD,{page:n,matches:r,...e}):null}function UD(n){let{manifest:e,routeModules:t}=Rb(),[r,i]=K.useState([]);return K.useEffect(()=>{let o=!1;return kD(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function BD({page:n,matches:e,...t}){let r=Do(),{manifest:i,routeModules:o}=Rb(),{loaderData:l,matches:u}=MD(),d=K.useMemo(()=>zT(n,e,u,i,r,"data"),[n,e,u,i,r]),f=K.useMemo(()=>zT(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(b=>{var L;let M=i.routes[b.route.id];!M||!M.hasLoader||(!d.some(F=>F.route.id===b.route.id)&&b.route.id in l&&((L=o[b.route.id])!=null&&L.shouldRevalidate)||M.hasClientLoader?I=!0:T.add(b.route.id))}),T.size===0)return[];let R=VD(n);return I&&T.size>0&&R.searchParams.set("_routes",e.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,o]),g=K.useMemo(()=>xD(f,i),[f,i]),_=UD(f);return K.createElement(K.Fragment,null,m.map(T=>K.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),g.map(T=>K.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:I})=>K.createElement("link",{key:T,...I})))}function zD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ab&&(window.__reactRouterVersion="7.1.5")}catch{}function $D({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=xO({window:t,v5Compat:!0}));let i=r.current,[o,l]=K.useState({action:i.action,location:i.location}),u=K.useCallback(d=>{K.startTransition(()=>l(d))},[l]);return K.useLayoutEffect(()=>i.listen(u),[i,u]),K.createElement(_D,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:g,..._},T){let{basename:I}=K.useContext(qi),R=typeof f=="string"&&bb.test(f),b,M=!1;if(typeof f=="string"&&R&&(b=f,Ab))try{let C=new URL(window.location.href),E=f.startsWith("//")?new URL(C.protocol+f):new URL(f),x=yo(E.pathname,I);E.origin===C.origin&&x!=null?f=x+E.search+E.hash:M=!0}catch{Fi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=rD(f,{relative:i}),[F,$,B]=FD(r,_),q=KD(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function V(C){e&&e(C),C.defaultPrevented||q(C)}let A=K.createElement("a",{..._,...B,href:b||L,onClick:M||o?e:V,ref:zD(T,$),target:d,"data-discover":!R&&t==="render"?"true":void 0});return F&&!R?K.createElement(K.Fragment,null,A,K.createElement(jD,{page:L})):A});ai.displayName="Link";var qD=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...f},m){let g=Ah(l,{relative:f.relative}),_=Do(),T=K.useContext(Um),{navigator:I,basename:R}=K.useContext(qi),b=T!=null&&XD(g)&&u===!0,M=I.encodeLocation?I.encodeLocation(g).pathname:g.pathname,L=_.pathname,F=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),F=F?F.toLowerCase():null,M=M.toLowerCase()),F&&R&&(F=yo(F,R)||F);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let B=L===M||!i&&L.startsWith(M)&&L.charAt($)==="/",q=F!=null&&(F===M||!i&&F.startsWith(M)&&F.charAt(M.length)==="/"),V={isActive:B,isPending:q,isTransitioning:b},A=B?e:void 0,C;typeof r=="function"?C=r(V):C=[r,B?"active":null,q?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(V):o;return K.createElement(ai,{...f,"aria-current":A,className:C,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(V):d)});qD.displayName="NavLink";var WD=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Op,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,..._},T)=>{let I=YD(),R=JD(u,{relative:f}),b=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&bb.test(u),L=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let $=F.nativeEvent.submitter,B=($==null?void 0:$.getAttribute("formmethod"))||l;I($||F.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:o,relative:f,preventScrollReset:m,viewTransition:g})};return K.createElement("form",{ref:T,method:b,action:R,onSubmit:r?d:L,..._,"data-discover":!M&&n==="render"?"true":void 0})});WD.displayName="Form";function HD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pb(n){let e=K.useContext(Wu);return Ct(e,HD(n)),e}function KD(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=Bm(),d=Do(),f=Ah(n,{relative:o});return K.useCallback(m=>{if(SD(m,e)){m.preventDefault();let g=t!==void 0?t:Yd(d)===Yd(f);u(n,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,f,t,r,e,n,i,o,l])}var GD=0,QD=()=>`__${String(++GD)}__`;function YD(){let{router:n}=Pb("useSubmit"),{basename:e}=K.useContext(qi),t=pD();return K.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=bD(r,e);if(i.navigate===!1){let m=i.fetcherKey||QD();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function JD(n,{relative:e}={}){let{basename:t}=K.useContext(qi),r=K.useContext(Wi);Ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ah(n||".",{relative:e})},l=Do();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:gs([t,o.pathname])),Yd(o)}function XD(n,e={}){let t=K.useContext(vb);Ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Pb("useViewTransitionState"),i=Ah(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=yo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=yo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return im(i.pathname,l)!=null||im(i.pathname,o)!=null}new TextEncoder;const ZD=[{title:"Electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/61mtL65D4cL._AC_SX679_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://fakestoreapi.com/img/51eg55uWmdL._AC_UX679_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg"}],e2="_category__container_za6ex_3",t2="_category_za6ex_3",Cb={category__container:e2,category:t2},n2=({data:n})=>O.jsx("div",{className:Cb.category,children:O.jsxs(ai,{to:`/category/${n.name}`,children:[O.jsx("span",{children:O.jsx("h2",{children:n==null?void 0:n.title})}),O.jsx("img",{src:n==null?void 0:n.imgLink,alt:n==null?void 0:n.title}),O.jsx("p",{children:"Shop now"})]})}),r2=()=>O.jsx("section",{className:Cb.category__container,children:ZD.map((n,e)=>O.jsx(n2,{data:n},e))});var kb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$T=We.createContext&&We.createContext(kb),i2=["attr","size","title"];function s2(n,e){if(n==null)return{};var t=o2(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function o2(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function sm(){return sm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sm.apply(this,arguments)}function qT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function om(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(t),!0).forEach(function(r){a2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function a2(n,e,t){return e=l2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l2(n){var e=u2(n,"string");return typeof e=="symbol"?e:e+""}function u2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xb(n){return n&&n.map((e,t)=>We.createElement(e.tag,om({key:t},e.attr),xb(e.child)))}function Hu(n){return e=>We.createElement(c2,sm({attr:om({},n.attr)},e),xb(n.child))}function c2(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=s2(n,i2),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),We.createElement("svg",sm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:om(om({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&We.createElement("title",null,o),n.children)};return $T!==void 0?We.createElement($T.Consumer,null,t=>e(t)):e(kb)}function d2(n){return Hu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function h2(n){return Hu({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}const f2="_header__container_ebsf1_1",p2="_logo__container_ebsf1_21",m2="_delivery_ebsf1_47",g2="_fixed_ebsf1_69",y2="_search_ebsf1_81",_2="_order__container_ebsf1_153",v2="_language_ebsf1_181",w2="_cart_ebsf1_207",E2="_lower__container_ebsf1_237",cs={header__container:f2,logo__container:p2,delivery:m2,fixed:g2,search:y2,order__container:_2,language:v2,cart:w2,lower__container:E2};function I2(n){return Hu({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}const T2=()=>{const[n,e]=K.useState("All");return O.jsx("div",{className:cs.lower__container,children:O.jsxs("ul",{children:[O.jsxs("li",{children:[O.jsx(I2,{}),O.jsxs("select",{value:n,onChange:t=>e(t.target.value),children:[O.jsx("option",{value:"All",children:"All"}),O.jsx("option",{value:"Today's Deals",children:"Today's Deals"}),O.jsx("option",{value:"Customer Service",children:"Customer Service"}),O.jsx("option",{value:"Registry",children:"Registry"}),O.jsx("option",{value:"Gift Cards",children:"Gift Cards"}),O.jsx("option",{value:"Sell",children:"Sell"})]})]}),O.jsx("li",{children:"Today's Deals"}),O.jsx("li",{children:"Customer Service"}),O.jsx("li",{children:"Registry"}),O.jsx("li",{children:"Gift Cards"}),O.jsx("li",{children:"Sell"})]})})},Ss=K.createContext(),S2=({children:n,reducer:e,initialState:t})=>O.jsx(Ss.Provider,{value:K.useReducer(e,t),children:n});function R2(n){return Hu({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228.61,60.16A6,6,0,0,0,224,58H61L54.63,22.93A6,6,0,0,0,48.73,18H24a6,6,0,0,0,0,12H43.72L69.53,171.94a21.93,21.93,0,0,0,6.24,11.77A26,26,0,1,0,113.89,190h52.22A26,26,0,1,0,188,178H91.17a10,10,0,0,1-9.84-8.21L77.73,150H196.1a22,22,0,0,0,21.65-18.06L229.9,65.07A6,6,0,0,0,228.61,60.16ZM106,204a14,14,0,1,1-14-14A14,14,0,0,1,106,204Zm96,0a14,14,0,1,1-14-14A14,14,0,0,1,202,204Zm3.94-74.21A10,10,0,0,1,196.1,138H75.55L63.19,70H216.81Z"},child:[]}]})(n)}var WT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},A2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=o>>2,g=(o&3)<<4|u>>4;let _=(u&15)<<2|f>>6,T=f&63;d||(T=64,l||(_=64)),r.push(t[m],t[g],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Nb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):A2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||f==null||g==null)throw new b2;const _=o<<2|u>>4;if(r.push(_),f!==64){const T=u<<4&240|f>>2;if(r.push(T),g!==64){const I=f<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class b2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P2=function(n){const e=Nb(n);return Ob.encodeByteArray(e,!0)},am=function(n){return P2(n).replace(/\./g,"")},Ew=function(n){try{return Ob.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lm(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!C2(t)||(n[t]=lm(n[t],e[t]));return n}function C2(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=()=>Db().__FIREBASE_DEFAULTS__,x2=()=>{if(typeof process>"u"||typeof WT>"u")return;const n=WT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},N2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ew(n[1]);return e&&JSON.parse(e)},$m=()=>{try{return k2()||x2()||N2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O2=n=>{var e,t;return(t=(e=$m())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Vb=()=>{var n;return(n=$m())===null||n===void 0?void 0:n.config},Lb=n=>{var e;return(e=$m())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[am(JSON.stringify(t)),am(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Iw(){var n;const e=(n=$m())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M2(){return typeof window<"u"||Mb()}function Mb(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function F2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Tw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jb(){const n=xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ub(){return!Iw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jd(){try{return typeof indexedDB=="object"}catch{return!1}}function j2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="FirebaseError";class Bn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=U2,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ka.prototype.create)}}class Ka{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?B2(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Bn(i,u,r)}}function B2(n,e){return n.replace(z2,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const z2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function $2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function gu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(KT(o)&&KT(l)){if(!gu(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function KT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ou(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Pd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Bb(n,e){const t=new q2(n,e);return t.subscribe.bind(t)}class q2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");W2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=P_),i.error===void 0&&(i.error=P_),i.complete===void 0&&(i.complete=P_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function P_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n){return n&&n._delegate?n._delegate:n}class ji{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new D2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G2(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K2(n){return n===ya?void 0:n}function G2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=[];var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const $b={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Q2=Ue.INFO,Y2={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},J2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Y2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=Q2,this._logHandler=J2,this._userLogHandler=null,Sw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$b[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}function X2(n){Sw.forEach(e=>{e.setLogLevel(n)})}function Z2(n,e){for(const t of Sw){let r=null;e&&e.level&&(r=$b[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:Ue[o].toLowerCase(),message:u,args:l,type:i.name})}}}const eV=(n,e)=>e.some(t=>n instanceof t);let GT,QT;function tV(){return GT||(GT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nV(){return QT||(QT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qb=new WeakMap,dv=new WeakMap,Wb=new WeakMap,C_=new WeakMap,Rw=new WeakMap;function rV(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(ho(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&qb.set(t,n)}).catch(()=>{}),Rw.set(e,n),e}function iV(n){if(dv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});dv.set(n,e)}let hv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Wb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ho(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sV(n){hv=n(hv)}function oV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(k_(this),e,...t);return Wb.set(r,e.sort?e.sort():[e]),ho(r)}:nV().includes(n)?function(...e){return n.apply(k_(this),e),ho(qb.get(this))}:function(...e){return ho(n.apply(k_(this),e))}}function aV(n){return typeof n=="function"?oV(n):(n instanceof IDBTransaction&&iV(n),eV(n,tV())?new Proxy(n,hv):n)}function ho(n){if(n instanceof IDBRequest)return rV(n);if(C_.has(n))return C_.get(n);const e=aV(n);return e!==n&&(C_.set(n,e),Rw.set(e,n)),e}const k_=n=>Rw.get(n);function lV(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=ho(l);return r&&l.addEventListener("upgradeneeded",d=>{r(ho(l.result),d.oldVersion,d.newVersion,ho(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const uV=["get","getKey","getAll","getAllKeys","count"],cV=["put","add","delete","clear"],x_=new Map;function YT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(x_.get(e))return x_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=cV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uV.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&d.done]))[0]};return x_.set(e,o),o}sV(n=>({...n,get:(e,t,r)=>YT(e,t)||n.get(e,t,r),has:(e,t)=>!!YT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function hV(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const um="@firebase/app",fv="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new qm("@firebase/app"),fV="@firebase/app-compat",pV="@firebase/analytics-compat",mV="@firebase/analytics",gV="@firebase/app-check-compat",yV="@firebase/app-check",_V="@firebase/auth",vV="@firebase/auth-compat",wV="@firebase/database",EV="@firebase/data-connect",IV="@firebase/database-compat",TV="@firebase/functions",SV="@firebase/functions-compat",RV="@firebase/installations",AV="@firebase/installations-compat",bV="@firebase/messaging",PV="@firebase/messaging-compat",CV="@firebase/performance",kV="@firebase/performance-compat",xV="@firebase/remote-config",NV="@firebase/remote-config-compat",OV="@firebase/storage",DV="@firebase/storage-compat",VV="@firebase/firestore",LV="@firebase/vertexai",MV="@firebase/firestore-compat",FV="firebase",jV="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]",UV={[um]:"fire-core",[fV]:"fire-core-compat",[mV]:"fire-analytics",[pV]:"fire-analytics-compat",[yV]:"fire-app-check",[gV]:"fire-app-check-compat",[_V]:"fire-auth",[vV]:"fire-auth-compat",[wV]:"fire-rtdb",[EV]:"fire-data-connect",[IV]:"fire-rtdb-compat",[TV]:"fire-fn",[SV]:"fire-fn-compat",[RV]:"fire-iid",[AV]:"fire-iid-compat",[bV]:"fire-fcm",[PV]:"fire-fcm-compat",[CV]:"fire-perf",[kV]:"fire-perf-compat",[xV]:"fire-rc",[NV]:"fire-rc-compat",[OV]:"fire-gcs",[DV]:"fire-gcs-compat",[VV]:"fire-fst",[MV]:"fire-fst-compat",[LV]:"fire-vertex","fire-js":"fire-js",[FV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Map,yu=new Map,_u=new Map;function Xd(n,e){try{n.container.addComponent(e)}catch(t){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hb(n,e){n.container.addOrOverwriteComponent(e)}function wo(n){const e=n.name;if(_u.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;_u.set(e,n);for(const t of vo.values())Xd(t,n);for(const t of yu.values())Xd(t,n);return!0}function Wm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function BV(n,e,t=_o){Wm(n,e).clearInstance(t)}function Kb(n){return n.options!==void 0}function Et(n){return n==null?!1:n.settings!==void 0}function zV(){_u.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Ka("app","Firebase",$V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gb=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n,e){const t=Ew(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class qV extends Gb{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&JT(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&JT(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,li(um,fv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ur.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=jV;function Aw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_o,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ur.create("bad-app-name",{appName:String(i)});if(t||(t=Vb()),!t)throw Ur.create("no-options");const o=vo.get(i);if(o){if(gu(t,o.options)&&gu(r,o.config))return o;throw Ur.create("duplicate-app",{appName:i})}const l=new zb(i);for(const d of _u.values())l.addComponent(d);const u=new Gb(t,r,l);return vo.set(i,u),u}function WV(n,e){if(M2()&&!Mb())throw Ur.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;Kb(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ur.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),l=yu.get(o);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new zb(o);for(const f of _u.values())u.addComponent(f);const d=new qV(t,e,o,u);return yu.set(o,d),d}function Qb(n=_o){const e=vo.get(n);if(!e&&n===_o&&Vb())return Aw();if(!e)throw Ur.create("no-app",{appName:n});return e}function HV(){return Array.from(vo.values())}async function bw(n){let e=!1;const t=n.name;vo.has(t)?(e=!0,vo.delete(t)):yu.has(t)&&n.decRefCount()<=0&&(yu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function li(n,e,t){var r;let i=(r=UV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(u.join(" "));return}wo(new ji(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Yb(n,e){if(n!==null&&typeof n!="function")throw Ur.create("invalid-log-argument");Z2(n,e)}function Jb(n){X2(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="firebase-heartbeat-database",GV=1,Zd="firebase-heartbeat-store";let N_=null;function Xb(){return N_||(N_=lV(KV,GV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ur.create("idb-open",{originalErrorMessage:n.message})})),N_}async function QV(n){try{const t=(await Xb()).transaction(Zd),r=await t.objectStore(Zd).get(Zb(n));return await t.done,r}catch(e){if(e instanceof Bn)_s.warn(e.message);else{const t=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(t.message)}}}async function XT(n,e){try{const r=(await Xb()).transaction(Zd,"readwrite");await r.objectStore(Zd).put(e,Zb(n)),await r.done}catch(t){if(t instanceof Bn)_s.warn(t.message);else{const r=Ur.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_s.warn(r.message)}}}function Zb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=1024,JV=30;class XV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ZT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>JV){const l=tL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZT(),{heartbeatsToSend:r,unsentEntries:i}=ZV(this._heartbeatsCache.heartbeats),o=am(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _s.warn(t),""}}}function ZT(){return new Date().toISOString().substring(0,10)}function ZV(n,e=YV){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),eS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),eS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class eL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jd()?j2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eS(n){return am(JSON.stringify({version:2,heartbeats:n})).length}function tL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(n){wo(new ji("platform-logger",e=>new dV(e),"PRIVATE")),wo(new ji("heartbeat",e=>new XV(e),"PRIVATE")),li(um,fv,n),li(um,fv,"esm2017"),li("fire-js","")}nL("");const rL=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Bn,SDK_VERSION:Vo,_DEFAULT_ENTRY_NAME:_o,_addComponent:Xd,_addOrOverwriteComponent:Hb,_apps:vo,_clearComponents:zV,_components:_u,_getProvider:Wm,_isFirebaseApp:Kb,_isFirebaseServerApp:Et,_registerComponent:wo,_removeServiceInstance:BV,_serverApps:yu,deleteApp:bw,getApp:Qb,getApps:HV,initializeApp:Aw,initializeServerApp:WV,onLog:Yb,registerVersion:li,setLogLevel:Jb},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,t){this._delegate=e,this.firebase=t,Xd(e,new ji("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),bw(this._delegate)))}_getService(e,t=_o){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=_o){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Xd(this._delegate,e)}_addOrOverwriteComponent(e){Hb(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},tS=new Ka("app-compat","Firebase",sL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:li,setLogLevel:Jb,onLog:Yb,apps:null,SDK_VERSION:Vo,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:rL}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||_o,!HT(e,f))throw tS.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,m={}){const g=Aw(f,m);if(HT(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function l(){return Object.keys(e).map(f=>e[f])}function u(f){const m=f.name,g=m.replace("-compat","");if(wo(f)&&f.type==="PUBLIC"){const _=(T=i())=>{if(typeof T[g]!="function")throw tS.create("invalid-app-argument",{appName:m});return T[g]()};f.serviceProps!==void 0&&lm(_,f.serviceProps),t[g]=_,n.prototype[g]=function(...T){return this._getService.bind(this,m).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[g]:null}function d(f,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){const n=oL(iL);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:eP,extendNamespace:e,createSubscribe:Bb,ErrorFactory:Ka,deepExtend:lm});function e(t){lm(n,t)}return n}const aL=eP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new qm("@firebase/app-compat"),lL="@firebase/app-compat",uL="0.2.50";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(n){li(lL,uL,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=Db();if(n.firebase!==void 0){nS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&nS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Gu=aL;cL();var dL="firebase",hL="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gu.registerVersion(dL,hL,"app-compat");function Pw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const od={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},zl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function tP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pL=fL,mL=tP,nP=new Ka("auth","Firebase",tP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new qm("@firebase/auth");function gL(n,...e){cm.logLevel<=Ue.WARN&&cm.warn(`Auth (${Vo}): ${n}`,...e)}function Vp(n,...e){cm.logLevel<=Ue.ERROR&&cm.error(`Auth (${Vo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(n,...e){throw kw(n,...e)}function on(n,...e){return kw(n,...e)}function Cw(n,e,t){const r=Object.assign(Object.assign({},mL()),{[e]:t});return new Ka("auth","Firebase",r).create(e,{appName:n.name})}function mn(n){return Cw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qu(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&gn(n,"argument-error"),Cw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nP.create(n,...e)}function fe(n,e,...t){if(!n)throw kw(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vp(e),new Error(e)}function ui(n,e){n||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function xw(){return rS()==="http:"||rS()==="https:"}function rS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xw()||Fb()||"connection"in navigator)?navigator.onLine:!0}function _L(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ui(t>e,"Short delay should be less than long delay!"),this.isMobile=L2()||Tw()}get(){return yL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n,e){ui(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new bh(3e4,6e4);function Mt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ft(n,e,t,r,i={}){return iP(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Ku(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return F2()||(f.referrerPolicy="no-referrer"),rP.fetch()(sP(n,n.config.apiHost,t,u),f)})}async function iP(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},vL),e);try{const i=new IL(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Cd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Cd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Cd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Cw(n,m,f);gn(n,m)}}catch(i){if(i instanceof Bn)throw i;gn(n,"network-request-failed",{message:String(i)})}}async function Rs(n,e,t,r,i={}){const o=await Ft(n,e,t,r,i);return"mfaPendingCredential"in o&&gn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function sP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Nw(n.config,i):`${n.config.apiScheme}://${i}`}function EL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),wL.get())})}}function Cd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=on(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(n){return n!==void 0&&n.getResponse!==void 0}function sS(n){return n!==void 0&&n.enterprise!==void 0}class oP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(n){return(await Ft(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function aP(n,e){return Ft(n,"GET","/v2/recaptchaConfig",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(n,e){return Ft(n,"POST","/v1/accounts:delete",e)}async function RL(n,e){return Ft(n,"POST","/v1/accounts:update",e)}async function lP(n,e){return Ft(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AL(n,e=!1){const t=ke(n),r=await t.getIdToken(e),i=Hm(r);fe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ld(O_(i.auth_time)),issuedAtTime:Ld(O_(i.iat)),expirationTime:Ld(O_(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function O_(n){return Number(n)*1e3}function Hm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ew(t);return i?JSON.parse(i):(Vp("Failed to decode base64 JWT payload"),null)}catch(i){return Vp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oS(n){const e=Hm(n);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Bn&&bL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ld(this.lastLoginAt),this.creationTime=Ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(n){var e;const t=n.auth,r=await n.getIdToken(),i=await vs(n,lP(t,{idToken:r}));fe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uP(o.providerUserInfo):[],u=kL(n.providerData,l),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function CL(n){const e=ke(n);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uP(n){return n.map(e=>{var{providerId:t}=e,r=Pw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(n,e){const t=await iP(n,{},async()=>{const r=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=sP(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",rP.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function NL(n,e){return Ft(n,"POST","/v2/accounts:revokeToken",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const t=oS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await xL(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new lu;return r&&(fe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(fe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lu,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(n,e){fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Pw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await vs(this,this.stsTokenManager.getToken(this.auth,e));return fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AL(this,e)}reload(){return CL(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Et(this.auth.app))return Promise.reject(mn(this.auth));const e=await this.getIdToken();return await vs(this,SL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,d,f,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,M=(f=t.createdAt)!==null&&f!==void 0?f:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:$,isAnonymous:B,providerData:q,stsTokenManager:V}=t;fe(F&&V,e,"internal-error");const A=lu.fromJSON(this.name,V);fe(typeof F=="string",e,"internal-error"),to(g,e.name),to(_,e.name),fe(typeof $=="boolean",e,"internal-error"),fe(typeof B=="boolean",e,"internal-error"),to(T,e.name),to(I,e.name),to(R,e.name),to(b,e.name),to(M,e.name),to(L,e.name);const C=new hs({uid:F,auth:e,email:_,emailVerified:$,displayName:g,isAnonymous:B,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:A,createdAt:M,lastLoginAt:L});return q&&Array.isArray(q)&&(C.providerData=q.map(E=>Object.assign({},E))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new lu;i.updateFromServerResponse(t);const o=new hs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await th(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?uP(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new lu;u.updateFromIdToken(r);const d=new hs({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Map;function wr(n){ui(n instanceof Function,"Expected a class definition");let e=aS.get(n);return e?(ui(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cP.type="NONE";const vu=cP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(n,e,t){return`firebase:${n}:${e}:${t}`}class uu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ka(this.userKey,i.apiKey,o),this.fullPersistenceKey=ka("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new uu(wr(vu),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||wr(vu);const l=ka(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){const g=hs._fromJSON(e,m);f!==o&&(u=g),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new uu(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new uu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mP(e))return"Blackberry";if(gP(e))return"Webos";if(hP(e))return"Safari";if((e.includes("chrome/")||fP(e))&&!e.includes("edge/"))return"Chrome";if(Ph(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dP(n=xt()){return/firefox\//i.test(n)}function hP(n=xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fP(n=xt()){return/crios\//i.test(n)}function pP(n=xt()){return/iemobile/i.test(n)}function Ph(n=xt()){return/android/i.test(n)}function mP(n=xt()){return/blackberry/i.test(n)}function gP(n=xt()){return/webos/i.test(n)}function Ch(n=xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OL(n=xt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function DL(n=xt()){var e;return Ch(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VL(){return jb()&&document.documentMode===10}function yP(n=xt()){return Ch(n)||Ph(n)||gP(n)||mP(n)||/windows phone/i.test(n)||pP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n,e=[]){let t;switch(n){case"Browser":t=lS(xt());break;case"Worker":t=`${lS(xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(n,e={}){return Ft(n,"GET","/v2/passwordPolicy",Mt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=6;class jL{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:FL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uS(this),this.idTokenSubscription=new uS(this),this.beforeStateQueue=new LL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await uu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lP(this,{idToken:e}),r=await hs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Et(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_L()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Et(this.app))return Promise.reject(mn(this));const t=e?ke(e):null;return t&&fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Et(this.app)?Promise.reject(mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Et(this.app)?Promise.reject(mn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ML(this),t=new jL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ka("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await NL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wr(e)||this._popupRedirectResolver;fe(t,this,"argument-error"),this.redirectPersistenceManager=await uu.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_P(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&gL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Nt(n){return ke(n)}class uS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bb(t=>this.observer=t)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BL(n){kh=n}function Ow(n){return kh.loadJS(n)}function zL(){return kh.recaptchaV2Script}function $L(){return kh.recaptchaEnterpriseScript}function qL(){return kh.gapiScript}function vP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=500,HL=6e4,yp=1e12;class KL{constructor(e){this.auth=e,this.counter=yp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new YL(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||yp;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||yp;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||yp;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class GL{constructor(){this.enterprise=new QL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class QL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YL{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;fe(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=JL(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},HL)},WL))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function JL(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const XL="recaptcha-enterprise",Md="NO_RECAPTCHA";class wP{constructor(e){this.type=XL,this.auth=Nt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{aP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new oP(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;sS(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(Md)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&sS(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=$L();d.length!==0&&(d+=u),Ow(d).then(()=>{i(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function ad(n,e,t,r=!1,i=!1){const o=new wP(n);let l;if(i)l=Md;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function fo(n,e,t,r,i){var o,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ad(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ad(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await ad(n,e,t);return r(n,u).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await ad(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await ad(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function ZL(n){const e=Nt(n),t=await aP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new oP(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new wP(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(n,e){const t=Wm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(gu(o,e??{}))return i;gn(i,"already-initialized")}return t.initialize({options:e})}function tM(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(wr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function EP(n,e,t){const r=Nt(n);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=IP(e),{host:l,port:u}=nM(e),d=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||rM()}function IP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nM(n){const e=IP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:cS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:cS(l)}}}function cS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function rM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(n,e){return Ft(n,"POST","/v1/accounts:resetPassword",Mt(n,e))}async function iM(n,e){return Ft(n,"POST","/v1/accounts:update",e)}async function sM(n,e){return Ft(n,"POST","/v1/accounts:signUp",e)}async function oM(n,e){return Ft(n,"POST","/v1/accounts:update",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(n,e){return Rs(n,"POST","/v1/accounts:signInWithPassword",Mt(n,e))}async function Km(n,e){return Ft(n,"POST","/v1/accounts:sendOobCode",Mt(n,e))}async function lM(n,e){return Km(n,e)}async function uM(n,e){return Km(n,e)}async function cM(n,e){return Km(n,e)}async function dM(n,e){return Km(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(n,e){return Rs(n,"POST","/v1/accounts:signInWithEmailLink",Mt(n,e))}async function fM(n,e){return Rs(n,"POST","/v1/accounts:signInWithEmailLink",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends Yu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new nh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new nh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fo(e,t,"signInWithPassword",aM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hM(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fo(e,r,"signUpPassword",sM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return fM(e,{idToken:t,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ys(n,e){return Rs(n,"POST","/v1/accounts:signInWithIdp",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="http://localhost";class Ui extends Yu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Pw(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ui(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ys(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ys(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ys(e,t)}buildRequest(){const e={requestUri:pM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(n,e){return Ft(n,"POST","/v1/accounts:sendVerificationCode",Mt(n,e))}async function mM(n,e){return Rs(n,"POST","/v1/accounts:signInWithPhoneNumber",Mt(n,e))}async function gM(n,e){const t=await Rs(n,"POST","/v1/accounts:signInWithPhoneNumber",Mt(n,e));if(t.temporaryProof)throw Cd(n,"account-exists-with-different-credential",t);return t}const yM={USER_NOT_FOUND:"user-not-found"};async function _M(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Rs(n,"POST","/v1/accounts:signInWithPhoneNumber",Mt(n,t),yM)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Yu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new xa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new xa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return mM(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return gM(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return _M(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new xa({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wM(n){const e=ou(Pd(n)).link,t=e?ou(Pd(e)).deep_link_id:null,r=ou(Pd(n)).deep_link_id;return(r?ou(Pd(r)).link:null)||r||t||e||n}class Gm{constructor(e){var t,r,i,o,l,u;const d=ou(Pd(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=vM((i=d.mode)!==null&&i!==void 0?i:null);fe(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=wM(e);try{return new Gm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,t){return nh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Gm.parseLink(t);return fe(r,"argument-error"),nh._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends As{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cu extends Ju{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return fe("providerId"in t&&"signInMethod"in t,"argument-error"),Ui._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return fe(e.idToken||e.accessToken,"argument-error"),Ui._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return cu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return cu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!o||!u)return null;try{return new cu(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ju{constructor(){super("facebook.com")}static credential(e){return Ui._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ui._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ci.credential(t,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Ju{constructor(){super("github.com")}static credential(e){return Ui._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="http://localhost";class wu extends Yu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ys(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ys(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ys(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new wu(r,o)}static _create(e,t){return new wu(e,t)}buildRequest(){return{requestUri:EM,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="saml.";class dm extends As{constructor(e){fe(e.startsWith(IM),"argument-error"),super(e)}static credentialFromResult(e){return dm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return dm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=wu.fromJSON(e);return fe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return wu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ju{constructor(){super("twitter.com")}static credential(e,t){return Ui._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return xi.credential(t,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(n,e){return Rs(n,"POST","/v1/accounts:signUp",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await hs._fromIdTokenResponse(e,r,i),l=hS(r);return new Br({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=hS(r);return new Br({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function hS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n){var e;if(Et(n.app))return Promise.reject(mn(n));const t=Nt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Br({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await SP(t,{returnSecureToken:!0}),i=await Br._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends Bn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new hm(e,t,r,i)}}function RP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hm._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(n,e){const t=ke(n);await Qm(!0,t,e);const{providerUserInfo:r}=await RL(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=AP(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Dw(n,e,t=!1){const r=await vs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Br._forOperation(n,"link",r)}async function Qm(n,e,t){await th(e);const r=AP(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";fe(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e,t=!1){const{auth:r}=n;if(Et(r.app))return Promise.reject(mn(r));const i="reauthenticate";try{const o=await vs(n,RP(r,i,e,n),t);fe(o.idToken,r,"internal-error");const l=Hm(o.idToken);fe(l,r,"internal-error");const{sub:u}=l;return fe(n.uid===u,r,"user-mismatch"),Br._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,e,t=!1){if(Et(n.app))return Promise.reject(mn(n));const r="signIn",i=await RP(n,r,e),o=await Br._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Ym(n,e){return PP(Nt(n),e)}async function CP(n,e){const t=ke(n);return await Qm(!1,t,e.providerId),Dw(t,e)}async function kP(n,e){return bP(ke(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(n,e){return Rs(n,"POST","/v1/accounts:signInWithCustomToken",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(n,e){if(Et(n.app))return Promise.reject(mn(n));const t=Nt(n),r=await RM(t,{token:e,returnSecureToken:!0}),i=await Br._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Vw._fromServerResponse(e,t):"totpInfo"in t?Lw._fromServerResponse(e,t):gn(e,"internal-error")}}class Vw extends xh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Vw(t)}}class Lw extends xh{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Lw(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n,e,t){var r;fe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),fe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),fe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(fe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(fe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(n){const e=Nt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bM(n,e,t){const r=Nt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Jm(r,i,t),await fo(r,i,"getOobCode",uM,"EMAIL_PASSWORD_PROVIDER")}async function PM(n,e,t){await TP(ke(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Mw(n),r})}async function CM(n,e){await oM(ke(n),{oobCode:e})}async function xP(n,e){const t=ke(n),r=await TP(t,{oobCode:e}),i=r.requestType;switch(fe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(r.mfaInfo,t,"internal-error");default:fe(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=xh._fromServerResponse(Nt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function kM(n,e){const{data:t}=await xP(ke(n),e);return t.email}async function NP(n,e,t){if(Et(n.app))return Promise.reject(mn(n));const r=Nt(n),l=await fo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SP,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Mw(n),d}),u=await Br._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function OP(n,e,t){return Et(n.app)?Promise.reject(mn(n)):Ym(ke(n),Lo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Mw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(n,e,t){const r=Nt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,u){fe(u.handleCodeInApp,r,"argument-error"),u&&Jm(r,l,u)}o(i,t),await fo(r,i,"getOobCode",cM,"EMAIL_PASSWORD_PROVIDER")}function NM(n,e){const t=Gm.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function OM(n,e,t){if(Et(n.app))return Promise.reject(mn(n));const r=ke(n),i=Lo.credentialWithLink(e,t||eh());return fe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ym(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(n,e){return Ft(n,"POST","/v1/accounts:createAuthUri",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(n,e){const t=xw()?eh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await DM(ke(n),r);return i||[]}async function LM(n,e){const t=ke(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Jm(t.auth,i,e);const{email:o}=await lM(t.auth,i);o!==n.email&&await n.reload()}async function MM(n,e,t){const r=ke(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Jm(r.auth,o,t);const{email:l}=await dM(r.auth,o);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(n,e){return Ft(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ke(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await vs(r,FM(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function UM(n,e){const t=ke(n);return Et(t.auth.app)?Promise.reject(mn(t.auth)):DP(t,e,null)}function BM(n,e){return DP(ke(n),null,e)}async function DP(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const l=await vs(n,iM(r,o));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Hm(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new du(o,u)}}if(!r)return null;switch(r){case"facebook.com":return new $M(o,i);case"github.com":return new qM(o,i);case"google.com":return new WM(o,i);case"twitter.com":return new HM(o,i,n.screenName||null);case"custom":case"anonymous":return new du(o,null);default:return new du(o,r,i)}}class du{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class VP extends du{constructor(e,t,r,i){super(e,t,r),this.username=i}}class $M extends du{constructor(e,t){super(e,"facebook.com",t)}}class qM extends VP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class WM extends du{constructor(e,t){super(e,"google.com",t)}}class HM extends VP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function KM(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:zM(t)}function GM(n,e,t,r){return ke(n).onIdTokenChanged(e,t,r)}function QM(n,e,t){return ke(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Ra("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ra("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Ra._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ra._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Nt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(u=>xh._fromServerResponse(r,u));fe(i.mfaPendingCredential,r,"internal-error");const l=Ra._fromMfaPendingCredential(i.mfaPendingCredential);return new Fw(l,o,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await Br._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return fe(t.user,r,"internal-error"),Br._forOperation(t.user,t.operationType,f);default:gn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function YM(n,e){var t;const r=ke(n),i=e;return fe(e.customData.operationType,r,"argument-error"),fe((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Fw._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e){return Ft(n,"POST","/v2/accounts/mfaEnrollment:start",Mt(n,e))}function JM(n,e){return Ft(n,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(n,e))}function XM(n,e){return Ft(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(n,e))}class jw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>xh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new jw(e)}async getSession(){return Ra._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await vs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await vs(this.user,XM(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const D_=new WeakMap;function ZM(n){const e=ke(n);return D_.has(e)||D_.set(e,jw._fromUser(e)),D_.get(e)}const fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fm,"1"),this.storage.removeItem(fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=1e3,tF=10;class MP extends LP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);VL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tF):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},eF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MP.type="LOCAL";const Xm=MP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP extends LP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}FP.type="SESSION";const Eo=FP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Zm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,o)),d=await nF(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=Nh("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return window}function iF(n){Qt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return typeof Qt().WorkerGlobalScope<"u"&&typeof Qt().importScripts=="function"}async function sF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aF(){return Uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="firebaseLocalStorageDb",lF=1,pm="firebaseLocalStorage",UP="fbase_key";class Oh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function eg(n,e){return n.transaction([pm],e?"readwrite":"readonly").objectStore(pm)}function uF(){const n=indexedDB.deleteDatabase(jP);return new Oh(n).toPromise()}function mv(){const n=indexedDB.open(jP,lF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pm,{keyPath:UP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(pm)?e(r):(r.close(),await uF(),e(await mv()))})})}async function pS(n,e,t){const r=eg(n,!0).put({[UP]:e,value:t});return new Oh(r).toPromise()}async function cF(n,e){const t=eg(n,!1).get(e),r=await new Oh(t).toPromise();return r===void 0?null:r.value}function mS(n,e){const t=eg(n,!0).delete(e);return new Oh(t).toPromise()}const dF=800,hF=3;class BP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>hF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zm._getInstance(aF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sF(),!this.activeServiceWorker)return;this.sender=new rF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mv();return await pS(e,fm,"1"),await mS(e,fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>pS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>cF(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=eg(i,!1).getAll();return new Oh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BP.type="LOCAL";const Eu=BP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n,e){return Ft(n,"POST","/v2/accounts/mfaSignIn:start",Mt(n,e))}function fF(n,e){return Ft(n,"POST","/v2/accounts/mfaSignIn:finalize",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=vP("rcb"),pF=new bh(3e4,6e4);class mF{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Qt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return fe(gF(t),e,"argument-error"),this.shouldResolveImmediately(t)&&iS(Qt().grecaptcha)?Promise.resolve(Qt().grecaptcha):new Promise((r,i)=>{const o=Qt().setTimeout(()=>{i(on(e,"network-request-failed"))},pF.get());Qt()[V_]=()=>{Qt().clearTimeout(o),delete Qt()[V_];const u=Qt().grecaptcha;if(!u||!iS(u)){i(on(e,"internal-error"));return}const d=u.render;u.render=(f,m)=>{const g=d(f,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${zL()}?${Ku({onload:V_,render:"explicit",hl:t})}`;Ow(l).catch(()=>{clearTimeout(o),i(on(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Qt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function gF(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class yF{async load(e){return new KL(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="recaptcha",_F={theme:"light",type:"image"};let vF=class{constructor(e,t,r=Object.assign({},_F)){this.parameters=r,this.type=Fd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nt(e),this.isInvisible=this.parameters.size==="invisible",fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;fe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yF:new mF,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),i(l))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Qt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){fe(xw()&&!Uw(),this.auth,"internal-error"),await wF(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await TL(this.auth);fe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function wF(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=xa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function EF(n,e,t){if(Et(n.app))return Promise.reject(mn(n));const r=Nt(n),i=await tg(r,e,ke(t));return new Bw(i,o=>Ym(r,o))}async function IF(n,e,t){const r=ke(n);await Qm(!1,r,"phone");const i=await tg(r.auth,e,ke(t));return new Bw(i,o=>CP(r,o))}async function TF(n,e,t){const r=ke(n);if(Et(r.auth.app))return Promise.reject(mn(r.auth));const i=await tg(r.auth,e,ke(t));return new Bw(i,o=>kP(r,o))}async function tg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await ZL(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){fe(o.type==="enroll",n,"internal-error");const l={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await fo(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Md){fe((t==null?void 0:t.type)===Fd,m,"argument-error");const _=await L_(m,g,t);return fS(m,_)}return fS(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{fe(o.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;fe(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await fo(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===Md){fe((t==null?void 0:t.type)===Fd,g,"argument-error");const T=await L_(g,_,t);return gS(g,T)}return gS(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await fo(n,o,"sendVerificationCode",async(f,m)=>{if(m.captchaResponse===Md){fe((t==null?void 0:t.type)===Fd,f,"argument-error");const g=await L_(f,m,t);return dS(f,g)}return dS(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function SF(n,e){const t=ke(n);if(Et(t.auth.app))return Promise.reject(mn(t.auth));await Dw(t,e)}async function L_(n,e,t){fe(t.type===Fd,n,"argument-error");const r=await t.verify();fe(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da=class Lp{constructor(e){this.providerId=Lp.PROVIDER_ID,this.auth=Nt(e)}verifyPhoneNumber(e,t){return tg(this.auth,e,ke(t))}static credential(e,t){return xa._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Lp.credentialFromTaggedObject(t)}static credentialFromError(e){return Lp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?xa._fromTokenResponse(t,r):null}};Da.PROVIDER_ID="phone";Da.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n,e){return e?wr(e):(fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw extends Yu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ys(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ys(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ys(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RF(n){return PP(n.auth,new zw(n),n.bypassAuthState)}function AF(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),bP(t,new zw(n),n.bypassAuthState)}async function bF(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),Dw(t,new zw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RF;case"linkViaPopup":case"linkViaRedirect":return bF;case"reauthViaPopup":case"reauthViaRedirect":return AF;default:gn(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new bh(2e3,1e4);async function CF(n,e,t){if(Et(n.app))return Promise.reject(on(n,"operation-not-supported-in-this-environment"));const r=Nt(n);Qu(n,e,As);const i=Ga(r,t);return new fs(r,"signInViaPopup",e,i).executeNotNull()}async function kF(n,e,t){const r=ke(n);if(Et(r.auth.app))return Promise.reject(on(r.auth,"operation-not-supported-in-this-environment"));Qu(r.auth,e,As);const i=Ga(r.auth,t);return new fs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function xF(n,e,t){const r=ke(n);Qu(r.auth,e,As);const i=Ga(r.auth,t);return new fs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class fs extends zP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=Nh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PF.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="pendingRedirect",jd=new Map;class OF extends zP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const r=await DF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DF(n,e){const t=qP(e),r=$P(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function $w(n,e){return $P(n)._set(qP(e),"true")}function VF(){jd.clear()}function qw(n,e){jd.set(n._key(),e)}function $P(n){return wr(n._redirectPersistence)}function qP(n){return ka(NF,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(n,e,t){return MF(n,e,t)}async function MF(n,e,t){if(Et(n.app))return Promise.reject(mn(n));const r=Nt(n);Qu(n,e,As),await r._initializationPromise;const i=Ga(r,t);return await $w(i,r),i._openRedirect(r,e,"signInViaRedirect")}function FF(n,e,t){return jF(n,e,t)}async function jF(n,e,t){const r=ke(n);if(Qu(r.auth,e,As),Et(r.auth.app))return Promise.reject(mn(r.auth));await r.auth._initializationPromise;const i=Ga(r.auth,t);await $w(i,r.auth);const o=await WP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function UF(n,e,t){return BF(n,e,t)}async function BF(n,e,t){const r=ke(n);Qu(r.auth,e,As),await r.auth._initializationPromise;const i=Ga(r.auth,t);await Qm(!1,r,e.providerId),await $w(i,r.auth);const o=await WP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function zF(n,e){return await Nt(n)._initializationPromise,ng(n,e,!1)}async function ng(n,e,t=!1){if(Et(n.app))return Promise.reject(mn(n));const r=Nt(n),i=Ga(r,e),l=await new OF(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function WP(n){const e=Nh(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=10*60*1e3;class HP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!KP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(on(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$F&&this.cachedEventUids.clear(),this.cachedEventUids.has(yS(e))}saveEventToCache(e){this.cachedEventUids.add(yS(e)),this.lastProcessedEventTime=Date.now()}}function yS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(n,e={}){return Ft(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HF=/^https?/;async function KF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GP(n);for(const t of e)try{if(GF(t))return}catch{}gn(n,"unauthorized-domain")}function GF(n){const e=eh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!HF.test(t))return!1;if(WF.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new bh(3e4,6e4);function _S(){const n=Qt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function YF(n){return new Promise((e,t)=>{var r,i,o;function l(){_S(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_S(),t(on(n,"network-request-failed"))},timeout:QF.get()})}if(!((i=(r=Qt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qt().gapi)===null||o===void 0)&&o.load)l();else{const u=vP("iframefcb");return Qt()[u]=()=>{gapi.load?l():t(on(n,"network-request-failed"))},Ow(`${qL()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Mp=null,e})}let Mp=null;function JF(n){return Mp=Mp||YF(n),Mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new bh(5e3,15e3),ZF="__/auth/iframe",e4="emulator/auth/iframe",t4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r4(n){const e=n.config;fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Nw(e,e4):`https://${n.config.authDomain}/${ZF}`,r={apiKey:e.apiKey,appName:n.name,v:Vo},i=n4.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ku(r).slice(1)}`}async function i4(n){const e=await JF(n),t=Qt().gapi;return fe(t,n,"internal-error"),e.open({where:document.body,url:r4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=on(n,"network-request-failed"),u=Qt().setTimeout(()=>{o(l)},XF.get());function d(){Qt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o4=500,a4=600,l4="_blank",u4="http://localhost";class vS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c4(n,e,t,r=o4,i=a4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},s4),{width:r.toString(),height:i.toString(),top:o,left:l}),f=xt().toLowerCase();t&&(u=fP(f)?l4:t),dP(f)&&(e=e||u4,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(DL(f)&&u!=="_self")return d4(e||"",u),new vS(null);const g=window.open(e||"",u,m);fe(g,n,"popup-blocked");try{g.focus()}catch{}return new vS(g)}function d4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="__/auth/handler",f4="emulator/auth/handler",p4=encodeURIComponent("fac");async function gv(n,e,t,r,i,o){fe(n.config.authDomain,n,"auth-domain-config-required"),fe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vo,eventId:i};if(e instanceof As){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",$2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(o||{}))l[m]=g}if(e instanceof Ju){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),f=d?`#${p4}=${encodeURIComponent(d)}`:"";return`${m4(n)}?${Ku(u).slice(1)}${f}`}function m4({config:n}){return n.emulator?Nw(n,f4):`https://${n.authDomain}/${h4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="webStorageSupport";class g4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eo,this._completeRedirectFn=ng,this._overrideRedirectResult=qw}async _openPopup(e,t,r,i){var o;ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await gv(e,t,r,eh(),i);return c4(e,l,Nh())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await gv(e,t,r,eh(),i);return iF(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ui(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await i4(e),r=new HP(e);return t.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(M_,{type:M_},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[M_];l!==void 0&&t(!!l),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yP()||hP()||Ch()}}const QP=g4;class y4{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ni("unexpected MultiFactorSessionType")}}}class Ww extends y4{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ww(e)}_finalizeEnroll(e,t,r){return JM(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return fF(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class YP{constructor(){}static assertion(e){return Ww._fromCredential(e)}}YP.FACTOR_ID="phone";var wS="@firebase/auth",ES="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w4(n){wo(new ji("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;fe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_P(n)},f=new UL(r,i,o,d);return tM(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wo(new ji("auth-internal",e=>{const t=Nt(e.getProvider("auth").getImmediate());return(r=>new _4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(wS,ES,v4(n)),li(wS,ES,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=5*60,I4=Lb("authIdTokenMaxAge")||E4;let IS=null;const T4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>I4)return;const i=t==null?void 0:t.token;IS!==i&&(IS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S4(n=Qb()){const e=Wm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=eM(n,{popupRedirectResolver:QP,persistence:[Eu,Xm,Eo]}),r=Lb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=T4(o.toString());QM(t,l,()=>l(t.currentUser)),GM(t,u=>l(u))}}const i=O2("auth");return i&&EP(t,`http://${i}`),t}function R4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}BL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=on("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",R4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w4("Browser");var TS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,JP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function C(){}C.prototype=A.prototype,V.D=A.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(E,x,k){for(var N=Array(arguments.length-2),X=2;X<arguments.length;X++)N[X-2]=arguments[X];return A.prototype[x].apply(E,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,A,C){C||(C=0);var E=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)E[x]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(x=0;16>x;++x)E[x]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=V.g[0],C=V.g[1],x=V.g[2];var k=V.g[3],N=A+(k^C&(x^k))+E[0]+3614090360&4294967295;A=C+(N<<7&4294967295|N>>>25),N=k+(x^A&(C^x))+E[1]+3905402710&4294967295,k=A+(N<<12&4294967295|N>>>20),N=x+(C^k&(A^C))+E[2]+606105819&4294967295,x=k+(N<<17&4294967295|N>>>15),N=C+(A^x&(k^A))+E[3]+3250441966&4294967295,C=x+(N<<22&4294967295|N>>>10),N=A+(k^C&(x^k))+E[4]+4118548399&4294967295,A=C+(N<<7&4294967295|N>>>25),N=k+(x^A&(C^x))+E[5]+1200080426&4294967295,k=A+(N<<12&4294967295|N>>>20),N=x+(C^k&(A^C))+E[6]+2821735955&4294967295,x=k+(N<<17&4294967295|N>>>15),N=C+(A^x&(k^A))+E[7]+4249261313&4294967295,C=x+(N<<22&4294967295|N>>>10),N=A+(k^C&(x^k))+E[8]+1770035416&4294967295,A=C+(N<<7&4294967295|N>>>25),N=k+(x^A&(C^x))+E[9]+2336552879&4294967295,k=A+(N<<12&4294967295|N>>>20),N=x+(C^k&(A^C))+E[10]+4294925233&4294967295,x=k+(N<<17&4294967295|N>>>15),N=C+(A^x&(k^A))+E[11]+2304563134&4294967295,C=x+(N<<22&4294967295|N>>>10),N=A+(k^C&(x^k))+E[12]+1804603682&4294967295,A=C+(N<<7&4294967295|N>>>25),N=k+(x^A&(C^x))+E[13]+4254626195&4294967295,k=A+(N<<12&4294967295|N>>>20),N=x+(C^k&(A^C))+E[14]+2792965006&4294967295,x=k+(N<<17&4294967295|N>>>15),N=C+(A^x&(k^A))+E[15]+1236535329&4294967295,C=x+(N<<22&4294967295|N>>>10),N=A+(x^k&(C^x))+E[1]+4129170786&4294967295,A=C+(N<<5&4294967295|N>>>27),N=k+(C^x&(A^C))+E[6]+3225465664&4294967295,k=A+(N<<9&4294967295|N>>>23),N=x+(A^C&(k^A))+E[11]+643717713&4294967295,x=k+(N<<14&4294967295|N>>>18),N=C+(k^A&(x^k))+E[0]+3921069994&4294967295,C=x+(N<<20&4294967295|N>>>12),N=A+(x^k&(C^x))+E[5]+3593408605&4294967295,A=C+(N<<5&4294967295|N>>>27),N=k+(C^x&(A^C))+E[10]+38016083&4294967295,k=A+(N<<9&4294967295|N>>>23),N=x+(A^C&(k^A))+E[15]+3634488961&4294967295,x=k+(N<<14&4294967295|N>>>18),N=C+(k^A&(x^k))+E[4]+3889429448&4294967295,C=x+(N<<20&4294967295|N>>>12),N=A+(x^k&(C^x))+E[9]+568446438&4294967295,A=C+(N<<5&4294967295|N>>>27),N=k+(C^x&(A^C))+E[14]+3275163606&4294967295,k=A+(N<<9&4294967295|N>>>23),N=x+(A^C&(k^A))+E[3]+4107603335&4294967295,x=k+(N<<14&4294967295|N>>>18),N=C+(k^A&(x^k))+E[8]+1163531501&4294967295,C=x+(N<<20&4294967295|N>>>12),N=A+(x^k&(C^x))+E[13]+2850285829&4294967295,A=C+(N<<5&4294967295|N>>>27),N=k+(C^x&(A^C))+E[2]+4243563512&4294967295,k=A+(N<<9&4294967295|N>>>23),N=x+(A^C&(k^A))+E[7]+1735328473&4294967295,x=k+(N<<14&4294967295|N>>>18),N=C+(k^A&(x^k))+E[12]+2368359562&4294967295,C=x+(N<<20&4294967295|N>>>12),N=A+(C^x^k)+E[5]+4294588738&4294967295,A=C+(N<<4&4294967295|N>>>28),N=k+(A^C^x)+E[8]+2272392833&4294967295,k=A+(N<<11&4294967295|N>>>21),N=x+(k^A^C)+E[11]+1839030562&4294967295,x=k+(N<<16&4294967295|N>>>16),N=C+(x^k^A)+E[14]+4259657740&4294967295,C=x+(N<<23&4294967295|N>>>9),N=A+(C^x^k)+E[1]+2763975236&4294967295,A=C+(N<<4&4294967295|N>>>28),N=k+(A^C^x)+E[4]+1272893353&4294967295,k=A+(N<<11&4294967295|N>>>21),N=x+(k^A^C)+E[7]+4139469664&4294967295,x=k+(N<<16&4294967295|N>>>16),N=C+(x^k^A)+E[10]+3200236656&4294967295,C=x+(N<<23&4294967295|N>>>9),N=A+(C^x^k)+E[13]+681279174&4294967295,A=C+(N<<4&4294967295|N>>>28),N=k+(A^C^x)+E[0]+3936430074&4294967295,k=A+(N<<11&4294967295|N>>>21),N=x+(k^A^C)+E[3]+3572445317&4294967295,x=k+(N<<16&4294967295|N>>>16),N=C+(x^k^A)+E[6]+76029189&4294967295,C=x+(N<<23&4294967295|N>>>9),N=A+(C^x^k)+E[9]+3654602809&4294967295,A=C+(N<<4&4294967295|N>>>28),N=k+(A^C^x)+E[12]+3873151461&4294967295,k=A+(N<<11&4294967295|N>>>21),N=x+(k^A^C)+E[15]+530742520&4294967295,x=k+(N<<16&4294967295|N>>>16),N=C+(x^k^A)+E[2]+3299628645&4294967295,C=x+(N<<23&4294967295|N>>>9),N=A+(x^(C|~k))+E[0]+4096336452&4294967295,A=C+(N<<6&4294967295|N>>>26),N=k+(C^(A|~x))+E[7]+1126891415&4294967295,k=A+(N<<10&4294967295|N>>>22),N=x+(A^(k|~C))+E[14]+2878612391&4294967295,x=k+(N<<15&4294967295|N>>>17),N=C+(k^(x|~A))+E[5]+4237533241&4294967295,C=x+(N<<21&4294967295|N>>>11),N=A+(x^(C|~k))+E[12]+1700485571&4294967295,A=C+(N<<6&4294967295|N>>>26),N=k+(C^(A|~x))+E[3]+2399980690&4294967295,k=A+(N<<10&4294967295|N>>>22),N=x+(A^(k|~C))+E[10]+4293915773&4294967295,x=k+(N<<15&4294967295|N>>>17),N=C+(k^(x|~A))+E[1]+2240044497&4294967295,C=x+(N<<21&4294967295|N>>>11),N=A+(x^(C|~k))+E[8]+1873313359&4294967295,A=C+(N<<6&4294967295|N>>>26),N=k+(C^(A|~x))+E[15]+4264355552&4294967295,k=A+(N<<10&4294967295|N>>>22),N=x+(A^(k|~C))+E[6]+2734768916&4294967295,x=k+(N<<15&4294967295|N>>>17),N=C+(k^(x|~A))+E[13]+1309151649&4294967295,C=x+(N<<21&4294967295|N>>>11),N=A+(x^(C|~k))+E[4]+4149444226&4294967295,A=C+(N<<6&4294967295|N>>>26),N=k+(C^(A|~x))+E[11]+3174756917&4294967295,k=A+(N<<10&4294967295|N>>>22),N=x+(A^(k|~C))+E[2]+718787259&4294967295,x=k+(N<<15&4294967295|N>>>17),N=C+(k^(x|~A))+E[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+x&4294967295,V.g[3]=V.g[3]+k&4294967295}r.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var C=A-this.blockSize,E=this.B,x=this.h,k=0;k<A;){if(x==0)for(;k<=C;)i(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<A;)if(E[x++]=V.charCodeAt(k++),x==this.blockSize){i(this,E),x=0;break}}else for(;k<A;)if(E[x++]=V[k++],x==this.blockSize){i(this,E),x=0;break}}this.h=x,this.o+=A},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var C=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=C&255,C/=256;for(this.u(V),V=Array(16),A=C=0;4>A;++A)for(var E=0;32>E;E+=8)V[C++]=this.g[A]>>>E&255;return V};function o(V,A){var C=u;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=A(V)}function l(V,A){this.h=A;for(var C=[],E=!0,x=V.length-1;0<=x;x--){var k=V[x]|0;E&&k==A||(C[x]=k,E=!1)}this.g=C}var u={};function d(V){return-128<=V&&128>V?o(V,function(A){return new l([A|0],0>A?-1:0)}):new l([V|0],0>V?-1:0)}function f(V){if(isNaN(V)||!isFinite(V))return g;if(0>V)return b(f(-V));for(var A=[],C=1,E=0;V>=C;E++)A[E]=V/C|0,C*=4294967296;return new l(A,0)}function m(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return b(m(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(A,8)),E=g,x=0;x<V.length;x+=8){var k=Math.min(8,V.length-x),N=parseInt(V.substring(x,x+k),A);8>k?(k=f(Math.pow(A,k)),E=E.j(k).add(f(N))):(E=E.j(C),E=E.add(f(N)))}return E}var g=d(0),_=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-b(this).m();for(var V=0,A=1,C=0;C<this.g.length;C++){var E=this.i(C);V+=(0<=E?E:4294967296+E)*A,A*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(I(this))return"0";if(R(this))return"-"+b(this).toString(V);for(var A=f(Math.pow(V,6)),C=this,E="";;){var x=$(C,A).g;C=M(C,x.j(A));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=x,I(C))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function I(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function R(V){return V.h==-1}n.l=function(V){return V=M(this,V),R(V)?-1:I(V)?0:1};function b(V){for(var A=V.g.length,C=[],E=0;E<A;E++)C[E]=~V.g[E];return new l(C,~V.h).add(_)}n.abs=function(){return R(this)?b(this):this},n.add=function(V){for(var A=Math.max(this.g.length,V.g.length),C=[],E=0,x=0;x<=A;x++){var k=E+(this.i(x)&65535)+(V.i(x)&65535),N=(k>>>16)+(this.i(x)>>>16)+(V.i(x)>>>16);E=N>>>16,k&=65535,N&=65535,C[x]=N<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function M(V,A){return V.add(b(A))}n.j=function(V){if(I(this)||I(V))return g;if(R(this))return R(V)?b(this).j(b(V)):b(b(this).j(V));if(R(V))return b(this.j(b(V)));if(0>this.l(T)&&0>V.l(T))return f(this.m()*V.m());for(var A=this.g.length+V.g.length,C=[],E=0;E<2*A;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(var x=0;x<V.g.length;x++){var k=this.i(E)>>>16,N=this.i(E)&65535,X=V.i(x)>>>16,j=V.i(x)&65535;C[2*E+2*x]+=N*j,L(C,2*E+2*x),C[2*E+2*x+1]+=k*j,L(C,2*E+2*x+1),C[2*E+2*x+1]+=N*X,L(C,2*E+2*x+1),C[2*E+2*x+2]+=k*X,L(C,2*E+2*x+2)}for(E=0;E<A;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=A;E<2*A;E++)C[E]=0;return new l(C,0)};function L(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function F(V,A){this.g=V,this.h=A}function $(V,A){if(I(A))throw Error("division by zero");if(I(V))return new F(g,g);if(R(V))return A=$(b(V),A),new F(b(A.g),b(A.h));if(R(A))return A=$(V,b(A)),new F(b(A.g),A.h);if(30<V.g.length){if(R(V)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var C=_,E=A;0>=E.l(V);)C=B(C),E=B(E);var x=q(C,1),k=q(E,1);for(E=q(E,2),C=q(C,2);!I(E);){var N=k.add(E);0>=N.l(V)&&(x=x.add(C),k=N),E=q(E,1),C=q(C,1)}return A=M(V,x.j(A)),new F(x,A)}for(x=g;0<=V.l(A);){for(C=Math.max(1,Math.floor(V.m()/A.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=f(C),N=k.j(A);R(N)||0<N.l(V);)C-=E,k=f(C),N=k.j(A);I(k)&&(k=_),x=x.add(k),V=M(V,N)}return new F(x,V)}n.A=function(V){return $(this,V).h},n.and=function(V){for(var A=Math.max(this.g.length,V.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)&V.i(E);return new l(C,this.h&V.h)},n.or=function(V){for(var A=Math.max(this.g.length,V.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)|V.i(E);return new l(C,this.h|V.h)},n.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)^V.i(E);return new l(C,this.h^V.h)};function B(V){for(var A=V.g.length+1,C=[],E=0;E<A;E++)C[E]=V.i(E)<<1|V.i(E-1)>>>31;return new l(C,V.h)}function q(V,A){var C=A>>5;A%=32;for(var E=V.g.length-C,x=[],k=0;k<E;k++)x[k]=0<A?V.i(k+C)>>>A|V.i(k+C+1)<<32-A:V.i(k+C);return new l(x,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,po=l}).apply(typeof TS<"u"?TS:typeof self<"u"?self:typeof window<"u"?window:{});var _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XP,kd,ZP,Fp,yv,eC,tC,nC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,S){return h==Array.prototype||h==Object.prototype||(h[v]=S.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _p=="object"&&_p];for(var v=0;v<h.length;++v){var S=h[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(h,v){if(v)e:{var S=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var Q=h[D];if(!(Q in S))break e;S=S[Q]}h=h[h.length-1],D=S[h],v=v(D),v!=D&&v!=null&&e(S,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var S=0,D=!1,Q={next:function(){if(!D&&S<h.length){var ne=S++;return{value:v(ne,h[ne]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(h){return h||function(){return o(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,S){return h.call.apply(h.bind,arguments)}function g(h,v,S){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),h.apply(v,Q)}}return function(){return h.apply(v,arguments)}}function _(h,v,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function T(h,v){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function I(h,v){function S(){}S.prototype=v.prototype,h.aa=v.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(D,Q,ne){for(var ye=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ye[nt-2]=arguments[nt];return v.prototype[Q].apply(D,ye)}}function R(h){const v=h.length;if(0<v){const S=Array(v);for(let D=0;D<v;D++)S[D]=h[D];return S}return[]}function b(h,v){for(let S=1;S<arguments.length;S++){const D=arguments[S];if(d(D)){const Q=h.length||0,ne=D.length||0;h.length=Q+ne;for(let ye=0;ye<ne;ye++)h[Q+ye]=D[ye]}else h.push(D)}}class M{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function $(h){return $[" "](h),h}$[" "]=function(){};var B=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function q(h,v,S){for(const D in h)v.call(S,h[D],D,h)}function V(h,v){for(const S in h)v.call(void 0,h[S],S,h)}function A(h){const v={};for(const S in h)v[S]=h[S];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(h,v){let S,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(S in D)h[S]=D[S];for(let ne=0;ne<C.length;ne++)S=C[ne],Object.prototype.hasOwnProperty.call(D,S)&&(h[S]=D[S])}}function x(h){var v=1;h=h.split(":");const S=[];for(;0<v&&h.length;)S.push(h.shift()),v--;return h.length&&S.push(h.join(":")),S}function k(h){u.setTimeout(()=>{throw h},0)}function N(){var h=pe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,S){const D=j.get();D.set(v,S),this.h?this.h.next=D:this.g=D,this.h=D}}var j=new M(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Z=!1,pe=new X,de=()=>{const h=u.Promise.resolve(void 0);oe=()=>{h.then(W)}};var W=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(S){k(S)}var v=j;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}Z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return h}();function Ve(h,v){if(Te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(B){e:{try{$(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else S=="mouseover"?v=h.fromElement:S=="mouseout"&&(v=h.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Fe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ve.aa.h.call(this)}}I(Ve,Te);var Fe={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),$e=0;function et(h,v,S,D,Q){this.listener=h,this.proxy=null,this.src=v,this.type=S,this.capture=!!D,this.ha=Q,this.key=++$e,this.da=this.fa=!1}function gt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ln(h){this.src=h,this.g={},this.h=0}ln.prototype.add=function(h,v,S,D,Q){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var ye=ht(h,v,D,Q);return-1<ye?(v=h[ye],S||(v.fa=!1)):(v=new et(v,this.src,ne,!!D,Q),v.fa=S,h.push(v)),v};function tt(h,v){var S=v.type;if(S in h.g){var D=h.g[S],Q=Array.prototype.indexOf.call(D,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(D,Q,1),ne&&(gt(v),h.g[S].length==0&&(delete h.g[S],h.h--))}}function ht(h,v,S,D){for(var Q=0;Q<h.length;++Q){var ne=h[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!S&&ne.ha==D)return Q}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),$r={};function Rr(h,v,S,D,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Rr(h,v[ne],S,D,Q);return null}return S=hc(S),h&&h[He]?h.K(v,S,f(D)?!!D.capture:!1,Q):Ar(h,v,S,!1,D,Q)}function Ar(h,v,S,D,Q,ne){if(!v)throw Error("Invalid event type");var ye=f(Q)?!!Q.capture:!!Q,nt=Za(h);if(nt||(h[Zt]=nt=new ln(h)),S=nt.add(v,S,D,ye,ne),S.proxy)return S;if(D=qn(),S.proxy=D,D.src=h,D.listener=S,h.addEventListener)Ce||(Q=ye),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),D,Q);else if(h.attachEvent)h.attachEvent(Hi(v.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function qn(){function h(S){return v.call(h.src,h.listener,S)}const v=dc;return h}function Wn(h,v,S,D,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Wn(h,v[ne],S,D,Q);else D=f(D)?!!D.capture:!!D,S=hc(S),h&&h[He]?(h=h.i,v=String(v).toString(),v in h.g&&(ne=h.g[v],S=ht(ne,S,D,Q),-1<S&&(gt(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete h.g[v],h.h--)))):h&&(h=Za(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ht(v,S,D,Q)),(S=-1<h?v[h]:null)&&or(S))}function or(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[He])tt(v.i,h);else{var S=h.type,D=h.proxy;v.removeEventListener?v.removeEventListener(S,D,h.capture):v.detachEvent?v.detachEvent(Hi(S),D):v.addListener&&v.removeListener&&v.removeListener(D),(S=Za(v))?(tt(S,h),S.h==0&&(S.src=null,v[Zt]=null)):gt(h)}}}function Hi(h){return h in $r?$r[h]:$r[h]="on"+h}function dc(h,v){if(h.da)h=!0;else{v=new Ve(v,this);var S=h.listener,D=h.ha||h.src;h.fa&&or(h),h=S.call(D,v)}return h}function Za(h){return h=h[Zt],h instanceof ln?h:null}var el="__closure_events_fn_"+(1e9*Math.random()>>>0);function hc(h){return typeof h=="function"?h:(h[el]||(h[el]=function(v){return h.handleEvent(v)}),h[el])}function en(){ie.call(this),this.i=new ln(this),this.M=this,this.F=null}I(en,ie),en.prototype[He]=!0,en.prototype.removeEventListener=function(h,v,S,D){Wn(this,h,v,S,D)};function tn(h,v){var S,D=h.F;if(D)for(S=[];D;D=D.F)S.push(D);if(h=h.M,D=v.type||v,typeof v=="string")v=new Te(v,h);else if(v instanceof Te)v.target=v.target||h;else{var Q=v;v=new Te(D,h),E(v,Q)}if(Q=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ye=v.g=S[ne];Q=Ki(ye,D,!0,v)&&Q}if(ye=v.g=h,Q=Ki(ye,D,!0,v)&&Q,Q=Ki(ye,D,!1,v)&&Q,S)for(ne=0;ne<S.length;ne++)ye=v.g=S[ne],Q=Ki(ye,D,!1,v)&&Q}en.prototype.N=function(){if(en.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var S=h.g[v],D=0;D<S.length;D++)gt(S[D]);delete h.g[v],h.h--}}this.F=null},en.prototype.K=function(h,v,S,D){return this.i.add(String(h),v,!1,S,D)},en.prototype.L=function(h,v,S,D){return this.i.add(String(h),v,!0,S,D)};function Ki(h,v,S,D){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ye=v[ne];if(ye&&!ye.da&&ye.capture==S){var nt=ye.listener,nn=ye.ha||ye.src;ye.fa&&tt(h.i,ye),Q=nt.call(nn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function fc(h,v,S){if(typeof h=="function")S&&(h=_(h,S));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(h,v||0)}function xs(h){h.g=fc(()=>{h.g=null,h.i&&(h.i=!1,xs(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class zo extends ie{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $o(h){ie.call(this),this.h=h,this.g={}}I($o,ie);var pc=[];function mc(h){q(h.g,function(v,S){this.g.hasOwnProperty(S)&&or(v)},h),h.g={}}$o.prototype.N=function(){$o.aa.N.call(this),mc(this)},$o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gc=u.JSON.stringify,yc=u.JSON.parse,_c=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function qo(){}qo.prototype.h=null;function tl(h){return h.h||(h.h=h.i())}function nl(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){Te.call(this,"d")}I(di,Te);function rl(){Te.call(this,"c")}I(rl,Te);var hi={},vc=null;function Wo(){return vc=vc||new en}hi.La="serverreachability";function wc(h){Te.call(this,hi.La,h)}I(wc,Te);function Gi(h){const v=Wo();tn(v,new wc(v))}hi.STAT_EVENT="statevent";function Ec(h,v){Te.call(this,hi.STAT_EVENT,h),this.stat=v}I(Ec,Te);function jt(h){const v=Wo();tn(v,new Ec(v,h))}hi.Ma="timingevent";function il(h,v){Te.call(this,hi.Ma,h),this.size=v}I(il,Te);function qr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Ho(){this.g=!0}Ho.prototype.xa=function(){this.g=!1};function Ko(h,v,S,D,Q,ne){h.info(function(){if(h.g)if(ne)for(var ye="",nt=ne.split("&"),nn=0;nn<nt.length;nn++){var Ke=nt[nn].split("=");if(1<Ke.length){var un=Ke[0];Ke=Ke[1];var Wt=un.split("_");ye=2<=Wt.length&&Wt[1]=="type"?ye+(un+"="+Ke+"&"):ye+(un+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+v+`
`+S+`
`+ye})}function sl(h,v,S,D,Q,ne,ye){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+v+`
`+S+`
`+ne+" "+ye})}function Wr(h,v,S,D){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qg(h,S)+(D?" "+D:"")})}function Ic(h,v){h.info(function(){return"TIMEOUT: "+v})}Ho.prototype.info=function(){};function Qg(h,v){if(!h.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var D=S[h];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return gc(S)}catch{return v}}var ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ef={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function Go(){}I(Go,qo),Go.prototype.g=function(){return new XMLHttpRequest},Go.prototype.i=function(){return{}},Hr=new Go;function Kr(h,v,S,D){this.j=h,this.i=v,this.l=S,this.R=D||1,this.U=new $o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tf}function tf(){this.i=null,this.g="",this.h=!1}var Tc={},al={};function ll(h,v,S){h.L=1,h.v=Ls(lr(v)),h.m=S,h.P=!0,Sc(h,null)}function Sc(h,v){h.F=Date.now(),ut(h),h.A=lr(h.v);var S=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),Fs(S.i,"t",D),h.C=0,S=h.j.J,h.h=new tf,h.g=wf(h.j,S?v:null,!h.m),0<h.O&&(h.M=new zo(_(h.Y,h,h.g),h.O)),v=h.U,S=h.g,D=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(pc[0]=Q.toString()),Q=pc);for(var ne=0;ne<Q.length;ne++){var ye=Rr(S,Q[ne],D||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Gi(),Ko(h.i,h.u,h.A,h.l,h.R,h.m)}Kr.prototype.ca=function(h){h=h.target;const v=this.M;v&&Kn(h)==3?v.j():this.Y(h)},Kr.prototype.Y=function(h){try{if(h==this.g)e:{const Wt=Kn(this.g);var v=this.g.Ba();const kr=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||kc(this.g)))){this.J||Wt!=4||v==7||(v==8||0>=kr?Gi(3):Gi(2)),Qo(this);var S=this.g.Z();this.X=S;t:if(nf(this)){var D=kc(this.g);h="";var Q=D.length,ne=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),Ns(this);var ye="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,h+=this.h.i.decode(D[v],{stream:!(ne&&v==Q-1)});D.length=0,this.h.g+=h,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,sl(this.i,this.u,this.A,this.l,this.R,Wt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,nn=this.g;if((nt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(nt)){var Ke=nt;break t}}Ke=null}if(S=Ke)Wr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rc(this,S);else{this.o=!1,this.s=3,jt(12),Pr(this),Ns(this);break e}}if(this.P){S=!0;let cr;for(;!this.J&&this.C<ye.length;)if(cr=Yg(this,ye),cr==al){Wt==4&&(this.s=4,jt(14),S=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==Tc){this.s=4,jt(15),Wr(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Wr(this.i,this.l,cr,null),Rc(this,cr);if(nf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||ye.length!=0||this.h.h||(this.s=1,jt(16),S=!1),this.o=this.o&&S,!S)Wr(this.i,this.l,ye,"[Invalid Chunked Response]"),Pr(this),Ns(this);else if(0<ye.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Nc(un),un.M=!0,jt(11))}}else Wr(this.i,this.l,ye,null),Rc(this,ye);Wt==4&&Pr(this),this.o&&!this.J&&(Wt==4?vl(this.j,this):(this.o=!1,ut(this)))}else pl(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Pr(this),Ns(this)}}}catch{}finally{}};function nf(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Yg(h,v){var S=h.C,D=v.indexOf(`
`,S);return D==-1?al:(S=Number(v.substring(S,D)),isNaN(S)?Tc:(D+=1,D+S>v.length?al:(v=v.slice(D,D+S),h.C=D+S,v)))}Kr.prototype.cancel=function(){this.J=!0,Pr(this)};function ut(h){h.S=Date.now()+h.I,rf(h,h.I)}function rf(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=qr(_(h.ba,h),v)}function Qo(h){h.B&&(u.clearTimeout(h.B),h.B=null)}Kr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ic(this.i,this.A),this.L!=2&&(Gi(),jt(17)),Pr(this),this.s=2,Ns(this)):rf(this,this.S-h)};function Ns(h){h.j.G==0||h.J||vl(h.j,h)}function Pr(h){Qo(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,mc(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Rc(h,v){try{var S=h.j;if(S.G!=0&&(S.g==h||Vn(S.h,h))){if(!h.K&&Vn(S.h,h)&&S.G==3){try{var D=S.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)_l(S),Xr(S);else break e;yl(S),jt(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=qr(_(S.Za,S),6e3));if(1>=of(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Zi(S,11)}else if((h.K||S.g==h)&&_l(S),!L(v))for(Q=S.Da.g.parse(v),v=0;v<Q.length;v++){let Ke=Q[v];if(S.T=Ke[0],Ke=Ke[1],S.G==2)if(Ke[0]=="c"){S.K=Ke[1],S.ia=Ke[2];const un=Ke[3];un!=null&&(S.la=un,S.j.info("VER="+S.la));const Wt=Ke[4];Wt!=null&&(S.Aa=Wt,S.j.info("SVER="+S.Aa));const kr=Ke[5];kr!=null&&typeof kr=="number"&&0<kr&&(D=1.5*kr,S.L=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const cr=h.g;if(cr){const na=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var ne=D.h;ne.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ac(ne,ne.h),ne.h=null))}if(D.D){const El=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(D.ya=El,ot(D.I,D.D,El))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),D=S;var ye=h;if(D.qa=vf(D,D.J?D.ia:null,D.W),ye.K){af(D.h,ye);var nt=ye,nn=D.L;nn&&(nt.I=nn),nt.B&&(Qo(nt),ut(nt)),D.g=ye}else ta(D);0<S.i.length&&gi(S)}else Ke[0]!="stop"&&Ke[0]!="close"||Zi(S,7);else S.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Zi(S,7):_n(S):Ke[0]!="noop"&&S.l&&S.l.ta(Ke),S.v=0)}}Gi(4)}catch{}}var sf=class{constructor(h,v){this.g=h,this.map=v}};function Yo(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ar(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function of(h){return h.h?1:h.g?h.g.size:0}function Vn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ac(h,v){h.g?h.g.add(v):h.h=v}function af(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Yo.prototype.cancel=function(){if(this.i=lf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function lf(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const S of h.g.values())v=v.concat(S.D);return v}return R(h.i)}function ul(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],S=h.length,D=0;D<S;D++)v.push(h[D]);return v}v=[],S=0;for(D in h)v[S++]=h[D];return v}function cl(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var S=0;S<h;S++)v.push(S);return v}v=[],S=0;for(const D in h)v[S++]=D;return v}}}function Os(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var S=cl(h),D=ul(h),Q=D.length,ne=0;ne<Q;ne++)v.call(void 0,D[ne],S&&S[ne],h)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jg(h,v){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var D=h[S].indexOf("="),Q=null;if(0<=D){var ne=h[S].substring(0,D);Q=h[S].substring(D+1)}else ne=h[S];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Qi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qi){this.h=h.h,Xo(this,h.j),this.o=h.o,this.g=h.g,Ds(this,h.s),this.l=h.l;var v=h.i,S=new fi;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Vs(this,S),this.m=h.m}else h&&(v=String(h).match(Jo))?(this.h=!1,Xo(this,v[1]||"",!0),this.o=qe(v[2]||""),this.g=qe(v[3]||"",!0),Ds(this,v[4]),this.l=qe(v[5]||"",!0),Vs(this,v[6]||"",!0),this.m=qe(v[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Qi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ms(v,dl,!0),":");var S=this.g;return(S||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ms(v,dl,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Ms(S,S.charAt(0)=="/"?df:cf,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Ms(S,bc)),h.join("")};function lr(h){return new Qi(h)}function Xo(h,v,S){h.j=S?qe(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ds(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Vs(h,v,S){v instanceof fi?(h.i=v,pi(h.i,h.h)):(S||(v=Ms(v,hf)),h.i=new fi(v,h.h))}function ot(h,v,S){h.i.set(v,S)}function Ls(h){return ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function qe(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ms(h,v,S){return typeof h=="string"?(h=encodeURI(h).replace(v,uf),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function uf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var dl=/[#\/\?@]/g,cf=/[#\?:]/g,df=/[#\?]/g,hf=/[#\?@]/g,bc=/#/g;function fi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&Jg(h.i,function(v,S){h.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=fi.prototype,n.add=function(h,v){yn(this),this.i=null,h=Cr(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(v),this.h+=1,this};function Gr(h,v){yn(h),v=Cr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Qr(h,v){return yn(h),v=Cr(h,v),h.g.has(v)}n.forEach=function(h,v){yn(this),this.g.forEach(function(S,D){S.forEach(function(Q){h.call(v,Q,D,this)},this)},this)},n.na=function(){yn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let D=0;D<v.length;D++){const Q=h[D];for(let ne=0;ne<Q.length;ne++)S.push(v[D])}return S},n.V=function(h){yn(this);let v=[];if(typeof h=="string")Qr(this,h)&&(v=v.concat(this.g.get(Cr(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)v=v.concat(h[S])}return v},n.set=function(h,v){return yn(this),this.i=null,h=Cr(this,h),Qr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Fs(h,v,S){Gr(h,v),0<S.length&&(h.i=null,h.g.set(Cr(h,v),R(S)),h.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var D=v[S];const ne=encodeURIComponent(String(D)),ye=this.V(D);for(D=0;D<ye.length;D++){var Q=ne;ye[D]!==""&&(Q+="="+encodeURIComponent(String(ye[D]))),h.push(Q)}}return this.i=h.join("&")};function Cr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function pi(h,v){v&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(S,D){var Q=D.toLowerCase();D!=Q&&(Gr(this,D),Fs(this,Q,S))},h)),h.j=v}function Xg(h,v){const S=new Ho;if(u.Image){const D=new Image;D.onload=T(Hn,S,"TestLoadImage: loaded",!0,v,D),D.onerror=T(Hn,S,"TestLoadImage: error",!1,v,D),D.onabort=T(Hn,S,"TestLoadImage: abort",!1,v,D),D.ontimeout=T(Hn,S,"TestLoadImage: timeout",!1,v,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else v(!1)}function ff(h,v){const S=new Ho,D=new AbortController,Q=setTimeout(()=>{D.abort(),Hn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:D.signal}).then(ne=>{clearTimeout(Q),ne.ok?Hn(S,"TestPingServer: ok",!0,v):Hn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Hn(S,"TestPingServer: error",!1,v)})}function Hn(h,v,S,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(S)}catch{}}function Zg(){this.g=new _c}function pf(h,v,S){const D=S||"";try{Os(h,function(Q,ne){let ye=Q;f(Q)&&(ye=gc(Q)),v.push(D+ne+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(D+"type="+encodeURIComponent("_badmap")),Q}}function Yi(h){this.l=h.Ub||null,this.j=h.eb||!1}I(Yi,qo),Yi.prototype.g=function(){return new Zo(this.l,this.j)},Yi.prototype.i=function(h){return function(){return h}}({});function Zo(h,v){en.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Zo,en),n=Zo.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Jr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mf(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function mf(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Yr(this):Jr(this),this.readyState==3&&mf(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Yr(this))},n.Qa=function(h){this.g&&(this.response=h,Yr(this))},n.ga=function(){this.g&&Yr(this)};function Yr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Jr(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=v.next();return h.join(`\r
`)};function Jr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ji(h){let v="";return q(h,function(S,D){v+=D,v+=":",v+=S,v+=`\r
`}),v}function js(h,v,S){e:{for(D in S){var D=!1;break e}D=!0}D||(S=Ji(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):ot(h,v,S))}function yt(h){en.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(yt,en);var ey=/^https?$/i,Pc=["POST","PUT"];n=yt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?tl(this.o):tl(Hr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ne){ea(this,ne);return}if(h=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)S.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ne of D.keys())S.set(ne,D.get(ne));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Pc,v,void 0))||D||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of S)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fl(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){ea(this,ne)}};function ea(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,hl(h),ur(h)}function hl(h){h.A||(h.A=!0,tn(h,"complete"),tn(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,tn(this,"complete"),tn(this,"abort"),ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Cc(this):this.bb())},n.bb=function(){Cc(this)};function Cc(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Kn(h)!=4||h.Z()!=2)){if(h.u&&Kn(h)==4)fc(h.Ea,0,h);else if(tn(h,"readystatechange"),Kn(h)==4){h.h=!1;try{const ye=h.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var D;if(D=ye===0){var Q=String(h.D).match(Jo)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),D=!ey.test(Q?Q.toLowerCase():"")}S=D}if(S)tn(h,"complete"),tn(h,"success");else{h.m=6;try{var ne=2<Kn(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",hl(h)}}finally{ur(h)}}}}function ur(h,v){if(h.g){fl(h);const S=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||tn(h,"ready");try{S.onreadystatechange=D}catch{}}}function fl(h){h.I&&(u.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Kn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),yc(v)}};function kc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function pl(h){const v={};h=(h.g&&2<=Kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(L(h[D]))continue;var S=x(h[D]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(S)}V(v,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(h,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||v}function xc(h){this.Aa=0,this.i=[],this.j=new Ho,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mi("baseRetryDelayMs",5e3,h),this.cb=mi("retryDelaySeedMs",1e4,h),this.Wa=mi("forwardChannelMaxRetries",2,h),this.wa=mi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Yo(h&&h.concurrentRequestLimit),this.Da=new Zg,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xc.prototype,n.la=8,n.G=1,n.connect=function(h,v,S,D){jt(0),this.W=h,this.H=v||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.I=vf(this,null,this.W),gi(this)};function _n(h){if(ml(h),h.G==3){var v=h.U++,S=lr(h.I);if(ot(S,"SID",h.K),ot(S,"RID",v),ot(S,"TYPE","terminate"),Xi(h,S),v=new Kr(h,h.j,v),v.L=2,v.v=Ls(lr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.v,S=!0),S||(v.g=wf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ut(v)}_f(h)}function Xr(h){h.g&&(Nc(h),h.g.cancel(),h.g=null)}function ml(h){Xr(h),h.u&&(u.clearTimeout(h.u),h.u=null),_l(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function gi(h){if(!ar(h.h)&&!h.s){h.s=!0;var v=h.Ga;oe||de(),Z||(oe(),Z=!0),pe.add(v,h),h.B=0}}function ty(h,v){return of(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=qr(_(h.Ga,h,v),yf(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new Kr(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=A(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Us(this,Q,v),S=lr(this.I),ot(S,"RID",h),ot(S,"CVER",22),this.D&&ot(S,"X-HTTP-Session-Id",this.D),Xi(this,S),ne&&(this.O?v="headers="+encodeURIComponent(String(Ji(ne)))+"&"+v:this.m&&js(S,this.m,ne)),Ac(this.h,Q),this.Ua&&ot(S,"TYPE","init"),this.P?(ot(S,"$req",v),ot(S,"SID","null"),Q.T=!0,ll(Q,S,null)):ll(Q,S,v),this.G=2}}else this.G==3&&(h?gl(this,h):this.i.length==0||ar(this.h)||gl(this))};function gl(h,v){var S;v?S=v.l:S=h.U++;const D=lr(h.I);ot(D,"SID",h.K),ot(D,"RID",S),ot(D,"AID",h.T),Xi(h,D),h.m&&h.o&&js(D,h.m,h.o),S=new Kr(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Us(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ac(h.h,S),ll(S,D,v)}function Xi(h,v){h.H&&q(h.H,function(S,D){ot(v,D,S)}),h.l&&Os({},function(S,D){ot(v,D,S)})}function Us(h,v,S){S=Math.min(h.i.length,S);var D=h.l?_(h.l.Na,h.l,h):null;e:{var Q=h.i;let ne=-1;for(;;){const ye=["count="+S];ne==-1?0<S?(ne=Q[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let nt=!0;for(let nn=0;nn<S;nn++){let Ke=Q[nn].g;const un=Q[nn].map;if(Ke-=ne,0>Ke)ne=Math.max(0,Q[nn].g-100),nt=!1;else try{pf(un,ye,"req"+Ke+"_")}catch{D&&D(un)}}if(nt){D=ye.join("&");break e}}}return h=h.i.splice(0,S),v.D=h,D}function ta(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;oe||de(),Z||(oe(),Z=!0),pe.add(v,h),h.v=0}}function yl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=qr(_(h.Fa,h),yf(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,gf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=qr(_(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),Xr(this),gf(this))};function Nc(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function gf(h){h.g=new Kr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=lr(h.qa);ot(v,"RID","rpc"),ot(v,"SID",h.K),ot(v,"AID",h.T),ot(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ot(v,"TO",h.ja),ot(v,"TYPE","xmlhttp"),Xi(h,v),h.m&&h.o&&js(v,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=Ls(lr(v)),S.m=null,S.P=!0,Sc(S,h)}n.Za=function(){this.C!=null&&(this.C=null,Xr(this),yl(this),jt(19))};function _l(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function vl(h,v){var S=null;if(h.g==v){_l(h),Nc(h),h.g=null;var D=2}else if(Vn(h.h,v))S=v.D,af(h.h,v),D=1;else return;if(h.G!=0){if(v.o)if(D==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var Q=h.B;D=Wo(),tn(D,new il(D,S)),gi(h)}else ta(h);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(D==1&&ty(h,v)||D==2&&yl(h)))switch(S&&0<S.length&&(v=h.h,v.i=v.i.concat(S)),Q){case 1:Zi(h,5);break;case 4:Zi(h,10);break;case 3:Zi(h,6);break;default:Zi(h,2)}}}function yf(h,v){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*v}function Zi(h,v){if(h.j.info("Error code "+v),v==2){var S=_(h.fb,h),D=h.Xa;const Q=!D;D=new Qi(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xo(D,"https"),Ls(D),Q?Xg(D.toString(),S):ff(D.toString(),S)}else jt(2);h.G=0,h.l&&h.l.sa(v),_f(h),ml(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function _f(h){if(h.G=0,h.ka=[],h.l){const v=lf(h.h);(v.length!=0||h.i.length!=0)&&(b(h.ka,v),b(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function vf(h,v,S){var D=S instanceof Qi?lr(S):new Qi(S);if(D.g!="")v&&(D.g=v+"."+D.g),Ds(D,D.s);else{var Q=u.location;D=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new Qi(null);D&&Xo(ne,D),v&&(ne.g=v),Q&&Ds(ne,Q),S&&(ne.l=S),D=ne}return S=h.D,v=h.ya,S&&v&&ot(D,S,v),ot(D,"VER",h.la),Xi(h,D),D}function wf(h,v,S){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new yt(new Yi({eb:S})):new yt(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}n=Oc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wl(){}wl.prototype.g=function(h,v){return new Ln(h,v)};function Ln(h,v){en.call(this),this.g=new xc(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!L(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new yi(this)}I(Ln,en),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){_n(this.g)},Ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=gc(h),h=S);v.i.push(new sf(v.Ya++,h)),v.G==3&&gi(v)},Ln.prototype.N=function(){this.g.l=null,delete this.j,_n(this.g),delete this.g,Ln.aa.N.call(this)};function Ef(h){di.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const S in v){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I(Ef,di);function If(){rl.call(this),this.status=1}I(If,rl);function yi(h){this.g=h}I(yi,Oc),yi.prototype.ua=function(){tn(this.g,"a")},yi.prototype.ta=function(h){tn(this.g,new Ef(h))},yi.prototype.sa=function(h){tn(this.g,new If)},yi.prototype.ra=function(){tn(this.g,"b")},wl.prototype.createWebChannel=wl.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,nC=function(){return new wl},tC=function(){return Wo()},eC=hi,yv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ol.NO_ERROR=0,ol.TIMEOUT=8,ol.HTTP_ERROR=6,Fp=ol,ef.COMPLETE="complete",ZP=ef,nl.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",en.prototype.listen=en.prototype.K,kd=nl,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,XP=yt}).apply(typeof _p<"u"?_p:typeof self<"u"?self:typeof window<"u"?window:{});const SS="@firebase/firestore",RS="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new qm("@firebase/firestore");function eu(){return Io.logLevel}function A4(n){Io.setLogLevel(n)}function ue(n,...e){if(Io.logLevel<=Ue.DEBUG){const t=e.map(Hw);Io.debug(`Firestore (${Xu}): ${n}`,...t)}}function Bt(n,...e){if(Io.logLevel<=Ue.ERROR){const t=e.map(Hw);Io.error(`Firestore (${Xu}): ${n}`,...t)}}function Bi(n,...e){if(Io.logLevel<=Ue.WARN){const t=e.map(Hw);Io.warn(`Firestore (${Xu}): ${n}`,...t)}}function Hw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${Xu}) INTERNAL ASSERTION FAILED: `+n;throw Bt(e),new Error(e)}function Re(n,e){n||Ee()}function b4(n,e){n||Ee()}function ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pn.UNAUTHENTICATED))}shutdown(){}}class C4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class k4{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new rC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new pn(e)}}class x4{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class N4{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new x4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Et(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new AS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new AS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=D4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function Iu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function sC(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=-62135596800,PS=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*PS);return new St(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bS)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PS}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-bS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new St(0,0))}static max(){return new Pe(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="__name__";class Si{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Si.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Si.isNumericId(e),i=Si.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Si.extractNumericId(e).compare(Si.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class Be extends Si{construct(e,t,r){return new Be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Be(t)}static emptyPath(){return new Be([])}}const V4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Si{construct(e,t,r){return new It(e,t,r)}static isValidIdentifier(e){return V4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CS}static keyField(){return new It([CS])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(t)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Be.fromString(e))}static fromName(e){return new _e(Be.fromString(e).popFirst(5))}static empty(){return new _e(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Be(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;class mm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function _v(n){return n.fields.find(e=>e.kind===2)}function _a(n){return n.fields.filter(e=>e.kind!==2)}mm.UNKNOWN_ID=-1;class jp{constructor(e,t){this.fieldPath=e,this.kind=t}}class rh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new rh(0,Sr.min())}}function oC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new Sr(i,_e.empty(),e)}function aC(n){return new Sr(n.readTime,n.key,Tu)}class Sr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Sr(Pe.min(),_e.empty(),Tu)}static max(){return new Sr(Pe.max(),_e.empty(),Tu)}}function Kw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==lC)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(m=>{l[f]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="SimpleDb";class rg{static open(e,t,r,i){try{return new rg(t,e.transaction(i,r))}catch(o){throw new Ud(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Sn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Ud(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=Gw(r.target.error);this.m.reject(new Ud(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue(yr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new M4(t)}}class Vi{static delete(e){return ue(yr,"Removing database:",e),wa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Jd())return!1;if(Vi.v())return!0;const e=xt(),t=Vi.C(e),r=0<t&&t<10,i=cC(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,Vi.C(xt())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ue(yr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;t(l)},i.onblocked=()=>{r(new Ud(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Ud(e,l))},i.onupgradeneeded=o=>{ue(yr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.O.B(l,i.transaction,o.oldVersion,this.version).next(()=>{ue(yr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const u=rg.open(this.db,e,o?"readonly":"readwrite",r),d=i(u).next(f=>(u.S(),f)).catch(f=>(u.abort(f),G.reject(f))).toPromise();return d.catch(()=>{}),await u.p,d}catch(u){const d=u,f=d.name!=="FirebaseError"&&l<3;if(ue(yr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function cC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class L4{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return wa(this.q.delete())}}class Ud extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fo(n){return n.name==="IndexedDbTransactionError"}class M4{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(yr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(yr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wa(r)}add(e){return ue(yr,"ADD",this.store.name,e,e),wa(this.store.add(e))}get(e){return wa(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(yr,"GET",this.store.name,e,t),t))}delete(e){return ue(yr,"DELETE",this.store.name,e),wa(this.store.delete(e))}count(){return ue(yr,"COUNT",this.store.name),wa(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new G((l,u)=>{o.onerror=d=>{u(d.target.error)},o.onsuccess=d=>{l(d.target.result)}})}{const o=this.cursor(r),l=[];return this.j(o,(u,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ue(yr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,l,u)=>u.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=o=>{const l=Gw(o.target.error);i(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}j(e,t){const r=[];return new G((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new L4(u),f=t(u.primaryKey,u.value,d);if(f instanceof G){const m=f.catch(g=>(d.done(),G.reject(g)));r.push(m)}d.isDone?i():d.U===null?u.continue():u.continue(d.U)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wa(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Gw(r.target.error);t(i)}})}let kS=!1;function Gw(n){const e=Vi.C(xt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kS||(kS=!0,setTimeout(()=>{throw r},0)),r}}return n}const Bd="IndexBackfiller";class F4{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue(Bd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();ue(Bd,`Documents written: ${t}`)}catch(t){Fo(t)?ue(Bd,"Ignoring IndexedDB error during index backfill: ",t):await Mo(t)}await this.te(6e4)})}}class j4{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return G.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue(Bd,`Processing collection: ${l}`),this.ie(e,l,i).next(u=>{i-=u,r.add(l)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,o)).next(u=>(ue(Bd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const l=aC(o);Kw(l,r)>0&&(r=l)}),new Sr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}tr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=-1;function Dh(n){return n==null}function ih(n){return n===0&&1/n==-1/0}function dC(n){return typeof n=="number"&&Number.isInteger(n)&&!ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="";function On(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xS(e)),e=U4(n.get(t),e);return xS(e)}function U4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case gm:t+="";break;default:t+=o}}return t}function xS(n){return n+gm+""}function Oi(n){const e=n.length;if(Re(e>=2),e===2)return Re(n.charAt(0)===gm&&n.charAt(1)===""),Be.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const l=n.indexOf(gm,o);switch((l<0||l>t)&&Ee(),n.charAt(l+1)){case"":const u=n.substring(o,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,l),i+="\0";break;case"":i+=n.substring(o,l+1);break;default:Ee()}o=l+2}return new Be(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="remoteDocuments",Vh="owner",$l="owner",sh="mutationQueues",B4="userId",oi="mutations",NS="batchId",Aa="userMutationsIndex",OS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n,e){return[n,On(e)]}function hC(n,e,t){return[n,On(e),t]}const z4={},Su="documentMutations",ym="remoteDocumentsV14",$4=["prefixPath","collectionGroup","readTime","documentId"],Bp="documentKeyIndex",q4=["prefixPath","collectionGroup","documentId"],fC="collectionGroupIndex",W4=["collectionGroup","readTime","prefixPath","documentId"],oh="remoteDocumentGlobal",vv="remoteDocumentGlobalKey",Ru="targets",pC="queryTargetsIndex",H4=["canonicalId","targetId"],Au="targetDocuments",K4=["targetId","path"],Qw="documentTargetsIndex",G4=["path","targetId"],_m="targetGlobalKey",Na="targetGlobal",ah="collectionParents",Q4=["collectionId","parent"],bu="clientMetadata",Y4="clientId",ig="bundles",J4="bundleId",sg="namedQueries",X4="name",Yw="indexConfiguration",Z4="indexId",wv="collectionGroupIndex",ej="collectionGroup",vm="indexState",tj=["indexId","uid"],mC="sequenceNumberIndex",nj=["uid","sequenceNumber"],wm="indexEntries",rj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gC="documentKeyIndex",ij=["indexId","uid","orderedDocumentKey"],og="documentOverlays",sj=["userId","collectionPath","documentId"],Ev="collectionPathOverlayIndex",oj=["userId","collectionPath","largestBatchId"],yC="collectionGroupOverlayIndex",aj=["userId","collectionGroup","largestBatchId"],Jw="globals",lj="name",_C=[sh,oi,Su,va,Ru,Vh,Na,Au,bu,oh,ah,ig,sg],uj=[..._C,og],vC=[sh,oi,Su,ym,Ru,Vh,Na,Au,bu,oh,ah,ig,sg,og],wC=vC,Xw=[...wC,Yw,vm,wm],cj=Xw,dj=[...Xw,Jw];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends uC{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function an(n,e){const t=ve(n);return Vi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vp(this.root,e,this.comparator,!0)}}class vp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??En.RED,this.left=i??En.EMPTY,this.right=o??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new En(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return En.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,o){return this}insert(e,t,r){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VS(this.data.getIterator())}getIteratorFrom(e){return new VS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class VS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ql(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new nr([])}unionWith(e){let t=new it(It.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Iu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IC("Invalid base64 string: "+o):o}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const fj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(n){if(Re(!!n),typeof n=="string"){let e=0;const t=fj.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Es(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="server_timestamp",SC="__type__",RC="__previous_value__",AC="__local_write_time__";function ag(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[SC])===null||t===void 0?void 0:t.stringValue)===TC}function lg(n){const e=n.mapValue.fields[RC];return ag(e)?lg(e):e}function lh(n){const e=ws(n.mapValue.fields[AC].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,t,r,i,o,l,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f}}const Tv="(default)";class To{constructor(e,t){this.projectId=e,this.database=t||Tv}static empty(){return new To("","")}get isDefaultDatabase(){return this.database===Tv}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="__type__",bC="__max__",lo={mapValue:{fields:{__type__:{stringValue:bC}}}},e0="__vector__",Pu="value",zp={nullValue:"NULL_VALUE"};function So(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ag(n)?4:PC(n)?9007199254740991:ug(n)?10:11:Ee()}function zi(n,e){if(n===e)return!0;const t=So(n);if(t!==So(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lh(n).isEqual(lh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ws(i.timestampValue),u=ws(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Es(i.bytesValue).isEqual(Es(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=wt(i.doubleValue),u=wt(o.doubleValue);return l===u?ih(l)===ih(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Iu(n.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(DS(l)!==DS(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!zi(l[d],u[d])))return!1;return!0}(n,e);default:return Ee()}}function uh(n,e){return(n.values||[]).find(t=>zi(t,e))!==void 0}function Ro(n,e){if(n===e)return 0;const t=So(n),r=So(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=wt(o.integerValue||o.doubleValue),d=wt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return LS(n.timestampValue,e.timestampValue);case 4:return LS(lh(n),lh(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(o,l){const u=Es(o),d=Es(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const m=De(u[f],d[f]);if(m!==0)return m}return De(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=De(wt(o.latitude),wt(l.latitude));return u!==0?u:De(wt(o.longitude),wt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return MS(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,f,m;const g=o.fields||{},_=l.fields||{},T=(u=g[Pu])===null||u===void 0?void 0:u.arrayValue,I=(d=_[Pu])===null||d===void 0?void 0:d.arrayValue,R=De(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:MS(T,I)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===lo.mapValue&&l===lo.mapValue)return 0;if(o===lo.mapValue)return 1;if(l===lo.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=De(d[g],m[g]);if(_!==0)return _;const T=Ro(u[d[g]],f[m[g]]);if(T!==0)return T}return De(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function LS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=ws(n),r=ws(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function MS(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ro(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function Cu(n){return Sv(n)}function Sv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ws(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Es(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Sv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Sv(t.fields[l])}`;return i+"}"}(n.mapValue):Ee()}function $p(n){switch(So(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lg(n);return e?16+$p(e):16;case 5:return 2*n.stringValue.length;case 6:return Es(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+$p(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return jo(r.fields,(o,l)=>{i+=o.length+$p(l)}),i}(n.mapValue);default:throw Ee()}}function Va(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rv(n){return!!n&&"integerValue"in n}function ch(n){return!!n&&"arrayValue"in n}function FS(n){return!!n&&"nullValue"in n}function jS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qp(n){return!!n&&"mapValue"in n}function ug(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zw])===null||t===void 0?void 0:t.stringValue)===e0}function zd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return jo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=zd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bC}const CC={mapValue:{fields:{[Zw]:{stringValue:e0},[Pu]:{arrayValue:{}}}}};function mj(n){return"nullValue"in n?zp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Va(To.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ug(n)?CC:{mapValue:{}}:Ee()}function gj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Va(To.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?CC:"mapValue"in n?ug(n)?{mapValue:{}}:lo:Ee()}function US(n,e){const t=Ro(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function BS(n,e){const t=Ro(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zd(t)}setAll(e){let t=It.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=zd(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){jo(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Tn(zd(this.value))}}function kC(n){const e=[];return jo(n.fields,(t,r)=>{const i=new It([t]);if(qp(r)){const o=kC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new mt(e,0,Pe.min(),Pe.min(),Pe.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,i){return new mt(e,1,t,Pe.min(),r,i,0)}static newNoDocument(e,t){return new mt(e,2,t,Pe.min(),Pe.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new mt(e,3,t,Pe.min(),Pe.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t){this.position=e,this.inclusive=t}}function zS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=Ro(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $S(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function yj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{}class ze extends xC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _j(e,t,r):t==="array-contains"?new Ej(e,r):t==="in"?new MC(e,r):t==="not-in"?new Ij(e,r):t==="array-contains-any"?new Tj(e,r):new ze(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new vj(e,r):new wj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ro(t,this.value)):t!==null&&So(this.value)===So(t)&&this.matchesComparison(Ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rt extends xC{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new rt(e,t)}matches(e){return ku(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ku(n){return n.op==="and"}function Av(n){return n.op==="or"}function t0(n){return NC(n)&&ku(n)}function NC(n){for(const e of n.filters)if(e instanceof rt)return!1;return!0}function bv(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+Cu(n.value);if(t0(n))return n.filters.map(e=>bv(e)).join(",");{const e=n.filters.map(t=>bv(t)).join(",");return`${n.op}(${e})`}}function OC(n,e){return n instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&zi(r.value,i.value)}(n,e):n instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&OC(l,i.filters[u]),!0):!1}(n,e):void Ee()}function DC(n,e){const t=n.filters.concat(e);return rt.create(t,n.op)}function VC(n){return n instanceof ze?function(t){return`${t.field.canonicalString()} ${t.op} ${Cu(t.value)}`}(n):n instanceof rt?function(t){return t.op.toString()+" {"+t.getFilters().map(VC).join(" ,")+"}"}(n):"Filter"}class _j extends ze{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class vj extends ze{constructor(e,t){super(e,"in",t),this.keys=LC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wj extends ze{constructor(e,t){super(e,"not-in",t),this.keys=LC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Ej extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ch(t)&&uh(t.arrayValue,this.value)}}class MC extends ze{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uh(this.value.arrayValue,t)}}class Ij extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!uh(this.value.arrayValue,t)}}class Tj extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ch(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>uh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function Pv(n,e=null,t=[],r=[],i=null,o=null,l=null){return new Sj(n,e,t,r,i,o,l)}function La(n){const e=ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Cu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Cu(r)).join(",")),e.le=t}return e.le}function Lh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$S(n.startAt,e.startAt)&&$S(n.endAt,e.endAt)}function Em(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Im(n,e){return n.filters.filter(t=>t instanceof ze&&t.field.isEqual(e))}function qS(n,e,t){let r=zp,i=!0;for(const o of Im(n,e)){let l=zp,u=!0;switch(o.op){case"<":case"<=":l=mj(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=zp}US({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];US({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function WS(n,e,t){let r=lo,i=!0;for(const o of Im(n,e)){let l=lo,u=!0;switch(o.op){case">=":case">":l=gj(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=lo}BS({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];BS({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function FC(n,e,t,r,i,o,l,u){return new bs(n,e,t,r,i,o,l,u)}function Zu(n){return new bs(n)}function HS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function n0(n){return n.collectionGroup!==null}function hu(n){const e=ve(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new it(It.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new dh(o,r))}),t.has(It.keyField().canonicalString())||e.he.push(new dh(It.keyField(),r))}return e.he}function zn(n){const e=ve(n);return e.Pe||(e.Pe=Rj(e,hu(n))),e.Pe}function Rj(n,e){if(n.limitType==="F")return Pv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new dh(i.field,o)});const t=n.endAt?new Ao(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ao(n.startAt.position,n.startAt.inclusive):null;return Pv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Cv(n,e){const t=n.filters.concat([e]);return new bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tm(n,e,t){return new bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mh(n,e){return Lh(zn(n),zn(e))&&n.limitType===e.limitType}function jC(n){return`${La(zn(n))}|lt:${n.limitType}`}function tu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VC(i)).join(", ")}]`),Dh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Cu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Cu(i)).join(",")),`Target(${r})`}(zn(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of hu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const f=zS(l,u,d);return l.inclusive?f<=0:f<0}(r.startAt,hu(r),i)||r.endAt&&!function(l,u,d){const f=zS(l,u,d);return l.inclusive?f>=0:f>0}(r.endAt,hu(r),i))}(n,e)}function UC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BC(n){return(e,t)=>{let r=!1;for(const i of hu(n)){const o=Aj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Aj(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?Ro(d,f):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return EC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new dt(_e.comparator);function rr(){return bj}const zC=new dt(_e.comparator);function xd(...n){let e=zC;for(const t of n)e=e.insert(t.key,t);return e}function $C(n){let e=zC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Di(){return $d()}function qC(){return $d()}function $d(){return new Ps(n=>n.toString(),(n,e)=>n.isEqual(e))}const Pj=new dt(_e.comparator),Cj=new it(_e.comparator);function Me(...n){let e=Cj;for(const t of n)e=e.add(t);return e}const kj=new it(De);function r0(){return kj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function WC(n){return{integerValue:""+n}}function HC(n,e){return dC(e)?WC(e):i0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this._=void 0}}function xj(n,e,t){return n instanceof xu?function(i,o){const l={fields:{[SC]:{stringValue:TC},[AC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ag(o)&&(o=lg(o)),o&&(l.fields[RC]=o),{mapValue:l}}(t,e):n instanceof Ma?GC(n,e):n instanceof Fa?QC(n,e):function(i,o){const l=KC(i,o),u=KS(l)+KS(i.Ie);return Rv(l)&&Rv(i.Ie)?WC(u):i0(i.serializer,u)}(n,e)}function Nj(n,e,t){return n instanceof Ma?GC(n,e):n instanceof Fa?QC(n,e):t}function KC(n,e){return n instanceof Nu?function(r){return Rv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xu extends cg{}class Ma extends cg{constructor(e){super(),this.elements=e}}function GC(n,e){const t=YC(e);for(const r of n.elements)t.some(i=>zi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Fa extends cg{constructor(e){super(),this.elements=e}}function QC(n,e){let t=YC(e);for(const r of n.elements)t=t.filter(i=>!zi(i,r));return{arrayValue:{values:t}}}class Nu extends cg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function KS(n){return wt(n.integerValue||n.doubleValue)}function YC(n){return ch(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this.field=e,this.transform=t}}function Oj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ma&&i instanceof Ma||r instanceof Fa&&i instanceof Fa?Iu(r.elements,i.elements,zi):r instanceof Nu&&i instanceof Nu?zi(r.Ie,i.Ie):r instanceof xu&&i instanceof xu}(n.transform,e.transform)}class Dj{constructor(e,t){this.version=e,this.transformResults=t}}class Tt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tt}static exists(e){return new Tt(void 0,e)}static updateTime(e){return new Tt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class dg{}function JC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tc(n.key,Tt.none()):new ec(n.key,n.data,Tt.none());{const t=n.data,r=Tn.empty();let i=new it(It.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Cs(n.key,r,new nr(i.toArray()),Tt.none())}}function Vj(n,e,t){n instanceof ec?function(i,o,l){const u=i.value.clone(),d=QS(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Cs?function(i,o,l){if(!Wp(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=QS(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(XC(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function qd(n,e,t,r){return n instanceof ec?function(o,l,u,d){if(!Wp(o.precondition,l))return u;const f=o.value.clone(),m=YS(o.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cs?function(o,l,u,d){if(!Wp(o.precondition,l))return u;const f=YS(o.fieldTransforms,d,l),m=l.data;return m.setAll(XC(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,l,u){return Wp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function Lj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=KC(r.transform,i||null);o!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,o))}return t||null}function GS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Iu(r,i,(o,l)=>Oj(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ec extends dg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cs extends dg{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function QS(n,e,t){const r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,Nj(l,u,t[i]))}return r}function YS(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,xj(o,l,e))}return r}class tc extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s0 extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Vj(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=qd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=qd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qC();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=JC(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Iu(this.mutations,e.mutations,(t,r)=>GS(t,r))&&Iu(this.baseMutations,e.baseMutations,(t,r)=>GS(t,r))}}class a0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=function(){return Pj}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new a0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ge;function ZC(n){switch(n){case te.OK:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee()}}function e1(n){if(n===void 0)return Bt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Gt.OK:return te.OK;case Gt.CANCELLED:return te.CANCELLED;case Gt.UNKNOWN:return te.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return te.INTERNAL;case Gt.UNAVAILABLE:return te.UNAVAILABLE;case Gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Gt.NOT_FOUND:return te.NOT_FOUND;case Gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Gt.ABORTED:return te.ABORTED;case Gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Gt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Ge=Gt||(Gt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new po([4294967295,4294967295],0);function JS(n){const e=t1().encode(n),t=new JP;return t.update(e),new Uint8Array(t.digest())}function XS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new po([t,r],0),new po([i,o],0)]}class u0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nd(`Invalid padding: ${t}`);if(r<0)throw new Nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=po.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(po.fromNumber(r)));return i.compare(Fj)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=JS(e),[r,i]=XS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new u0(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=JS(e),[r,i]=XS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Uh(Pe.min(),i,new dt(De),rr(),Me())}}class Bh{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Bh(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class n1{constructor(e,t){this.targetId=e,this.ge=t}}class r1{constructor(e,t,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ZS{constructor(){this.pe=0,this.ye=eR(),this.we=Lt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),t=Me(),r=Me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Bh(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=eR()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Re(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jj{constructor(e){this.ke=e,this.qe=new Map,this.Qe=rr(),this.$e=wp(),this.Ke=wp(),this.Ue=new dt(De)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(Em(o))if(r===0){const l=new _e(o.path);this.ze(t,l,mt.newNoDocument(l,Pe.min()))}else Re(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=Es(r).toUint8Array()}catch(d){if(d instanceof IC)return Bi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new u0(l,i,o)}catch(d){return Bi(d instanceof Nd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&Em(u.target)){const d=new _e(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,mt.newNoDocument(d,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=Me();this.Ke.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new Uh(e,t,this.Ue,this.Qe,r);return this.Qe=rr(),this.$e=wp(),this.Ke=wp(),this.Ue=new dt(De),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new ZS,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new it(De),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new it(De),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ZS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function wp(){return new dt(_e.comparator)}function eR(){return new dt(_e.comparator)}const Uj={asc:"ASCENDING",desc:"DESCENDING"},Bj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zj={and:"AND",or:"OR"};class $j{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kv(n,e){return n.useProto3Json||Dh(e)?e:{value:e}}function Ou(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qj(n,e){return Ou(n,e.toTimestamp())}function zt(n){return Re(!!n),Pe.fromTimestamp(function(t){const r=ws(t);return new St(r.seconds,r.nanos)}(n))}function c0(n,e){return xv(n,e).canonicalString()}function xv(n,e){const t=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function s1(n){const e=Be.fromString(n);return Re(m1(e)),e}function hh(n,e){return c0(n.databaseId,e.path)}function Li(n,e){const t=s1(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(l1(t))}function o1(n,e){return c0(n.databaseId,e)}function a1(n){const e=s1(n);return e.length===4?Be.emptyPath():l1(e)}function Nv(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l1(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function tR(n,e,t){return{name:hh(n,e),fields:t.value.mapValue.fields}}function u1(n,e,t){const r=Li(n,e.name),i=zt(e.updateTime),o=e.createTime?zt(e.createTime):Pe.min(),l=new Tn({mapValue:{fields:e.fields}}),u=mt.newFoundDocument(r,i,o,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Wj(n,e){return"found"in e?function(r,i){Re(!!i.found),i.found.name,i.found.updateTime;const o=Li(r,i.found.name),l=zt(i.found.updateTime),u=i.found.createTime?zt(i.found.createTime):Pe.min(),d=new Tn({mapValue:{fields:i.found.fields}});return mt.newFoundDocument(o,l,u,d)}(n,e):"missing"in e?function(r,i){Re(!!i.missing),Re(!!i.readTime);const o=Li(r,i.missing),l=zt(i.readTime);return mt.newNoDocument(o,l)}(n,e):Ee()}function Hj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(Re(m===void 0||typeof m=="string"),Lt.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Lt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?te.UNKNOWN:e1(f.code);return new ae(m,f.message||"")}(l);t=new r1(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Li(n,r.document.name),o=zt(r.document.updateTime),l=r.document.createTime?zt(r.document.createTime):Pe.min(),u=new Tn({mapValue:{fields:r.document.fields}}),d=mt.newFoundDocument(i,o,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Hp(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Li(n,r.document),o=r.readTime?zt(r.readTime):Pe.min(),l=mt.newNoDocument(i,o),u=r.removedTargetIds||[];t=new Hp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Li(n,r.document),o=r.removedTargetIds||[];t=new Hp([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new Mj(i,o),u=r.targetId;t=new n1(u,l)}}return t}function fh(n,e){let t;if(e instanceof ec)t={update:tR(n,e.key,e.value)};else if(e instanceof tc)t={delete:hh(n,e.key)};else if(e instanceof Cs)t={update:tR(n,e.key,e.data),updateMask:Xj(e.fieldMask)};else{if(!(e instanceof s0))return Ee();t={verify:hh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof xu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ma)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Fa)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Nu)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:qj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(n,e.precondition)),t}function Ov(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?Tt.updateTime(zt(o.updateTime)):o.exists!==void 0?Tt.exists(o.exists):Tt.none()}(e.currentDocument):Tt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME"),d=new xu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new Ma(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new Fa(m)}else"increment"in u?d=new Nu(l,u.increment):Ee();const f=It.fromServerFormat(u.fieldPath);return new jh(f,d)}(n,i)):[];if(e.update){e.update.name;const i=Li(n,e.update.name),o=new Tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const f=d.fieldPaths||[];return new nr(f.map(m=>It.fromServerFormat(m)))}(e.updateMask);return new Cs(i,o,l,t,r)}return new ec(i,o,t,r)}if(e.delete){const i=Li(n,e.delete);return new tc(i,t)}if(e.verify){const i=Li(n,e.verify);return new s0(i,t)}return Ee()}function Kj(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?zt(i.updateTime):zt(o);return l.isEqual(Pe.min())&&(l=zt(o)),new Dj(l,i.transformResults||[])}(t,e))):[]}function c1(n,e){return{documents:[o1(n,e.path)]}}function d1(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=o1(n,i);const o=function(f){if(f.length!==0)return p1(rt.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(_){return{field:nu(_.field),direction:Qj(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=kv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function h1(n){let e=a1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(g){const _=f1(g);return _ instanceof rt&&t0(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(_=>function(I){return new dh(ru(I.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,Dh(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(g){const _=!!g.before,T=g.values||[];return new Ao(T,_)}(t.startAt));let f=null;return t.endAt&&(f=function(g){const _=!g.before,T=g.values||[];return new Ao(T,_)}(t.endAt)),FC(e,i,l,o,u,"F",d,f)}function Gj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function f1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ru(t.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ru(t.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ru(t.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ru(t.unaryFilter.field);return ze.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return ze.create(ru(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rt.create(t.compositeFilter.filters.map(r=>f1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function Qj(n){return Uj[n]}function Yj(n){return Bj[n]}function Jj(n){return zj[n]}function nu(n){return{fieldPath:n.canonicalString()}}function ru(n){return It.fromServerFormat(n.fieldPath)}function p1(n){return n instanceof ze?function(t){if(t.op==="=="){if(jS(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NAN"}};if(FS(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jS(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NOT_NAN"}};if(FS(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(t.field),op:Yj(t.op),value:t.value}}}(n):n instanceof rt?function(t){const r=t.getFilters().map(i=>p1(i));return r.length===1?r[0]:{compositeFilter:{op:Jj(t.op),filters:r}}}(n):Ee()}function Xj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function m1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t,r,i,o=Pe.min(),l=Pe.min(),u=Lt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.Tt=e}}function Zj(n,e){let t;if(e.document)t=u1(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=Ua(e.noDocument.readTime);t=mt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=_e.fromSegments(e.unknownDocument.path),i=Ua(e.unknownDocument.version);t=mt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new St(i[0],i[1]);return Pe.fromTimestamp(o)}(e.readTime)),t}function nR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Sm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,l){return{name:hh(o,l.key),fields:l.data.value.mapValue.fields,updateTime:Ou(o,l.version.toTimestamp()),createTime:Ou(o,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ja(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:ja(e.version)}}return r}function Sm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ja(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ua(n){const e=new St(n.seconds,n.nanoseconds);return Pe.fromTimestamp(e)}function Ea(n,e){const t=(e.baseMutations||[]).map(o=>Ov(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>Ov(n.Tt,o)),i=St.fromMillis(e.localWriteTimeMs);return new o0(e.batchId,i,t,r)}function Od(n){const e=Ua(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ua(n.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Re(o.documents.length===1),zn(Zu(a1(o.documents[0])))}(n.query):function(o){return zn(h1(o))}(n.query),new ps(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Lt.fromBase64String(n.resumeToken))}function y1(n,e){const t=ja(e.snapshotVersion),r=ja(e.lastLimboFreeSnapshotVersion);let i;i=Em(e.target)?c1(n.Tt,e.target):d1(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:La(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function d0(n){const e=h1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tm(e,e.limit,"L"):e}function F_(n,e){return new l0(e.largestBatchId,Ov(n.Tt,e.overlayMutation))}function rR(n,e){const t=e.path.lastSegment();return[n,On(e.path.popLast()),t]}function iR(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:ja(r.readTime),documentKey:On(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{getBundleMetadata(e,t){return sR(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Ua(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return sR(e).put(function(i){return{bundleId:i.id,createTime:ja(zt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return oR(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:d0(o.bundledQuery),readTime:Ua(o.readTime)}}(r)})}saveNamedQuery(e,t){return oR(e).put(function(i){return{name:i.name,readTime:ja(zt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function sR(n){return an(n,ig)}function oR(n){return an(n,sg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new hg(e,r)}getOverlay(e,t){return ld(e).get(rR(this.userId,t)).next(r=>r?F_(this.serializer,r):null)}getOverlays(e,t){const r=Di();return G.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,l)=>{const u=new l0(t,l);i.push(this.Et(e,u))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(On(l.getCollectionPath())));const o=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(ld(e).J(Ev,u))}),G.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Di(),o=On(t),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ld(e).G(Ev,l).next(u=>{for(const d of u){const f=F_(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Di();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ld(e).Z({index:yC,range:u},(d,f,m)=>{const g=F_(this.serializer,f);o.size()<i||g.largestBatchId===l?(o.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>o)}Et(e,t){return ld(e).put(function(i,o,l){const[u,d,f]=rR(o,l.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:fh(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function ld(n){return an(n,og)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{dt(e){return an(e,Jw)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Lt.fromUint8Array(r):Lt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),ih(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=ws(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Es(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?PC(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ug(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Ee()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const l=Pu,u=((i=(r=o[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(wt(u)),this.wt(l,t),this.Rt(o[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Ia.xt=new Ia;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=255;function nU(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function aR(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const l=nU(255&r[o]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class rU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=aR(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=aR(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(Wl),this.jt(255)}Ht(){this.Jt(Wl),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===Wl?(this.jt(Wl),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===Wl?(this.Jt(Wl),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class iU{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class sU{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class ud{constructor(){this.Zt=new rU,this.Xt=new iU(this.Zt),this.en=new sU(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ta(this.indexId,this.documentKey,this.arrayValue,r)}}function no(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=lR(n.arrayValue,e.arrayValue),t!==0?t:(t=lR(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function lR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.rn=new it((t,r)=>It.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Re(e.collectionGroup===this.collectionId),this.an)return!1;const t=_v(e);if(t!==void 0&&!this.cn(t))return!1;const r=_a(e);let i=new Set,o=0,l=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const u=this.rn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[o];if(!this.ln(u,d)||!this.hn(this.sn[l++],d))return!1}++o}for(;o<r.length;++o){const u=r[o];if(l>=this.sn.length||!this.hn(this.sn[l++],u))return!1}return!0}Pn(){if(this.an)return null;let e=new it(It.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new jp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new jp(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new jp(r.field,r.dir==="asc"?0:1)));return new mm(mm.UNKNOWN_ID,this.collectionId,t,rh.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n){var e,t;if(Re(n instanceof ze||n instanceof rt),n instanceof ze){if(n instanceof MC){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>ze.create(n.field,"==",o)))||[];return rt.create(i,"or")}return n}const r=n.filters.map(i=>_1(i));return rt.create(r,n.op)}function oU(n){if(n.getFilters().length===0)return[];const e=Lv(_1(n));return Re(v1(e)),Dv(e)||Vv(e)?[e]:e.getFilters()}function Dv(n){return n instanceof ze}function Vv(n){return n instanceof rt&&t0(n)}function v1(n){return Dv(n)||Vv(n)||function(t){if(t instanceof rt&&Av(t)){for(const r of t.getFilters())if(!Dv(r)&&!Vv(r))return!1;return!0}return!1}(n)}function Lv(n){if(Re(n instanceof ze||n instanceof rt),n instanceof ze)return n;if(n.filters.length===1)return Lv(n.filters[0]);const e=n.filters.map(r=>Lv(r));let t=rt.create(e,n.op);return t=Rm(t),v1(t)?t:(Re(t instanceof rt),Re(ku(t)),Re(t.filters.length>1),t.filters.reduce((r,i)=>h0(r,i)))}function h0(n,e){let t;return Re(n instanceof ze||n instanceof rt),Re(e instanceof ze||e instanceof rt),t=n instanceof ze?e instanceof ze?function(i,o){return rt.create([i,o],"and")}(n,e):cR(n,e):e instanceof ze?cR(e,n):function(i,o){if(Re(i.filters.length>0&&o.filters.length>0),ku(i)&&ku(o))return DC(i,o.getFilters());const l=Av(i)?i:o,u=Av(i)?o:i,d=l.filters.map(f=>h0(f,u));return rt.create(d,"or")}(n,e),Rm(t)}function cR(n,e){if(ku(e))return DC(e,n.getFilters());{const t=e.filters.map(r=>h0(n,r));return rt.create(t,"or")}}function Rm(n){if(Re(n instanceof ze||n instanceof rt),n instanceof ze)return n;const e=n.getFilters();if(e.length===1)return Rm(e[0]);if(NC(n))return n;const t=e.map(i=>Rm(i)),r=[];return t.forEach(i=>{i instanceof ze?r.push(i):i instanceof rt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:rt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(){this.Tn=new f0}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Sr.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class f0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(Be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="IndexedDbIndexManager",Ep=new Uint8Array(0);class lU{constructor(e,t){this.databaseId=t,this.In=new f0,this.En=new Ps(r=>La(r),(r,i)=>Lh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:On(i)};return hR(e).put(o)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[sC(t),""],!1,!0);return hR(e).G(i).next(o=>{for(const l of o){if(l.collectionId!==t)break;r.push(Oi(l.parent))}return r})}addFieldIndex(e,t){const r=cd(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const l=Kl(e);return o.next(u=>{l.put(iR(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=cd(e),i=Kl(e),o=Hl(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=cd(e),r=Hl(e),i=Kl(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return G.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new uR(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Hl(e);let i=!0;const o=new Map;return G.forEach(this.dn(t),l=>this.An(e,l).next(u=>{i&&(i=!!u),o.set(l,u)})).next(()=>{if(i){let l=Me();const u=[];return G.forEach(o,(d,f)=>{ue(dR,`Using index ${function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`}(d)} to execute ${La(t)}`);const m=function(F,$){const B=_v($);if(B===void 0)return null;for(const q of Im(F,B.fieldPath))switch(q.op){case"array-contains-any":return q.value.arrayValue.values||[];case"array-contains":return[q.value]}return null}(f,d),g=function(F,$){const B=new Map;for(const q of _a($))for(const V of Im(F,q.fieldPath))switch(V.op){case"==":case"in":B.set(q.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return B.set(q.fieldPath.canonicalString(),V.value),Array.from(B.values())}return null}(f,d),_=function(F,$){const B=[];let q=!0;for(const V of _a($)){const A=V.kind===0?qS(F,V.fieldPath,F.startAt):WS(F,V.fieldPath,F.startAt);B.push(A.value),q&&(q=A.inclusive)}return new Ao(B,q)}(f,d),T=function(F,$){const B=[];let q=!0;for(const V of _a($)){const A=V.kind===0?WS(F,V.fieldPath,F.endAt):qS(F,V.fieldPath,F.endAt);B.push(A.value),q&&(q=A.inclusive)}return new Ao(B,q)}(f,d),I=this.Rn(d,f,_),R=this.Rn(d,f,T),b=this.Vn(d,f,g),M=this.mn(d.indexId,m,I,_.inclusive,R,T.inclusive,b);return G.forEach(M,L=>r.H(L,t.limit).next(F=>{F.forEach($=>{const B=_e.fromSegments($.documentKey);l.has(B)||(l=l.add(B),u.push(B))})}))}).next(()=>u)}return G.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=oU(rt.create(e.filters,"and")).map(r=>Pv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const _=t?this.fn(t[g/f]):Ep,T=this.gn(e,_,r[g%f],i),I=this.pn(e,_,o[g%f],l),R=u.map(b=>this.gn(e,_,b,!0));m.push(...this.createRange(T,I,R))}return m}gn(e,t,r,i){const o=new Ta(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new Ta(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new uR(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let l=null;for(const u of o)r.un(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return G.forEach(i,o=>this.An(e,o).next(l=>{l?r!==0&&l.fields.length<function(d){let f=new it(It.comparator),m=!1;for(const g of d.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:f=f.add(_.field));for(const g of d.orderBy)g.field.isKeyField()||(f=f.add(g.field));return f.size+(m?1:0)}(o)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new ud;for(const i of _a(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const l=r.tn(i.kind);Ia.xt.At(o,l)}return r.Yt()}fn(e){const t=new ud;return Ia.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new ud;return Ia.xt.At(Va(this.databaseId,t),r.tn(function(o){const l=_a(o);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new ud);let o=0;for(const l of _a(e)){const u=r[o++];for(const d of i)if(this.Sn(t,l.fieldPath)&&ch(u))i=this.bn(i,l,u);else{const f=d.tn(l.kind);Ia.xt.At(u,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}bn(e,t,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new ud;d.seed(u.Yt()),Ia.xt.At(l,d.tn(t.kind)),o.push(d)}return o}Sn(e,t){return!!e.filters.find(r=>r instanceof ze&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=cd(e),i=Kl(e);return(t?r.G(wv,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const l=[];return G.forEach(o,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const _=g?new rh(g.sequenceNumber,new Sr(Ua(g.readTime),new _e(Oi(g.documentKey)),g.largestBatchId)):rh.empty(),T=m.fields.map(([I,R])=>new jp(It.fromServerFormat(I),R));return new mm(m.indexId,m.collectionGroup,T,_)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=cd(e),o=Kl(e);return this.vn(e).next(l=>i.G(wv,IDBKeyRange.bound(t,t)).next(u=>G.forEach(u,d=>o.put(iR(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,o)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),G.forEach(u,d=>this.Cn(e,i,d).next(f=>{const m=this.Fn(o,d);return f.isEqual(m)?G.resolve():this.Mn(e,o,d,f,m)}))))})}xn(e,t,r,i){return Hl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return Hl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=Hl(e);let o=new it(no);return i.Z({index:gC,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,u)=>{o=o.add(new Ta(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>o)}Fn(e,t){let r=new it(no);const i=this.yn(t,e);if(i==null)return r;const o=_v(t);if(o!=null){const l=e.data.field(o.fieldPath);if(ch(l))for(const u of l.arrayValue.values||[])r=r.add(new Ta(t.indexId,e.key,this.fn(u),i))}else r=r.add(new Ta(t.indexId,e.key,Ep,i));return r}Mn(e,t,r,i,o){ue(dR,"Updating index entries for document '%s'",t.key);const l=[];return function(d,f,m,g,_){const T=d.getIterator(),I=f.getIterator();let R=ql(T),b=ql(I);for(;R||b;){let M=!1,L=!1;if(R&&b){const F=m(R,b);F<0?L=!0:F>0&&(M=!0)}else R!=null?L=!0:M=!0;M?(g(b),b=ql(I)):L?(_(R),R=ql(T)):(R=ql(T),b=ql(I))}}(i,o,no,u=>{l.push(this.xn(e,t,r,u))},u=>{l.push(this.On(e,t,r,u))}),G.waitFor(l)}vn(e){let t=1;return Kl(e).Z({index:mC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>no(l,u)).filter((l,u,d)=>!u||no(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=no(l,e),d=no(l,t);if(u===0)i[0]=e.nn();else if(u>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const o=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Ep,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Ep,[]];o.push(IDBKeyRange.bound(u,d))}return o}Nn(e,t){return no(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(fR)}getMinOffset(e,t){return G.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Ee())).next(fR)}}function hR(n){return an(n,ah)}function Hl(n){return an(n,wm)}function cd(n){return an(n,Yw)}function Kl(n){return an(n,vm)}function fR(n){Re(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Kw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Sr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w1=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n,e,t){const r=n.store(oi),i=n.store(Su),o=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.Z({range:l},(m,g,_)=>(u++,_.delete()));o.push(d.next(()=>{Re(u===1)}));const f=[];for(const m of t.mutations){const g=hC(e,m.key.path,t.batchId);o.push(i.delete(g)),f.push(m.key)}return G.waitFor(o).next(()=>f)}function Am(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(w1,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class fg{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Re(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new fg(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ro(e).Z({index:Aa,range:r},(i,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=iu(e),l=ro(e);return l.add({}).next(u=>{Re(typeof u=="number");const d=new o0(u,t,r,i),f=function(T,I,R){const b=R.baseMutations.map(L=>fh(T.Tt,L)),M=R.mutations.map(L=>fh(T.Tt,L));return{userId:I,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:b,mutations:M}}(this.serializer,this.userId,d),m=[];let g=new it((_,T)=>De(_.canonicalString(),T.canonicalString()));for(const _ of i){const T=hC(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(l.put(f)),m.push(o.put(T,z4))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Bn[u]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return ro(e).get(t).next(r=>r?(Re(r.userId===this.userId),Ea(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?G.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ro(e).Z({index:Aa,range:i},(l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r),o=Ea(this.serializer,u)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=mo;return ro(e).Z({index:Aa,range:t,reverse:!0},(i,o,l)=>{r=o.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,mo],[this.userId,Number.POSITIVE_INFINITY]);return ro(e).G(Aa,t).next(r=>r.map(i=>Ea(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Up(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return iu(e).Z({range:i},(l,u,d)=>{const[f,m,g]=l,_=Oi(m);if(f===this.userId&&t.path.isEqual(_))return ro(e).get(g).next(T=>{if(!T)throw Ee();Re(T.userId===this.userId),o.push(Ea(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(De);const i=[];return t.forEach(o=>{const l=Up(this.userId,o.path),u=IDBKeyRange.lowerBound(l),d=iu(e).Z({range:u},(f,m,g)=>{const[_,T,I]=f,R=Oi(T);_===this.userId&&o.path.isEqual(R)?r=r.add(I):g.done()});i.push(d)}),G.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Up(this.userId,r),l=IDBKeyRange.lowerBound(o);let u=new it(De);return iu(e).Z({range:l},(d,f,m)=>{const[g,_,T]=d,I=Oi(_);g===this.userId&&r.isPrefixOf(I)?I.length===i&&(u=u.add(T)):m.done()}).next(()=>this.kn(e,u))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(ro(e).get(o).next(l=>{if(l===null)throw Ee();Re(l.userId===this.userId),r.push(Ea(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return E1(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return iu(e).Z({range:r},(o,l,u)=>{if(o[0]===this.userId){const d=Oi(o[1]);i.push(d)}else u.done()}).next(()=>{Re(i.length===0)})})}containsKey(e,t){return I1(e,this.userId,t)}Qn(e){return T1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:mo,lastStreamToken:""})}}function I1(n,e,t){const r=Up(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return iu(n).Z({range:o,Y:!0},(u,d,f)=>{const[m,g,_]=u;m===e&&g===i&&(l=!0),f.done()}).next(()=>l)}function ro(n){return an(n,oi)}function iu(n){return an(n,Su)}function T1(n){return an(n,sh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ba(0)}static Un(){return new Ba(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new Ba(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Pe.fromTimestamp(new St(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gl(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Re(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Gl(e).Z((l,u)=>{const d=Od(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Gl(e).Z((r,i)=>{const o=Od(i);t(o)})}Wn(e){return mR(e).get(_m).next(t=>(Re(t!==null),t))}Gn(e,t){return mR(e).put(_m,t)}zn(e,t){return Gl(e).put(y1(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=La(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Gl(e).Z({range:i,index:pC},(l,u,d)=>{const f=Od(u);Lh(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=ao(e);return t.forEach(l=>{const u=On(l.path);i.push(o.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=ao(e);return G.forEach(t,o=>{const l=On(o.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=ao(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ao(e);let o=Me();return i.Z({range:r,Y:!0},(l,u,d)=>{const f=Oi(l[1]),m=new _e(f);o=o.add(m)}).next(()=>o)}containsKey(e,t){const r=On(t.path),i=IDBKeyRange.bound([r],[sC(r)],!1,!0);let o=0;return ao(e).Z({index:Qw,Y:!0,range:i},([l,u],d,f)=>{l!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Gl(e).get(t).next(r=>r?Od(r):null)}}function Gl(n){return an(n,Ru)}function mR(n){return an(n,Na)}function ao(n){return an(n,Au)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="LruGarbageCollector",cU=1048576;function yR([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class dU{constructor(e){this.Hn=e,this.buffer=new it(yR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class S1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(gR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fo(t)?ue(gR,"Ignoring IndexedDB error during garbage collection: ",t):await Mo(t)}await this.er(3e5)})}}class hU{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(tr.ae);const r=new dU(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(pR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,u,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),eu()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function R1(n,e){return new hU(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,t){this.db=e,this.garbageCollector=R1(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Ip(e,r)}removeReference(e,t,r){return Ip(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ip(e,t)}ar(e,t){return function(i,o){let l=!1;return T1(i).X(u=>I1(i,u,o).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(l,u)=>{if(u<=t){const d=this.ar(e,l).next(f=>{if(!f)return o++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Pe.min()),ao(e).delete(function(g){return[0,On(g.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ip(e,t)}_r(e,t){const r=ao(e);let i,o=tr.ae;return r.Z({index:Qw},([l,u],{path:d,sequenceNumber:f})=>{l===0?(o!==tr.ae&&t(new _e(Oi(i)),o),o=f,i=d):o=tr.ae}).next(()=>{o!==tr.ae&&t(new _e(Oi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ip(n,e){return ao(n).put(function(r,i){return{targetId:0,path:On(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.changes=new Ps(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ma(e).put(r)}removeEntry(e,t,r){return ma(e).delete(function(o,l){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Sm(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=mt.newInvalidDocument(t);return ma(e).Z({index:Bp,range:IDBKeyRange.only(dd(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:mt.newInvalidDocument(t)};return ma(e).Z({index:Bp,range:IDBKeyRange.only(dd(t))},(i,o)=>{r={document:this.cr(t,o),size:Am(o)}}).next(()=>r)}getEntries(e,t){let r=rr();return this.hr(e,t,(i,o)=>{const l=this.cr(i,o);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=rr(),i=new dt(_e.comparator);return this.hr(e,t,(o,l)=>{const u=this.cr(o,l);r=r.insert(o,u),i=i.insert(o,Am(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return G.resolve();let i=new it(wR);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(dd(i.first()),dd(i.last())),l=i.getIterator();let u=l.getNext();return ma(e).Z({index:Bp,range:o},(d,f,m)=>{const g=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&wR(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,f),u=l.hasNext()?l.getNext():null),u?m.W(dd(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),Sm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ma(e).G(IDBKeyRange.bound(u,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let m=rr();for(const g of f){const _=this.cr(_e.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(Fh(t,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,t,r,i){let o=rr();const l=vR(t,r),u=vR(t,Sr.max());return ma(e).Z({index:fC,range:IDBKeyRange.bound(l,u,!0)},(d,f,m)=>{const g=this.cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(g.key,g),o.size===i&&m.done()}).next(()=>o)}newChangeBuffer(e){return new mU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _R(e).get(vv).next(t=>(Re(!!t),t))}ur(e,t){return _R(e).put(vv,t)}cr(e,t){if(t){const r=Zj(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return mt.newInvalidDocument(e)}}function b1(n){return new pU(n)}class mU extends A1{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Ps(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new it((o,l)=>De(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const u=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,u.readTime)),l.isValidDocument()){const d=nR(this.Ir.serializer,l);i=i.add(o.path.popLast());const f=Am(d);r+=f-u.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=u.size,this.trackRemovals){const d=nR(this.Ir.serializer,l.convertToNoDocument(Pe.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,l)=>{this.Er.set(o,{size:l,readTime:r.get(o).readTime})}),r))}}function _R(n){return an(n,oh)}function ma(n){return an(n,ym)}function dd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vR(n,e){const t=e.documentKey.path.toArray();return[n,Sm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&qd(r.mutation,i,nr.empty(),St.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const i=Di();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=xd();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Di();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=rr();const l=$d(),u=function(){return $d()}();return t.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Cs)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),qd(m.mutation,f,m.mutation.getFieldMask(),St.now())):l.set(f.key,nr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var g;return u.set(f,new gU(m,(g=l.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=$d();let i=new dt((l,u)=>l-u),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||nr.empty();m=u.applyToLocalView(f,m),r.set(d,m);const g=(i.get(u.batchId)||Me()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,m=d.value,g=qC();m.forEach(_=>{if(!o.has(_)){const T=JC(t.get(_),r.get(_));T!==null&&g.set(_,T),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):n0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):G.resolve(Di());let u=Tu,d=o;return l.next(f=>G.forEach(f,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Me())).next(m=>({batchId:u,changes:$C(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=xd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=xd();return this.indexManager.getCollectionParents(e,o).next(u=>G.forEach(u,d=>{const f=function(g,_){return new bs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,mt.newInvalidDocument(m)))});let u=xd();return l.forEach((d,f)=>{const m=o.get(d);m!==void 0&&qd(m.mutation,f,nr.empty(),St.now()),Fh(t,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:zt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:d0(i.bundledQuery),readTime:zt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.overlays=new dt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Di();return G.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=Di(),o=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new dt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Di(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Di(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return G.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new l0(t,r));let o=this.Rr.get(t);o===void 0&&(o=Me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.Vr=new it(fn.mr),this.gr=new it(fn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new fn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new fn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new _e(new Be([])),r=new fn(t,e),i=new fn(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new Be([])),r=new fn(t,e),i=new fn(t,e+1);let o=Me();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new fn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||De(e.Cr,t.Cr)}static pr(e,t){return De(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new it(fn.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new o0(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new fn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?mo:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fn(t,0),i=new fn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);o.push(u)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(De);return t.forEach(i=>{const o=new fn(i,0),l=new fn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{r=r.add(u.Cr)})}),G.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new fn(new _e(o),0);let u=new it(De);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Cr)),!0)},l),G.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return G.forEach(t.mutations,i=>{const o=new fn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new fn(t,0),i=this.Mr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.kr=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(t))}getEntries(e,t){let r=rr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mt.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=rr();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||Kw(aC(m),r)<=0||(i.has(m.key)||Fh(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ee()}qr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new IU(this)}getSize(e){return G.resolve(this.size)}}class IU extends A1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.persistence=e,this.Qr=new Ps(t=>La(t),Lh),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new p0,this.targetCount=0,this.Ur=Ba.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ba(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new tr(0),this.zr=!1,this.zr=!0,this.jr=new vU,this.referenceDelegate=e(this),this.Hr=new TU(this),this.indexManager=new aU,this.remoteDocumentCache=function(i){return new EU(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new g1(t),this.Yr=new yU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _U,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new wU(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new SU(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return G.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class SU extends uC{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.ti=new p0,this.ni=null}static ri(e){return new pg(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Pe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class bm{constructor(e,t){this.persistence=e,this.oi=new Ps(r=>On(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=R1(this,t)}static ri(e,t){return new bm(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$p(e.data.value)),t}ar(e,t,r){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.serializer=e}B(e,t,r,i){const o=new rg("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Vh)}(e),function(d){d.createObjectStore(sh,{keyPath:B4}),d.createObjectStore(oi,{keyPath:NS,autoIncrement:!0}).createIndex(Aa,OS,{unique:!0}),d.createObjectStore(Su)}(e),ER(e),function(d){d.createObjectStore(va)}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(Au),d.deleteObjectStore(Ru),d.deleteObjectStore(Na)}(e),ER(e)),l=l.next(()=>function(d){const f=d.store(Na),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return f.put(_m,m)}(o))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,f){return f.store(oi).G().next(g=>{d.deleteObjectStore(oi),d.createObjectStore(oi,{keyPath:NS,autoIncrement:!0}).createIndex(Aa,OS,{unique:!0});const _=f.store(oi),T=g.map(I=>_.put(I));return G.waitFor(T)})}(e,o))),l=l.next(()=>{(function(d){d.createObjectStore(bu,{keyPath:Y4})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(o))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(oh)}(e),this.ai(o)))),r<7&&i>=7&&(l=l.next(()=>this.ui(o))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,o))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(o))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(ig,{keyPath:J4})})(e),function(d){d.createObjectStore(sg,{keyPath:X4})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const f=d.createObjectStore(og,{keyPath:sj});f.createIndex(Ev,oj,{unique:!1}),f.createIndex(yC,aj,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const f=d.createObjectStore(ym,{keyPath:$4});f.createIndex(Bp,q4),f.createIndex(fC,W4)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(va))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,o))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(Yw,{keyPath:Z4,autoIncrement:!0}).createIndex(wv,ej,{unique:!1}),d.createObjectStore(vm,{keyPath:tj}).createIndex(mC,nj,{unique:!1}),d.createObjectStore(wm,{keyPath:rj}).createIndex(gC,ij,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(vm).clear()}).next(()=>{t.objectStore(wm).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(Jw,{keyPath:lj})})(e)})),l}ai(e){let t=0;return e.store(va).Z((r,i)=>{t+=Am(i)}).next(()=>{const r={byteSize:t};return e.store(oh).put(vv,r)})}_i(e){const t=e.store(sh),r=e.store(oi);return t.G().next(i=>G.forEach(i,o=>{const l=IDBKeyRange.bound([o.userId,mo],[o.userId,o.lastAcknowledgedBatchId]);return r.G(Aa,l).next(u=>G.forEach(u,d=>{Re(d.userId===o.userId);const f=Ea(this.serializer,d);return E1(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(Au),r=e.store(va);return e.store(Na).get(_m).next(i=>{const o=[];return r.Z((l,u)=>{const d=new Be(l),f=function(g){return[0,On(g)]}(d);o.push(t.get(f).next(m=>m?G.resolve():(g=>t.put({targetId:0,path:On(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(o))})}ci(e,t){e.createObjectStore(ah,{keyPath:Q4});const r=t.store(ah),i=new f0,o=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:On(d)})}};return t.store(va).Z({Y:!0},(l,u)=>{const d=new Be(l);return o(d.popLast())}).next(()=>t.store(Su).Z({Y:!0},([l,u,d],f)=>{const m=Oi(u);return o(m.popLast())}))}li(e){const t=e.store(Ru);return t.Z((r,i)=>{const o=Od(i),l=y1(this.serializer,o);return t.put(l)})}hi(e,t){const r=t.store(va),i=[];return r.Z((o,l)=>{const u=t.store(ym),d=function(g){return g.document?new _e(Be.fromString(g.document.name).popFirst(5)):g.noDocument?_e.fromSegments(g.noDocument.path):g.unknownDocument?_e.fromSegments(g.unknownDocument.path):Ee()}(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(f))}).next(()=>G.waitFor(i))}Pi(e,t){const r=t.store(oi),i=b1(this.serializer),o=new m0(pg.ri,this.serializer.Tt);return r.G().next(l=>{const u=new Map;return l.forEach(d=>{var f;let m=(f=u.get(d.userId))!==null&&f!==void 0?f:Me();Ea(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),G.forEach(u,(d,f)=>{const m=new pn(f),g=hg.It(this.serializer,m),_=o.getIndexManager(m),T=fg.It(m,this.serializer,_,o.referenceDelegate);return new P1(i,T,g,_).recalculateAndSaveOverlaysForDocumentKeys(new Iv(t,tr.ae),d).next()})})}}function ER(n){n.createObjectStore(Au,{keyPath:K4}).createIndex(Qw,G4,{unique:!0}),n.createObjectStore(Ru,{keyPath:"targetId"}).createIndex(pC,H4,{unique:!0}),n.createObjectStore(Na)}const io="IndexedDbPersistence",j_=18e5,U_=5e3,B_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",C1="main";class g0{constructor(e,t,r,i,o,l,u,d,f,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=l,this.document=u,this.Ii=f,this.Ei=m,this.di=g,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=_=>Promise.resolve(),!g0.D())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fU(this,i),this.gi=t+C1,this.serializer=new g1(d),this.pi=new Vi(this.gi,this.di,new RU(this.serializer)),this.jr=new tU,this.Hr=new uU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=b1(this.serializer),this.Yr=new eU,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,m===!1&&Bt(io,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,B_);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new tr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(Fo(e))return ue(io,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(io,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return hd(e).get($l).next(t=>G.resolve(this.Ni(t)))}Bi(e){return Tp(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,j_)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=an(t,bu);return r.G().next(i=>{const o=this.qi(i,j_),l=i.filter(u=>o.indexOf(u)===-1);return G.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?G.resolve(!0):hd(e).get($l).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,U_)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,B_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tp(e).G().next(r=>this.qi(r,U_).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(o||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(io,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Vh,bu],e=>{const t=new Iv(e,tr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Tp(e).G().next(t=>this.qi(t,j_).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return fg.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lU(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return hg.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue(io,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?dj:d===16?cj:d===15?Xw:d===14?wC:d===13?vC:d===12?uj:d===11?_C:void Ee()}(this.di);let l;return this.pi.runTransaction(e,i,o,u=>(l=new Iv(u,this.Gr?this.Gr.next():tr.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw Bt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ae(te.FAILED_PRECONDITION,lC);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}ji(e){return hd(e).get($l).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,U_)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,B_)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hd(e).put($l,t)}static D(){return Vi.D()}xi(e){const t=hd(e);return t.get($l).next(r=>this.Ni(r)?(ue(io,"Releasing primary lease."),t.delete($l)):G.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Bt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;Ub()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return ue(io,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Bt(io,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Bt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hd(n){return an(n,Vh)}function Tp(n){return an(n,bu)}function y0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Me(),i=Me();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ub()?8:cC(xt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new AU;return this._s(e,t,l).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(eu()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(eu()<=Ue.DEBUG&&ue("QueryEngine","Query:",tu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(eu()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(t))):G.resolve())}rs(e,t){if(HS(t))return G.resolve(null);let r=zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Tm(t,null,"F"),r=zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Me(...o);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,u);return this.ls(t,f,l,d.readTime)?this.rs(e,Tm(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return HS(t)||i.isEqual(Pe.min())?G.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?G.resolve(null):(eu()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tu(t)),this.hs(e,l,t,oC(i,Tu)).next(u=>u))})}cs(e,t){let r=new it(BC(e));return t.forEach((i,o)=>{Fh(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return eu()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",tu(t)),this.ns.getDocumentsMatchingQuery(e,t,Sr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LocalStore",bU=3e8;class PU{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new dt(De),this.Is=new Ps(o=>La(o),Lh),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function x1(n,e,t,r){return new PU(n,e,t,r)}async function N1(n,e){const t=ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let d=Me();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:u}))})})}function CU(n,e){const t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,f,m){const g=f.batch,_=g.keys();let T=G.resolve();return _.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(R=>{const b=f.docVersions.get(I);Re(b!==null),R.version.compareTo(b)<0&&(g.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),m.addEntry(R)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Me();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function O1(n){const e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function kU(n,e){const t=ve(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(t.Hr.removeMatchingKeys(o,m.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(o,m.addedDocuments,g)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Lt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(R,b,M){return R.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=bU?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(_,T,m)&&u.push(t.Hr.updateTargetData(o,T))});let d=rr(),f=Me();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(D1(o,l,e.documentUpdates).next(m=>{d=m.Vs,f=m.fs})),!r.isEqual(Pe.min())){const m=t.Hr.getLastRemoteSnapshotVersion(o).next(g=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return G.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function D1(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=rr();return t.forEach((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ue(v0,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function xU(n,e){const t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=mo),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Du(n,e){const t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new ps(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Vu(n,e,t){const r=ve(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Fo(l))throw l;ue(v0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Pm(n,e,t){const r=ve(n);let i=Pe.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const g=ve(d),_=g.Is.get(m);return _!==void 0?G.resolve(g.Ts.get(_)):g.Hr.getTargetData(f,m)}(r,l,zn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:Pe.min(),t?o:Me())).next(u=>(M1(r,UC(e),u),{documents:u,gs:o})))}function V1(n,e){const t=ve(n),r=ve(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(l=>l?l.target:null))}function L1(n,e){const t=ve(n),r=t.Es.get(e)||Pe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,oC(r,Tu),Number.MAX_SAFE_INTEGER)).then(i=>(M1(t,e,i),i))}function M1(n,e,t){let r=n.Es.get(e)||Pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function NU(n,e,t,r){const i=ve(n);let o=Me(),l=rr();for(const f of t){const m=e.ps(f.metadata.name);f.document&&(o=o.add(m));const g=e.ys(f);g.setReadTime(e.ws(f.metadata.readTime)),l=l.insert(m,g)}const u=i.ds.newChangeBuffer({trackRemovals:!0}),d=await Du(i,function(m){return zn(Zu(Be.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>D1(f,u,l).next(m=>(u.apply(f),m)).next(m=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,m.Vs,m.fs)).next(()=>m.Vs)))}async function OU(n,e,t=Me()){const r=await Du(n,zn(d0(e.bundledQuery))),i=ve(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const l=zt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(o,e);const u=r.withResumeToken(Lt.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(u.targetId,u),i.Hr.updateTargetData(o,u).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firestore_clients";function IR(n,e){return`${F1}_${n}_${e}`}const j1="firestore_mutations";function TR(n,e,t){let r=`${j1}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const U1="firestore_targets";function z_(n,e){return`${U1}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="SharedClientState";class Cm{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ss(e,t,r){const i=JSON.parse(r);let o,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(o=new ae(i.error.code,i.error.message))),l?new Cm(e,t,i.state,o):(Bt(Ri,`Failed to parse mutation state for ID '${t}': ${r}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ss(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new ae(r.error.code,r.error.message))),o?new Wd(e,r.state,i):(Bt(Ri,`Failed to parse target state for ID '${e}': ${t}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class km{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ss(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=r0();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=dC(r.activeTargetIds[l]),o=o.add(r.activeTargetIds[l]);return i?new km(e,o):(Bt(Ri,`Failed to parse client data for instance '${e}': ${t}`),null)}}class w0{constructor(e,t){this.clientId=e,this.onlineState=t}static Ss(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new w0(t.clientId,t.onlineState):(Bt(Ri,`Failed to parse online state: ${e}`),null)}}class Mv{constructor(){this.activeTargetIds=r0()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $_{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new dt(De),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=IR(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new Mv),this.Ls=new RegExp(`^${F1}_${l}_([^_]*)$`),this.ks=new RegExp(`^${j1}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${U1}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(IR(this.persistenceKey,r));if(i){const o=km.Ss(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(z_(this.persistenceKey,e));if(i){const o=Wd.Ss(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(z_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Ri,"READ",e,t),t}setItem(e,t){ue(Ri,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Ri,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(ue(Ri,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let l=tr.ae;if(o!=null)try{const u=JSON.parse(o);Re(typeof u=="number"),l=u}catch(u){Bt(Ri,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==tr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.bs())}zs(e,t,r){const i=new Cm(this.currentUser,e,t,r),o=TR(this.persistenceKey,this.currentUser,e);this.setItem(o,i.bs())}js(e){const t=TR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=z_(this.persistenceKey,e),o=new Wd(e,t,r);this.setItem(i,o.bs())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return km.Ss(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Cm.Ss(new pn(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return Wd.Ss(i,t)}Us(e){return w0.Ss(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);ue(Ri,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),l=[],u=[];return o.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{o.has(d)||u.push(d)}),this.syncEngine.lo(l,u).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=r0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class B1{constructor(){this.ho=new Mv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Mv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="ConnectivityMonitor";class RR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(SR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(SR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp=null;function Fv(){return Sp===null?Sp=function(){return 268435456+Math.round(2147483648*Math.random())}():Sp++,"0x"+Sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="RestConnection",VU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LU{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Tv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){const l=Fv(),u=this.bo(e,t.toUriEncodedString());ue(q_,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,u,d,r).then(f=>(ue(q_,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Bi(q_,`RPC '${e}' ${l} failed with error: `,f,"url: ",u,"request:",r),f})}Co(e,t,r,i,o,l){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const r=VU[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class FU extends LU{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=Fv();return new Promise((l,u)=>{const d=new XP;d.setWithCredentials(!0),d.listenOnce(ZP.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Fp.NO_ERROR:const m=d.getResponseJson();ue(Cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Fp.TIMEOUT:ue(Cn,`RPC '${e}' ${o} timed out`),u(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case Fp.HTTP_ERROR:const g=d.getStatus();if(ue(Cn,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=function(b){const M=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(M)>=0?M:te.UNKNOWN}(T.status);u(new ae(I,T.message))}else u(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(Cn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);ue(Cn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=Fv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=nC(),u=tC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");ue(Cn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let _=!1,T=!1;const I=new MU({Fo:b=>{T?ue(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(ue(Cn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(Cn,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},Mo:()=>g.close()}),R=(b,M,L)=>{b.listen(M,F=>{try{L(F)}catch($){setTimeout(()=>{throw $},0)}})};return R(g,kd.EventType.OPEN,()=>{T||(ue(Cn,`RPC '${e}' stream ${i} transport opened.`),I.Qo())}),R(g,kd.EventType.CLOSE,()=>{T||(T=!0,ue(Cn,`RPC '${e}' stream ${i} transport closed`),I.Ko())}),R(g,kd.EventType.ERROR,b=>{T||(T=!0,Bi(Cn,`RPC '${e}' stream ${i} transport errored:`,b),I.Ko(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),R(g,kd.EventType.MESSAGE,b=>{var M;if(!T){const L=b.data[0];Re(!!L);const F=L,$=(F==null?void 0:F.error)||((M=F[0])===null||M===void 0?void 0:M.error);if($){ue(Cn,`RPC '${e}' stream ${i} received error:`,$);const B=$.status;let q=function(C){const E=Gt[C];if(E!==void 0)return e1(E)}(B),V=$.message;q===void 0&&(q=te.INTERNAL,V="Unknown error status: "+B+" with message "+$.message),T=!0,I.Ko(new ae(q,V)),g.close()}else ue(Cn,`RPC '${e}' stream ${i} received:`,L),I.Uo(L)}}),R(u,eC.STAT_EVENT,b=>{b.stat===yv.PROXY?ue(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===yv.NOPROXY&&ue(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return typeof window<"u"?window:null}function Kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){return new $j(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="PersistentStream";class $1{constructor(e,t,r,i,o,l,u,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new E0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Bt(t.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(AR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(AR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jU extends $1{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Hj(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?zt(l.readTime):Pe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Nv(this.serializer),t.addTarget=function(o,l){let u;const d=l.target;if(u=Em(d)?{documents:c1(o,d)}:{query:d1(o,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=i1(o,l.resumeToken);const f=kv(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Pe.min())>0){u.readTime=Ou(o,l.snapshotVersion.toTimestamp());const f=kv(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=Gj(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Nv(this.serializer),t.removeTarget=e,this.I_(t)}}class UU extends $1{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Kj(e.writeResults,e.commitTime),r=zt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Nv(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fh(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{}class zU extends BU{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,xv(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(te.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,xv(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $U{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bt(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class qU{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{Uo(this)&&(ue(za,"Restarting streams for network reachability change."),await async function(d){const f=ve(d);f.W_.add(4),await nc(f),f.j_.set("Unknown"),f.W_.delete(4),await $h(f)}(this))})}),this.j_=new $U(r,i)}}async function $h(n){if(Uo(n))for(const e of n.G_)await e(!0)}async function nc(n){for(const e of n.G_)await e(!1)}function mg(n,e){const t=ve(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),S0(t)?T0(t):ic(t).c_()&&I0(t,e))}function Lu(n,e){const t=ve(n),r=ic(t);t.U_.delete(e),r.c_()&&q1(t,e),t.U_.size===0&&(r.c_()?r.P_():Uo(t)&&t.j_.set("Unknown"))}function I0(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ic(n).y_(e)}function q1(n,e){n.H_.Ne(e),ic(n).w_(e)}function T0(n){n.H_=new jj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ic(n).start(),n.j_.B_()}function S0(n){return Uo(n)&&!ic(n).u_()&&n.U_.size>0}function Uo(n){return ve(n).W_.size===0}function W1(n){n.H_=void 0}async function WU(n){n.j_.set("Online")}async function HU(n){n.U_.forEach((e,t)=>{I0(n,e)})}async function KU(n,e){W1(n),S0(n)?(n.j_.q_(e),T0(n)):n.j_.set("Unknown")}async function GU(n,e,t){if(n.j_.set("Online"),e instanceof r1&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ue(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xm(n,r)}else if(e instanceof Hp?n.H_.We(e):e instanceof n1?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Pe.min()))try{const r=await O1(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.U_.get(f);m&&o.U_.set(f,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,f)=>{const m=o.U_.get(d);if(!m)return;o.U_.set(d,m.withResumeToken(Lt.EMPTY_BYTE_STRING,m.snapshotVersion)),q1(o,d);const g=new ps(m.target,d,f,m.sequenceNumber);I0(o,g)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ue(za,"Failed to raise snapshot:",r),await xm(n,r)}}async function xm(n,e,t){if(!Fo(e))throw e;n.W_.add(1),await nc(n),n.j_.set("Offline"),t||(t=()=>O1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(za,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await $h(n)})}function H1(n,e){return e().catch(t=>xm(n,t,e))}async function rc(n){const e=ve(n),t=bo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:mo;for(;QU(e);)try{const i=await xU(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,YU(e,i)}catch(i){await xm(e,i)}K1(e)&&G1(e)}function QU(n){return Uo(n)&&n.K_.length<10}function YU(n,e){n.K_.push(e);const t=bo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function K1(n){return Uo(n)&&!bo(n).u_()&&n.K_.length>0}function G1(n){bo(n).start()}async function JU(n){bo(n).C_()}async function XU(n){const e=bo(n);for(const t of n.K_)e.b_(t.mutations)}async function ZU(n,e,t){const r=n.K_.shift(),i=a0.from(r,e,t);await H1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await rc(n)}async function eB(n,e){e&&bo(n).S_&&await async function(r,i){if(function(l){return ZC(l)&&l!==te.ABORTED}(i.code)){const o=r.K_.shift();bo(r).h_(),await H1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rc(r)}}(n,e),K1(n)&&G1(n)}async function bR(n,e){const t=ve(n);t.asyncQueue.verifyOperationInProgress(),ue(za,"RemoteStore received new credentials");const r=Uo(t);t.W_.add(3),await nc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await $h(t)}async function jv(n,e){const t=ve(n);e?(t.W_.delete(2),await $h(t)):e||(t.W_.add(2),await nc(t),t.j_.set("Unknown"))}function ic(n){return n.J_||(n.J_=function(t,r,i){const o=ve(t);return o.M_(),new jU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:WU.bind(null,n),No:HU.bind(null,n),Lo:KU.bind(null,n),p_:GU.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),S0(n)?T0(n):n.j_.set("Unknown")):(await n.J_.stop(),W1(n))})),n.J_}function bo(n){return n.Y_||(n.Y_=function(t,r,i){const o=ve(t);return o.M_(),new UU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:JU.bind(null,n),Lo:eB.bind(null,n),D_:XU.bind(null,n),v_:ZU.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await rc(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(za,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new R0(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sc(n,e){if(Bt("AsyncQueue",`${e}: ${n}`),Fo(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{static emptySet(e){return new fu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=xd(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.Z_=new dt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Mu{constructor(e,t,r,i,o,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Mu(e,t,fu.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class nB{constructor(){this.queries=CR(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=ve(t),o=i.queries;i.queries=CR(),o.forEach((l,u)=>{for(const d of u.ta)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function CR(){return new Ps(n=>jC(n),Mh)}async function A0(n,e){const t=ve(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new tB,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=sc(l,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&P0(t)}async function b0(n,e){const t=ve(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function rB(n,e){const t=ve(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&P0(t)}function iB(n,e,t){const r=ve(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function P0(n){n.ia.forEach(e=>{e.next()})}var Uv,kR;(kR=Uv||(Uv={}))._a="default",kR.Cache="cache";class C0{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Uv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.serializer=e}ps(e){return Li(this.serializer,e)}ys(e){return e.metadata.exists?u1(this.serializer,e.document,!1):mt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return zt(e)}}class oB{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Q1(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=Be.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new xR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Me()).add(o);t.set(l,u)}}return t}async complete(){const e=await NU(this.localStore,new xR(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await OU(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function Q1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.key=e}}class J1{constructor(e){this.key=e}}class X1{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=BC(e),this.wa=new fu(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new PR,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),T=Fh(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;_&&T?_.data.isEqual(T.data)?I!==R&&(r.track({type:3,doc:T}),b=!0):this.va(_,T)||(r.track({type:2,doc:T}),b=!0,(d&&this.ya(T,d)>0||f&&this.ya(T,f)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),b=!0):_&&!T&&(r.track({type:1,doc:_}),b=!0,(d||f)&&(u=!0)),b&&(T?(l=l.add(T),o=R?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,g)=>function(T,I){const R=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(T)-R(I)}(m.type,g.type)||this.ya(m.doc,g.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,l.length!==0||f?{snapshot:new Mu(this.query,e.wa,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new PR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new J1(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Y1(r))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Mu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bo="SyncEngine";class aB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lB{constructor(e){this.key=e,this.Ba=!1}}class uB{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Ps(u=>jC(u),Mh),this.qa=new Map,this.Qa=new Set,this.$a=new dt(_e.comparator),this.Ka=new Map,this.Ua=new p0,this.Wa={},this.Ga=new Map,this.za=Ba.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function cB(n,e,t=!0){const r=gg(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Z1(r,e,t,!0),i}async function dB(n,e){const t=gg(n);await Z1(t,e,!0,!1)}async function Z1(n,e,t,r){const i=await Du(n.localStore,zn(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await k0(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&mg(n.remoteStore,i),u}async function k0(n,e,t,r,i){n.Ha=(g,_,T)=>async function(R,b,M,L){let F=b.view.ba(M);F.ls&&(F=await Pm(R.localStore,b.query,!1).then(({documents:V})=>b.view.ba(V,F)));const $=L&&L.targetChanges.get(b.targetId),B=L&&L.targetMismatches.get(b.targetId)!=null,q=b.view.applyChanges(F,R.isPrimaryClient,$,B);return Bv(R,b.targetId,q.Ma),q.snapshot}(n,g,_,T);const o=await Pm(n.localStore,e,!0),l=new X1(e,o.gs),u=l.ba(o.documents),d=Bh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,d);Bv(n,t,f.Ma);const m=new aB(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function hB(n,e,t){const r=ve(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!Mh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Lu(r.remoteStore,i.targetId),Fu(r,i.targetId)}).catch(Mo)):(Fu(r,i.targetId),await Vu(r.localStore,i.targetId,!0))}async function fB(n,e){const t=ve(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Lu(t.remoteStore,r.targetId))}async function pB(n,e,t){const r=D0(n);try{const i=await function(l,u){const d=ve(l),f=St.now(),m=u.reduce((T,I)=>T.add(I.key),Me());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=rr(),R=Me();return d.ds.getEntries(T,m).next(b=>{I=b,I.forEach((M,L)=>{L.isValidDocument()||(R=R.add(M))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(b=>{g=b;const M=[];for(const L of u){const F=Lj(L,g.get(L.key).overlayedDocument);F!=null&&M.push(new Cs(L.key,F,kC(F.value.mapValue),Tt.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,M,u)}).next(b=>{_=b;const M=b.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(T,b.batchId,M)})}).then(()=>({batchId:_.batchId,changes:$C(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let f=l.Wa[l.currentUser.toKey()];f||(f=new dt(De)),f=f.insert(u,d),l.Wa[l.currentUser.toKey()]=f}(r,i.batchId,t),await ks(r,i.changes),await rc(r.remoteStore)}catch(i){const o=sc(i,"Failed to persist write");t.reject(o)}}async function ek(n,e){const t=ve(n);try{const r=await kU(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Re(l.Ba):i.removedDocuments.size>0&&(Re(l.Ba),l.Ba=!1))}),await ks(t,r,e)}catch(r){await Mo(r)}}function NR(n,e,t){const r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=ve(l);d.onlineState=u;let f=!1;d.queries.forEach((m,g)=>{for(const _ of g.ta)_.sa(u)&&(f=!0)}),f&&P0(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mB(n,e,t){const r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let l=new dt(_e.comparator);l=l.insert(o,mt.newNoDocument(o,Pe.min()));const u=Me().add(o),d=new Uh(Pe.min(),new Map,new dt(De),l,u);await ek(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),O0(r)}else await Vu(r.localStore,e,!1).then(()=>Fu(r,e,t)).catch(Mo)}async function gB(n,e){const t=ve(n),r=e.batch.batchId;try{const i=await CU(t.localStore,e);N0(t,r,null),x0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ks(t,i)}catch(i){await Mo(i)}}async function yB(n,e,t){const r=ve(n);try{const i=await function(l,u){const d=ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,u).next(g=>(Re(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(f,g))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);N0(r,e,t),x0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ks(r,i)}catch(i){await Mo(i)}}async function _B(n,e){const t=ve(n);Uo(t.remoteStore)||ue(Bo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=ve(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===mo)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=sc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function x0(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function N0(n,e,t){const r=ve(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Fu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||tk(n,r)})}function tk(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Lu(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),O0(n))}function Bv(n,e,t){for(const r of t)r instanceof Y1?(n.Ua.addReference(r.key,e),vB(n,r)):r instanceof J1?(ue(Bo,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||tk(n,r.key)):Ee()}function vB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ue(Bo,"New document in limbo: "+t),n.Qa.add(r),O0(n))}function O0(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(Be.fromString(e)),r=n.za.next();n.Ka.set(r,new lB(t)),n.$a=n.$a.insert(t,r),mg(n.remoteStore,new ps(zn(Zu(t.path)),r,"TargetPurposeLimboResolution",tr.ae))}}async function ks(n,e,t){const r=ve(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,d)=>{l.push(r.Ha(d,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=_0.Yi(d.targetId,f);o.push(g)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,f){const m=ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(f,_=>G.forEach(_.Hi,T=>m.persistence.referenceDelegate.addReference(g,_.targetId,T)).next(()=>G.forEach(_.Ji,T=>m.persistence.referenceDelegate.removeReference(g,_.targetId,T)))))}catch(g){if(!Fo(g))throw g;ue(v0,"Failed to update sequence numbers: "+g)}for(const g of f){const _=g.targetId;if(!g.fromCache){const T=m.Ts.get(_),I=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(I);m.Ts=m.Ts.insert(_,R)}}}(r.localStore,o))}async function wB(n,e){const t=ve(n);if(!t.currentUser.isEqual(e)){ue(Bo,"User change. New user:",e.toKey());const r=await N1(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(u=>{u.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ks(t,r.Rs)}}function EB(n,e){const t=ve(n),r=t.Ka.get(e);if(r&&r.Ba)return Me().add(r.key);{let i=Me();const o=t.qa.get(e);if(!o)return i;for(const l of o){const u=t.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}async function IB(n,e){const t=ve(n),r=await Pm(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&Bv(t,e.targetId,i.Ma),i}async function TB(n,e){const t=ve(n);return L1(t.localStore,e).then(r=>ks(t,r))}async function SB(n,e,t,r){const i=ve(n),o=await function(u,d){const f=ve(u),m=ve(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.Ln(g,d).next(_=>_?f.localDocuments.getDocuments(g,_):G.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await rc(i.remoteStore):t==="acknowledged"||t==="rejected"?(N0(i,e,r||null),x0(i,e),function(u,d){ve(ve(u).mutationQueue).qn(d)}(i.localStore,e)):Ee(),await ks(i,o)):ue(Bo,"Cannot apply mutation batch with id: "+e)}async function RB(n,e){const t=ve(n);if(gg(t),D0(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await OR(t,r.toArray());t.ja=!0,await jv(t.remoteStore,!0);for(const o of i)mg(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Fu(t,l),Vu(t.localStore,l,!0))),Lu(t.remoteStore,l)}),await i,await OR(t,r),function(l){const u=ve(l);u.Ka.forEach((d,f)=>{Lu(u.remoteStore,f)}),u.Ua.Dr(),u.Ka=new Map,u.$a=new dt(_e.comparator)}(t),t.ja=!1,await jv(t.remoteStore,!1)}}async function OR(n,e,t){const r=ve(n),i=[],o=[];for(const l of e){let u;const d=r.qa.get(l);if(d&&d.length!==0){u=await Du(r.localStore,zn(d[0]));for(const f of d){const m=r.ka.get(f),g=await IB(r,m);g.snapshot&&o.push(g.snapshot)}}else{const f=await V1(r.localStore,l);u=await Du(r.localStore,f),await k0(r,nk(f),l,!1,u.resumeToken)}i.push(u)}return r.La.p_(o),i}function nk(n){return FC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AB(n){return function(t){return ve(ve(t).persistence).zi()}(ve(n).localStore)}async function bB(n,e,t,r){const i=ve(n);if(i.ja)return void ue(Bo,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=await L1(i.localStore,UC(o[0])),u=Uh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Lt.EMPTY_BYTE_STRING);await ks(i,l,u);break}case"rejected":await Vu(i.localStore,e,!0),Fu(i,e,r);break;default:Ee()}}async function PB(n,e,t){const r=gg(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue(Bo,"Adding an already active target "+i);continue}const o=await V1(r.localStore,i),l=await Du(r.localStore,o);await k0(r,nk(o),l.targetId,!1,l.resumeToken),mg(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await Vu(r.localStore,i,!1).then(()=>{Lu(r.remoteStore,i),Fu(r,i)}).catch(Mo)}}function gg(n){const e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ek.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mB.bind(null,e),e.La.p_=rB.bind(null,e.eventManager),e.La.Ja=iB.bind(null,e.eventManager),e}function D0(n){const e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yB.bind(null,e),e}function CB(n,e,t){const r=ve(n);(async function(o,l,u){try{const d=await l.getMetadata();if(await function(T,I){const R=ve(T),b=zt(I.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",M=>R.Yr.getBundleMetadata(M,I.id)).then(M=>!!M&&M.createTime.compareTo(b)>=0)}(o.localStore,d))return await l.close(),u._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(Q1(d));const f=new oB(d,o.localStore,l.serializer);let m=await l.Ya();for(;m;){const _=await f.Aa(m);_&&u._updateProgress(_),m=await l.Ya()}const g=await f.complete();return await ks(o,g.ma,void 0),await function(T,I){const R=ve(T);return R.persistence.runTransaction("Save bundle","readwrite",b=>R.Yr.saveBundleMetadata(b,I))}(o.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Va)}catch(d){return Bi(Bo,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return x1(this.persistence,new k1,e.initialUser,this.serializer)}Xa(e){return new m0(pg.ri,this.serializer)}Za(e){return new B1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class kB extends ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Re(this.persistence.referenceDelegate instanceof bm);const r=this.persistence.referenceDelegate.garbageCollector;return new S1(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new m0(r=>bm.ri(r,t),this.serializer)}}class rk extends ph{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await D0(this.ru.syncEngine),await rc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return x1(this.persistence,new k1,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new S1(r,e.asyncQueue,t)}nu(e,t){const r=new j4(t,this.persistence);return new F4(e.asyncQueue,r)}Xa(e){const t=y0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new g0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,z1(),Kp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new B1}}class xB extends rk{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof $_&&(this.sharedClientState.syncEngine={uo:SB.bind(null,t),co:bB.bind(null,t),lo:PB.bind(null,t),zi:AB.bind(null,t),ao:TB.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await RB(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=z1();if(!$_.D(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=y0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class mh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wB.bind(null,this.syncEngine),await jv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nB}()}createDatastore(e){const t=zh(e.databaseInfo.databaseId),r=function(o){return new FU(o)}(e.databaseInfo);return function(o,l,u,d){return new zU(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new qU(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>NR(this.syncEngine,t,0),function(){return RR.D()?new RR:new DU}())}createSyncEngine(e,t){return function(i,o,l,u,d,f,m){const g=new uB(i,o,l,u,d,f);return m&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=ve(i);ue(za,"RemoteStore shutting down."),o.W_.add(5),await nc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mh.provider={build:()=>new mh};function DR(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Sn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new sB(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const l=ve(i),u={documents:o.map(g=>hh(l.serializer,g))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,Be.emptyPath(),u,o.length),f=new Map;d.forEach(g=>{const _=Wj(l.serializer,g);f.set(_.key.toString(),_)});const m=[];return o.forEach(g=>{const _=f.get(g.toString());Re(!!_),m.push(_)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new tc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new s0(i,this.precondition(i)))}),await async function(r,i){const o=ve(r),l={writes:i.map(u=>fh(o.serializer,u))};await o.So("Commit",o.serializer.databaseId,Be.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pe.min())?Tt.exists(!1):Tt.updateTime(t):Tt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pe.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tt.updateTime(t)}return Tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new E0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new OB(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Dh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!ZC(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="FirestoreClient";class VB{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=iC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ue(Po,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue(Po,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function W_(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Po,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await N1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function VR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await V0(n);ue(Po,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>bR(e.remoteStore,i)),n._onlineComponents=e}async function V0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Po,"Using user provided OfflineComponentProvider");try{await W_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Bi("Error using user provided cache. Falling back to memory cache: "+t),await W_(n,new ph)}}else ue(Po,"Using default OfflineComponentProvider"),await W_(n,new kB(void 0));return n._offlineComponents}async function _g(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Po,"Using user provided OnlineComponentProvider"),await VR(n,n._uninitializedComponentsProvider._online)):(ue(Po,"Using default OnlineComponentProvider"),await VR(n,new mh))),n._onlineComponents}function ik(n){return V0(n).then(e=>e.persistence)}function L0(n){return V0(n).then(e=>e.localStore)}function sk(n){return _g(n).then(e=>e.remoteStore)}function M0(n){return _g(n).then(e=>e.syncEngine)}function LB(n){return _g(n).then(e=>e.datastore)}async function ju(n){const e=await _g(n),t=e.eventManager;return t.onListen=cB.bind(null,e.syncEngine),t.onUnlisten=hB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fB.bind(null,e.syncEngine),t}function MB(n){return n.asyncQueue.enqueue(async()=>{const e=await ik(n),t=await sk(n);return e.setNetworkEnabled(!0),function(i){const o=ve(i);return o.W_.delete(0),$h(o)}(t)})}function FB(n){return n.asyncQueue.enqueue(async()=>{const e=await ik(n),t=await sk(n);return e.setNetworkEnabled(!1),async function(i){const o=ve(i);o.W_.add(0),await nc(o),o.j_.set("Offline")}(t)})}function jB(n,e){const t=new Sn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const u=await function(f,m){const g=ve(f);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,o);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=sc(u,`Failed to get document '${o} from cache`);l.reject(d)}}(await L0(n),e,t)),t.promise}function ok(n,e,t={}){const r=new Sn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,f){const m=new yg({next:_=>{m.su(),l.enqueueAndForget(()=>b0(o,g));const T=_.docs.has(u);!T&&_.fromCache?f.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?f.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),g=new C0(Zu(u.path),m,{includeMetadataChanges:!0,Ta:!0});return A0(o,g)}(await ju(n),n.asyncQueue,e,t,r)),r.promise}function UB(n,e){const t=new Sn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const u=await Pm(i,o,!0),d=new X1(o,u.gs),f=d.ba(u.documents),m=d.applyChanges(f,!1);l.resolve(m.snapshot)}catch(u){const d=sc(u,`Failed to execute query '${o} against cache`);l.reject(d)}}(await L0(n),e,t)),t.promise}function ak(n,e,t={}){const r=new Sn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,f){const m=new yg({next:_=>{m.su(),l.enqueueAndForget(()=>b0(o,g)),_.fromCache&&d.source==="server"?f.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),g=new C0(u,m,{includeMetadataChanges:!0,Ta:!0});return A0(o,g)}(await ju(n),n.asyncQueue,e,t,r)),r.promise}function BB(n,e){const t=new yg(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){ve(i).ia.add(o),o.next()}(await ju(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){ve(i).ia.delete(o)}(await ju(n),t))}}function zB(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?t1().encode(l):l,function(m,g){return new NB(m,g)}(function(m,g){if(m instanceof Uint8Array)return DR(m,g);if(m instanceof ArrayBuffer)return DR(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,zh(e));n.asyncQueue.enqueueAndForget(async()=>{CB(await M0(n),i,r)})}function $B(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=ve(r);return o.persistence.runTransaction("Get named query","readonly",l=>o.Yr.getNamedQuery(l,i))}(await L0(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uk(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MR(n){if(!_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FR(n){if(_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function Je(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vg(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ck(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="firestore.googleapis.com",jR=!0;class UR{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dk,this.ssl=jR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:jR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cU)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UR({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new P4;switch(r.type){case"firstParty":return new N4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=LR.get(t);r&&(ue("ComponentProvider","Removing Datastore"),LR.delete(t),r.terminate())}(this),Promise.resolve()}}function qB(n,e,t,r={}){var i;const o=(n=Je(n,qh))._getSettings(),l=`${e}:${t}`;if(o.host!==dk&&o.host!==l&&Bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=pn.MOCK_USER;else{u=V2(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new pn(f)}n._authCredentials=new C4(new rC(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $n=class hk{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hk(this.firestore,e,this._query)}},kt=class fk{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fk(this.firestore,e,this._key)}},go=class pk extends $n{constructor(e,t,r){super(e,t,Zu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new _e(e))}withConverter(e){return new pk(this.firestore,e,this._path)}};function mk(n,e,...t){if(n=ke(n),F0("collection","path",e),n instanceof qh){const r=Be.fromString(e,...t);return FR(r),new go(n,null,r)}{if(!(n instanceof kt||n instanceof go))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return FR(r),new go(n.firestore,null,r)}}function WB(n,e){if(n=Je(n,qh),F0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $n(n,null,function(r){return new bs(Be.emptyPath(),r)}(e))}function Nm(n,e,...t){if(n=ke(n),arguments.length===1&&(e=iC.newId()),F0("doc","path",e),n instanceof qh){const r=Be.fromString(e,...t);return MR(r),new kt(n,null,new _e(r))}{if(!(n instanceof kt||n instanceof go))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return MR(r),new kt(n.firestore,n instanceof go?n.converter:null,new _e(r))}}function gk(n,e){return n=ke(n),e=ke(e),(n instanceof kt||n instanceof go)&&(e instanceof kt||e instanceof go)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yk(n,e){return n=ke(n),e=ke(e),n instanceof $n&&e instanceof $n&&n.firestore===e.firestore&&Mh(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="AsyncQueue";class zR{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new E0(this,"async_queue_retry"),this.Su=()=>{const r=Kp();r&&ue(BR,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Kp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Kp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Sn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fo(e))throw e;ue(BR,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Bt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=R0.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function zv(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class HB{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=-1;let $t=class extends qh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zR(e),this._firestoreClient=void 0,await e}}};function Dn(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_k(n),n._firestoreClient}function _k(n){var e,t,r;const i=n._freezeSettings(),o=function(u,d,f,m){return new pj(u,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lk(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new VB(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function GB(n,e){Bi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return vk(n,mh.provider,{build:r=>new rk(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function QB(n){Bi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();vk(n,mh.provider,{build:t=>new xB(t,e.cacheSizeBytes)})}function vk(n,e,t){if((n=Je(n,$t))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},_k(n)}function YB(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Sn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Vi.D())return Promise.resolve();const i=r+C1;await Vi.delete(i)}(y0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function JB(n){return function(t){const r=new Sn;return t.asyncQueue.enqueueAndForget(async()=>_B(await M0(t),r)),r.promise}(Dn(n=Je(n,$t)))}function XB(n){return MB(Dn(n=Je(n,$t)))}function ZB(n){return FB(Dn(n=Je(n,$t)))}function e5(n,e){const t=Dn(n=Je(n,$t)),r=new HB;return zB(t,n._databaseId,e,r),r}function t5(n,e){return $B(Dn(n=Je(n,$t)),e).then(t=>t?new $n(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $i(Lt.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $i(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=/^__.*__$/;class r5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ec(e,this.data,t,this.fieldTransforms)}}class wk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ek(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Eg{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Om(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ek(this.Lu)&&n5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class i5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zh(e)}ju(e,t,r,i=!1){return new Eg({Lu:e,methodName:t,zu:r,path:It.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ya(n){const e=n._freezeSettings(),t=zh(n._databaseId);return new i5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ig(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);H0("Data must be an object, but it was:",l,r);const u=Sk(r,l);let d,f;if(o.merge)d=new nr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const _=$v(e,g,t);if(!l.contains(_))throw new ae(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Ak(m,_)||m.push(_)}d=new nr(m),f=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,f=l.fieldTransforms;return new r5(new Tn(u),d,f)}class Wh extends Qa{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function Ik(n,e,t){return new Eg({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class U0 extends Qa{_toFieldTransform(e){return new jh(e.path,new xu)}isEqual(e){return e instanceof U0}}class B0 extends Qa{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Ik(this,e,!0),r=this.Hu.map(o=>Ja(o,t)),i=new Ma(r);return new jh(e.path,i)}isEqual(e){return e instanceof B0&&gu(this.Hu,e.Hu)}}class z0 extends Qa{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Ik(this,e,!0),r=this.Hu.map(o=>Ja(o,t)),i=new Fa(r);return new jh(e.path,i)}isEqual(e){return e instanceof z0&&gu(this.Hu,e.Hu)}}class $0 extends Qa{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Nu(e.serializer,HC(e.serializer,this.Ju));return new jh(e.path,t)}isEqual(e){return e instanceof $0&&this.Ju===e.Ju}}function q0(n,e,t,r){const i=n.ju(1,e,t);H0("Data must be an object, but it was:",i,r);const o=[],l=Tn.empty();jo(r,(d,f)=>{const m=K0(e,d,t);f=ke(f);const g=i.Ku(m);if(f instanceof Wh)o.push(m);else{const _=Ja(f,g);_!=null&&(o.push(m),l.set(m,_))}});const u=new nr(o);return new wk(l,u,i.fieldTransforms)}function W0(n,e,t,r,i,o){const l=n.ju(1,e,t),u=[$v(e,r,t)],d=[i];if(o.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push($v(e,o[_])),d.push(o[_+1]);const f=[],m=Tn.empty();for(let _=u.length-1;_>=0;--_)if(!Ak(f,u[_])){const T=u[_];let I=d[_];I=ke(I);const R=l.Ku(T);if(I instanceof Wh)f.push(T);else{const b=Ja(I,R);b!=null&&(f.push(T),m.set(T,b))}}const g=new nr(f);return new wk(m,g,l.fieldTransforms)}function Tk(n,e,t,r=!1){return Ja(t,n.ju(r?4:3,e))}function Ja(n,e){if(Rk(n=ke(n)))return H0("Unsupported field value:",e,n),Sk(n,e);if(n instanceof Qa)return function(r,i){if(!Ek(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let d=Ja(u,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=St.fromDate(r);return{timestampValue:Ou(i.serializer,o)}}if(r instanceof St){const o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ou(i.serializer,o)}}if(r instanceof wg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $i)return{bytesValue:i1(i.serializer,r._byteString)};if(r instanceof kt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:c0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof j0)return function(l,u){return{mapValue:{fields:{[Zw]:{stringValue:e0},[Pu]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return i0(u.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${vg(r)}`)}(n,e)}function Sk(n,e){const t={};return EC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(n,(r,i)=>{const o=Ja(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Rk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof wg||n instanceof $i||n instanceof kt||n instanceof Qa||n instanceof j0)}function H0(n,e,t){if(!Rk(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=vg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function $v(n,e,t){if((e=ke(e))instanceof Co)return e._internalPath;if(typeof e=="string")return K0(n,e);throw Om("Field path arguments must be of type string or ",n,!1,void 0,t)}const s5=new RegExp("[~\\*/\\[\\]]");function K0(n,e,t){if(e.search(s5)>=0)throw Om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Co(...e.split("."))._internalPath}catch{throw Om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Om(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,u+n+d)}function Ak(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class o5 extends gh{data(){return super.data()}}function Tg(n,e){return typeof e=="string"?K0(n,e):e instanceof Co?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G0{}class Hh extends G0{}function so(n,e,...t){let r=[];e instanceof G0&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof Q0).length,u=o.filter(d=>d instanceof Sg).length;if(l>1||l>0&&u>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Sg extends Hh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Sg(e,t,r)}_apply(e){const t=this._parse(e);return Ck(e._query,t),new $n(e.firestore,e.converter,Cv(e._query,t))}_parse(e){const t=Ya(e.firestore);return function(o,l,u,d,f,m,g){let _;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){qR(g,m);const I=[];for(const R of g)I.push($R(d,o,R));_={arrayValue:{values:I}}}else _=$R(d,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||qR(g,m),_=Tk(u,l,g,m==="in"||m==="not-in");return ze.create(f,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function a5(n,e,t){const r=e,i=Tg("where",n);return Sg._create(i,r,t)}class Q0 extends G0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Q0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:rt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)Ck(l,d),l=Cv(l,d)}(e._query,t),new $n(e.firestore,e.converter,Cv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y0 extends Hh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Y0(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dh(o,l)}(e._query,this._field,this._direction);return new $n(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new bs(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function l5(n,e="asc"){const t=e,r=Tg("orderBy",n);return Y0._create(r,t)}class Rg extends Hh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Rg(e,t,r)}_apply(e){return new $n(e.firestore,e.converter,Tm(e._query,this._limit,this._limitType))}}function u5(n){return ck("limit",n),Rg._create("limit",n,"F")}function c5(n){return ck("limitToLast",n),Rg._create("limitToLast",n,"L")}class Ag extends Hh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ag(e,t,r)}_apply(e){const t=Pk(e,this.type,this._docOrFields,this._inclusive);return new $n(e.firestore,e.converter,function(i,o){return new bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function d5(...n){return Ag._create("startAt",n,!0)}function h5(...n){return Ag._create("startAfter",n,!1)}class bg extends Hh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bg(e,t,r)}_apply(e){const t=Pk(e,this.type,this._docOrFields,this._inclusive);return new $n(e.firestore,e.converter,function(i,o){return new bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function f5(...n){return bg._create("endBefore",n,!1)}function p5(...n){return bg._create("endAt",n,!0)}function Pk(n,e,t,r){if(t[0]=ke(t[0]),t[0]instanceof gh)return function(o,l,u,d,f){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of hu(o))if(g.field.isKeyField())m.push(Va(l,d.key));else{const _=d.data.field(g.field);if(ag(_))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=g.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(_)}return new Ao(m,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ya(n.firestore);return function(l,u,d,f,m,g){const _=l.explicitOrderBy;if(m.length>_.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<m.length;I++){const R=m[I];if(_[I].field.isKeyField()){if(typeof R!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!n0(l)&&R.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const b=l.path.child(Be.fromString(R));if(!_e.isDocumentKey(b))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const M=new _e(b);T.push(Va(u,M))}else{const b=Tk(d,f,R);T.push(b)}}return new Ao(T,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function $R(n,e,t){if(typeof(t=ke(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n0(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Be.fromString(t));if(!_e.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Va(n,new _e(r))}if(t instanceof kt)return Va(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vg(t)}.`)}function qR(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ck(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class J0{convertValue(e,t="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return jo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Pu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>wt(l.doubleValue));return new j0(o)}convertGeoPoint(e){return new wg(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lh(e));default:return null}}convertTimestamp(e){const t=ws(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Be.fromString(e);Re(m1(r));const i=new To(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Bt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class m5 extends J0{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Is=class extends gh{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Hd=class extends Is{data(e={}){return super.data(e)}},ko=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ba(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hd(this._firestore,this._userDataWriter,r.key,r,new ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Hd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ba(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new Hd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ba(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:g5(u.type),doc:d,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function g5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function kk(n,e){return n instanceof Is&&e instanceof Is?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ko&&e instanceof ko&&n._firestore===e._firestore&&yk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(n){n=Je(n,kt);const e=Je(n.firestore,$t);return ok(Dn(e),n._key).then(t=>X0(e,n,t))}class Xa extends J0{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function _5(n){n=Je(n,kt);const e=Je(n.firestore,$t),t=Dn(e),r=new Xa(e);return jB(t,n._key).then(i=>new Is(e,r,n._key,i,new ba(i!==null&&i.hasLocalMutations,!0),n.converter))}function v5(n){n=Je(n,kt);const e=Je(n.firestore,$t);return ok(Dn(e),n._key,{source:"server"}).then(t=>X0(e,n,t))}function w5(n){n=Je(n,$n);const e=Je(n.firestore,$t),t=Dn(e),r=new Xa(e);return bk(n._query),ak(t,n._query).then(i=>new ko(e,r,n,i))}function E5(n){n=Je(n,$n);const e=Je(n.firestore,$t),t=Dn(e),r=new Xa(e);return UB(t,n._query).then(i=>new ko(e,r,n,i))}function I5(n){n=Je(n,$n);const e=Je(n.firestore,$t),t=Dn(e),r=new Xa(e);return ak(t,n._query,{source:"server"}).then(i=>new ko(e,r,n,i))}function WR(n,e,t){n=Je(n,kt);const r=Je(n.firestore,$t),i=Pg(n.converter,e,t);return Kh(r,[Ig(Ya(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Tt.none())])}function HR(n,e,t,...r){n=Je(n,kt);const i=Je(n.firestore,$t),o=Ya(i);let l;return l=typeof(e=ke(e))=="string"||e instanceof Co?W0(o,"updateDoc",n._key,e,t,r):q0(o,"updateDoc",n._key,e),Kh(i,[l.toMutation(n._key,Tt.exists(!0))])}function T5(n){return Kh(Je(n.firestore,$t),[new tc(n._key,Tt.none())])}function S5(n,e){const t=Je(n.firestore,$t),r=Nm(n),i=Pg(n.converter,e);return Kh(t,[Ig(Ya(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Tt.exists(!1))]).then(()=>r)}function xk(n,...e){var t,r,i;n=ke(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||zv(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(zv(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,f,m;if(n instanceof kt)f=Je(n.firestore,$t),m=Zu(n._key.path),d={next:g=>{e[l]&&e[l](X0(f,n,g))},error:e[l+1],complete:e[l+2]};else{const g=Je(n,$n);f=Je(g.firestore,$t),m=g._query;const _=new Xa(f);d={next:T=>{e[l]&&e[l](new ko(f,_,g,T))},error:e[l+1],complete:e[l+2]},bk(n._query)}return function(_,T,I,R){const b=new yg(R),M=new C0(T,b,I);return _.asyncQueue.enqueueAndForget(async()=>A0(await ju(_),M)),()=>{b.su(),_.asyncQueue.enqueueAndForget(async()=>b0(await ju(_),M))}}(Dn(f),m,u,d)}function R5(n,e){return BB(Dn(n=Je(n,$t)),zv(e)?e:{next:e})}function Kh(n,e){return function(r,i){const o=new Sn;return r.asyncQueue.enqueueAndForget(async()=>pB(await M0(r),i,o)),o.promise}(Dn(n),e)}function X0(n,e,t){const r=t.docs.get(e._key),i=new Xa(n);return new Is(n,i,e._key,r,new ba(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b5=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ya(e)}set(e,t,r){this._verifyNotCommitted();const i=uo(e,this._firestore),o=Pg(i.converter,t,r),l=Ig(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Tt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=uo(e,this._firestore);let l;return l=typeof(t=ke(t))=="string"||t instanceof Co?W0(this._dataReader,"WriteBatch.update",o._key,t,r,i):q0(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,Tt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uo(e,this._firestore);return this._mutations=this._mutations.concat(new tc(t._key,Tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function uo(n,e){if((n=ke(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ya(e)}get(e){const t=uo(e,this._firestore),r=new m5(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Ee();const o=i[0];if(o.isFoundDocument())return new gh(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new gh(this._firestore,r,t._key,null,t.converter);throw Ee()})}set(e,t,r){const i=uo(e,this._firestore),o=Pg(i.converter,t,r),l=Ig(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const o=uo(e,this._firestore);let l;return l=typeof(t=ke(t))=="string"||t instanceof Co?W0(this._dataReader,"Transaction.update",o._key,t,r,i):q0(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=uo(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C5=class extends P5{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uo(e,this._firestore),r=new Xa(this._firestore);return super.get(e).then(i=>new Is(this._firestore,r,t._key,i._document,new ba(!1,!1),t.converter))}};function k5(n,e,t){n=Je(n,$t);const r=Object.assign(Object.assign({},A5),t);return function(o){if(o.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,l,u){const d=new Sn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await LB(o);new DB(o.asyncQueue,f,u,l,d).Iu()}),d.promise}(Dn(n),i=>e(new C5(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){return new Wh("deleteField")}function N5(){return new U0("serverTimestamp")}function O5(...n){return new B0("arrayUnion",n)}function D5(...n){return new z0("arrayRemove",n)}function V5(n){return new $0("increment",n)}(function(e,t=!0){(function(i){Xu=i})(Vo),wo(new ji("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new $t(new k4(r.getProvider("auth-internal")),new O4(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),li(SS,RS,e),li(SS,RS,"esm2017")})();const L5="@firebase/firestore-compat",M5="0.3.43";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function GR(){if(!hj())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Nk=class qv{constructor(e){this._delegate=e}static fromBase64String(e){return GR(),new qv($i.fromBase64String(e))}static fromUint8Array(e){return KR(),new qv($i.fromUint8Array(e))}toBase64(){return GR(),this._delegate.toBase64()}toUint8Array(){return KR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n){return F5(n,["next","error","complete"])}function F5(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{enableIndexedDbPersistence(e,t){return GB(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return QB(e._delegate)}clearIndexedDbPersistence(e){return YB(e._delegate)}}class Ok{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof To||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Bi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){qB(this._delegate,e,t,r)}enableNetwork(){return XB(this._delegate)}disableNetwork(){return ZB(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return JB(this._delegate)}onSnapshotsInSync(e){return R5(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Uu(this,mk(this._delegate,e))}catch(t){throw Un(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fr(this,Nm(this._delegate,e))}catch(t){throw Un(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jn(this,WB(this._delegate,e))}catch(t){throw Un(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return k5(this._delegate,t=>e(new Dk(this,t)))}batch(){return Dn(this._delegate),new Vk(new b5(this._delegate,e=>Kh(this._delegate,e)))}loadBundle(e){return e5(this._delegate,e)}namedQuery(e){return t5(this._delegate,e).then(t=>t?new jn(this,t):null)}}class Cg extends J0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nk(new $i(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fr.forKey(t,this.firestore,null)}}function U5(n){A4(n)}class Dk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Cg(e)}get(e){const t=Pa(e);return this._delegate.get(t).then(r=>new yh(this._firestore,new Is(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Pa(e);return r?(Z0("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Pa(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Pa(e);return this._delegate.delete(t),this}}class Vk{constructor(e){this._delegate=e}set(e,t,r){const i=Pa(e);return r?(Z0("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Pa(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Pa(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $a{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Hd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _h(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$a.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new $a(e,new Cg(e),t),i.set(t,o)),o}}$a.INSTANCES=new WeakMap;class Fr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cg(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fr(t,new kt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Fr(t,new kt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Uu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Uu(this.firestore,mk(this._delegate,e))}catch(t){throw Un(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ke(e),e instanceof kt?gk(this._delegate,e):!1}set(e,t){t=Z0("DocumentReference.set",t);try{return t?WR(this._delegate,e,t):WR(this._delegate,e)}catch(r){throw Un(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?HR(this._delegate,e):HR(this._delegate,e,t,...r)}catch(i){throw Un(i,"updateDoc()","DocumentReference.update()")}}delete(){return T5(this._delegate)}onSnapshot(...e){const t=Lk(e),r=Mk(e,i=>new yh(this.firestore,new Is(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xk(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=_5(this._delegate):(e==null?void 0:e.source)==="server"?t=v5(this._delegate):t=y5(this._delegate),t.then(r=>new yh(this.firestore,new Is(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fr(this.firestore,e?this._delegate.withConverter($a.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Un(n,e,t){return n.message=n.message.replace(e,t),n}function Lk(n){for(const e of n)if(typeof e=="object"&&!Wv(e))return e;return{}}function Mk(n,e){var t,r;let i;return Wv(n[0])?i=n[0]:Wv(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class yh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return kk(this._delegate,e._delegate)}}class _h extends yh{data(e){const t=this._delegate.data(e);return this._delegate._converter||b4(t!==void 0),t}}class jn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cg(e)}where(e,t,r){try{return new jn(this.firestore,so(this._delegate,a5(e,t,r)))}catch(i){throw Un(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new jn(this.firestore,so(this._delegate,l5(e,t)))}catch(r){throw Un(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jn(this.firestore,so(this._delegate,u5(e)))}catch(t){throw Un(t,"limit()","Query.limit()")}}limitToLast(e){try{return new jn(this.firestore,so(this._delegate,c5(e)))}catch(t){throw Un(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new jn(this.firestore,so(this._delegate,d5(...e)))}catch(t){throw Un(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new jn(this.firestore,so(this._delegate,h5(...e)))}catch(t){throw Un(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new jn(this.firestore,so(this._delegate,f5(...e)))}catch(t){throw Un(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new jn(this.firestore,so(this._delegate,p5(...e)))}catch(t){throw Un(t,"endAt()","Query.endAt()")}}isEqual(e){return yk(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=E5(this._delegate):(e==null?void 0:e.source)==="server"?t=I5(this._delegate):t=w5(this._delegate),t.then(r=>new Hv(this.firestore,new ko(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Lk(e),r=Mk(e,i=>new Hv(this.firestore,new ko(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xk(this._delegate,t,r)}withConverter(e){return new jn(this.firestore,e?this._delegate.withConverter($a.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class B5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new _h(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new jn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _h(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new B5(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new _h(this._firestore,r))})}isEqual(e){return kk(this._delegate,e._delegate)}}class Uu extends jn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fr(this.firestore,e):null}doc(e){try{return e===void 0?new Fr(this.firestore,Nm(this._delegate)):new Fr(this.firestore,Nm(this._delegate,e))}catch(t){throw Un(t,"doc()","CollectionReference.doc()")}}add(e){return S5(this._delegate,e).then(t=>new Fr(this.firestore,t))}isEqual(e){return gk(this._delegate,e._delegate)}withConverter(e){return new Uu(this.firestore,e?this._delegate.withConverter($a.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Pa(n){return Je(n,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(...e){this._delegate=new Co(...e)}static documentId(){return new eE(It.keyField().canonicalString())}isEqual(e){return e=ke(e),e instanceof Co?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{static serverTimestamp(){const e=N5();return e._methodName="FieldValue.serverTimestamp",new Sa(e)}static delete(){const e=x5();return e._methodName="FieldValue.delete",new Sa(e)}static arrayUnion(...e){const t=O5(...e);return t._methodName="FieldValue.arrayUnion",new Sa(t)}static arrayRemove(...e){const t=D5(...e);return t._methodName="FieldValue.arrayRemove",new Sa(t)}static increment(e){const t=V5(e);return t._methodName="FieldValue.increment",new Sa(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5={Firestore:Ok,GeoPoint:wg,Timestamp:St,Blob:Nk,Transaction:Dk,WriteBatch:Vk,DocumentReference:Fr,DocumentSnapshot:yh,Query:jn,QueryDocumentSnapshot:_h,QuerySnapshot:Hv,CollectionReference:Uu,FieldPath:eE,FieldValue:Sa,setLogLevel:U5,CACHE_SIZE_UNLIMITED:KB};function $5(n,e){n.INTERNAL.registerComponent(new ji("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},z5)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(n){$5(n,(e,t)=>new Ok(e,t,new j5)),n.registerVersion(L5,M5)}q5(Gu);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=2e3;async function H5(n,e,t){var r;const{BuildInfo:i}=qa();ui(e.sessionId,"AuthEvent did not contain a session ID");const o=await J5(e.sessionId),l={};return Ch()?l.ibi=i.packageName:Ph()?l.apn=i.packageName:gn(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=o,gv(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function K5(n){const{BuildInfo:e}=qa(),t={};Ch()?t.iosBundleId=e.packageName:Ph()?t.androidPackageName=e.packageName:gn(n,"operation-not-supported-in-this-environment"),await GP(n,t)}function G5(n){const{cordova:e}=qa();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,OL()?"_blank":"_system","location=yes"),t(i)})})}async function Q5(n,e,t){const{cordova:r}=qa();let i=()=>{};try{await new Promise((o,l)=>{let u=null;function d(){var g;o();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){u||(u=window.setTimeout(()=>{l(on(n,"redirect-cancelled-by-user"))},W5))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Ph()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function Y5(n){var e,t,r,i,o,l,u,d,f,m;const g=qa();fe(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fe(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fe(typeof((o=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe(typeof((m=(f=g==null?void 0:g.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function J5(n){const e=X5(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function X5(n){if(ui(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=20;class e3 extends HP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function t3(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:i3(),postBody:null,tenantId:n.tenantId,error:on(n,"no-auth-event")}}function n3(n,e){return Kv()._set(Gv(n),e)}async function QR(n){const e=await Kv()._get(Gv(n));return e&&await Kv()._remove(Gv(n)),e}function r3(n,e){var t,r;const i=o3(e);if(i.includes("/__/auth/callback")){const o=Gp(i),l=o.firebaseError?s3(decodeURIComponent(o.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?on(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function i3(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Z5;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Kv(){return wr(Xm)}function Gv(n){return ka("authEvent",n.config.apiKey,n.name)}function s3(n){try{return JSON.parse(n)}catch{return null}}function o3(n){const e=Gp(n),t=e.link?decodeURIComponent(e.link):void 0,r=Gp(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Gp(i).link||i||r||t||n}function Gp(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return ou(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=500;class l3{constructor(){this._redirectPersistence=Eo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ng,this._overrideRedirectResult=qw}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new e3(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){gn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){Y5(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),VF(),await this._originValidation(e);const l=t3(e,r,i);await n3(e,l);const u=await H5(e,l,t),d=await G5(u);return Q5(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=K5(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=qa(),l=setTimeout(async()=>{await QR(e),t.onEvent(YR())},a3),u=async m=>{clearTimeout(l);const g=await QR(e);let _=null;g&&(m!=null&&m.url)&&(_=r3(g,m.url)),t.onEvent(_||YR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,f=`${o.packageName.toLowerCase()}://`;qa().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(f)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const u3=l3;function YR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:on("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(n,e){Nt(n)._logFramework(e)}var d3="@firebase/auth-compat",h3="0.5.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=1e3;function Kd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function p3(){return Kd()==="http:"||Kd()==="https:"}function Fk(n=xt()){return!!((Kd()==="file:"||Kd()==="ionic:"||Kd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function m3(){return Tw()||Iw()}function g3(){return jb()&&(document==null?void 0:document.documentMode)===11}function y3(n=xt()){return/Edge\/\d+/.test(n)}function _3(n=xt()){return g3()||y3(n)}function jk(){try{const n=self.localStorage,e=Nh();if(n)return n.setItem(e,"1"),n.removeItem(e),_3()?Jd():!0}catch{return tE()&&Jd()}return!1}function tE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function H_(){return(p3()||Fb()||Fk())&&!m3()&&jk()&&!tE()}function Uk(){return Fk()&&typeof document<"u"}async function v3(){return Uk()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},f3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function w3(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={LOCAL:"local",NONE:"none",SESSION:"session"},fd=fe,Bk="persistence";function E3(n,e){if(fd(Object.values(_r).includes(e),n,"invalid-persistence-type"),Tw()){fd(e!==_r.SESSION,n,"unsupported-persistence-type");return}if(Iw()){fd(e===_r.NONE,n,"unsupported-persistence-type");return}if(tE()){fd(e===_r.NONE||e===_r.LOCAL&&Jd(),n,"unsupported-persistence-type");return}fd(e===_r.NONE||jk(),n,"unsupported-persistence-type")}async function Qv(n){await n._initializationPromise;const e=zk(),t=ka(Bk,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function I3(n,e){const t=zk();if(!t)return[];const r=ka(Bk,n,e);switch(t.getItem(r)){case _r.NONE:return[vu];case _r.LOCAL:return[Eu,Eo];case _r.SESSION:return[Eo];default:return[]}}function zk(){var n;try{return((n=w3())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=fe;class co{constructor(){this.browserResolver=wr(QP),this.cordovaResolver=wr(u3),this.underlyingResolver=null,this._redirectPersistence=Eo,this._completeRedirectFn=ng,this._overrideRedirectResult=qw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Uk()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return T3(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await v3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){return n.unwrap()}function S3(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(n){return qk(n)}function A3(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new b3(n,YM(n,e))}else if(r){const i=qk(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function qk(n){const{_tokenResponse:e}=n instanceof Bn?n.customData:n;if(!e)return null;if(!(n instanceof Bn)&&"temporaryProof"in e&&"phoneNumber"in e)return Da.credentialFromResult(n);const t=e.providerId;if(!t||t===od.PASSWORD)return null;let r;switch(t){case od.GOOGLE:r=Ci;break;case od.FACEBOOK:r=Pi;break;case od.GITHUB:r=ki;break;case od.TWITTER:r=xi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!o&&!l&&!i&&!u?null:u?t.startsWith("saml.")?wu._create(t,u):Ui._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:o}):new cu(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof Bn?r.credentialFromError(n):r.credentialFromResult(n)}function er(n,e){return e.catch(t=>{throw t instanceof Bn&&A3(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:R3(t),additionalUserInfo:KM(t),user:ms.getOrCreate(i)}})}async function Yv(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>er(n,t.confirm(r))}}class b3{constructor(e,t){this.resolver=t,this.auth=S3(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return er($k(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this._delegate=e,this.multiFactor=ZM(e)}static getOrCreate(e){return ms.USER_MAP.has(e)||ms.USER_MAP.set(e,new ms(e)),ms.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return er(this.auth,CP(this._delegate,e))}async linkWithPhoneNumber(e,t){return Yv(this.auth,IF(this._delegate,e,t))}async linkWithPopup(e){return er(this.auth,xF(this._delegate,e,co))}async linkWithRedirect(e){return await Qv(Nt(this.auth)),UF(this._delegate,e,co)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return er(this.auth,kP(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Yv(this.auth,TF(this._delegate,e,t))}reauthenticateWithPopup(e){return er(this.auth,kF(this._delegate,e,co))}async reauthenticateWithRedirect(e){return await Qv(Nt(this.auth)),FF(this._delegate,e,co)}sendEmailVerification(e){return LM(this._delegate,e)}async unlink(e){return await SM(this._delegate,e),this}updateEmail(e){return UM(this._delegate,e)}updatePassword(e){return BM(this._delegate,e)}updatePhoneNumber(e){return SF(this._delegate,e)}updateProfile(e){return jM(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return MM(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ms.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=fe;let Jv=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;pd(r,"invalid-api-key",{appName:e.name}),pd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?co:void 0;this._delegate=t.initialize({options:{persistence:P3(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(pL),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ms.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){EP(this._delegate,e,t)}applyActionCode(e){return CM(this._delegate,e)}checkActionCode(e){return xP(this._delegate,e)}confirmPasswordReset(e,t){return PM(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return er(this._delegate,NP(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return VM(this._delegate,e)}isSignInWithEmailLink(e){return NM(this._delegate,e)}async getRedirectResult(){pd(H_(),this._delegate,"operation-not-supported-in-this-environment");const e=await zF(this._delegate,co);return e?er(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){c3(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:l}=JR(e,t,r);return this._delegate.onAuthStateChanged(i,o,l)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:l}=JR(e,t,r);return this._delegate.onIdTokenChanged(i,o,l)}sendSignInLinkToEmail(e,t){return xM(this._delegate,e,t)}sendPasswordResetEmail(e,t){return bM(this._delegate,e,t||void 0)}async setPersistence(e){E3(this._delegate,e);let t;switch(e){case _r.SESSION:t=Eo;break;case _r.LOCAL:t=await wr(Eu)._isAvailable()?Eu:Xm;break;case _r.NONE:t=vu;break;default:return gn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return er(this._delegate,TM(this._delegate))}signInWithCredential(e){return er(this._delegate,Ym(this._delegate,e))}signInWithCustomToken(e){return er(this._delegate,AM(this._delegate,e))}signInWithEmailAndPassword(e,t){return er(this._delegate,OP(this._delegate,e,t))}signInWithEmailLink(e,t){return er(this._delegate,OM(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Yv(this._delegate,EF(this._delegate,e,t))}async signInWithPopup(e){return pd(H_(),this._delegate,"operation-not-supported-in-this-environment"),er(this._delegate,CF(this._delegate,e,co))}async signInWithRedirect(e){return pd(H_(),this._delegate,"operation-not-supported-in-this-environment"),await Qv(this._delegate),LF(this._delegate,e,co)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return kM(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Jv.Persistence=_r;function JR(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&ms.getOrCreate(l)),error:e,complete:t}}function P3(n,e){const t=I3(n,e);if(typeof self<"u"&&!t.includes(Eu)&&t.push(Eu),typeof window<"u")for(const r of[Xm,Eo])t.includes(r)||t.push(r);return t.includes(vu)||t.push(vu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{static credential(e,t){return Da.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Da($k(Gu.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}nE.PHONE_SIGN_IN_METHOD=Da.PHONE_SIGN_IN_METHOD;nE.PROVIDER_ID=Da.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=fe;class k3{constructor(e,t,r=Gu.app()){var i;C3((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new vF(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="auth-compat";function N3(n){n.INTERNAL.registerComponent(new ji(x3,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Jv(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zl.EMAIL_SIGNIN,PASSWORD_RESET:zl.PASSWORD_RESET,RECOVER_EMAIL:zl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:zl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:zl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:zl.VERIFY_EMAIL}},EmailAuthProvider:Lo,FacebookAuthProvider:Pi,GithubAuthProvider:ki,GoogleAuthProvider:Ci,OAuthProvider:cu,SAMLAuthProvider:dm,PhoneAuthProvider:nE,PhoneMultiFactorGenerator:YP,RecaptchaVerifier:k3,TwitterAuthProvider:xi,Auth:Jv,AuthCredential:Yu,Error:Bn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(d3,h3)}N3(Gu);const O3={apiKey:"AIzaSyA7PgIwnCKuLV4eW7KyOI_MpPHmieXSCHg",authDomain:"clone-2c6a8.firebaseapp.com",projectId:"clone-2c6a8",storageBucket:"clone-2c6a8.firebasestorage.app",messagingSenderId:"87935796661",appId:"1:87935796661:web:0fee0488b9cde32df845fc"},Wk=Gu.initializeApp(O3),Dm=S4(Wk),Hk=Wk.firestore(),D3=()=>{var m;const[{user:n,basket:e},t]=K.useContext(Ss),[r,i]=K.useState("Ethiopia"),[o,l]=K.useState("All"),[u,d]=K.useState("EN"),f=e==null?void 0:e.reduce((g,_)=>_.amount+g,0);return O.jsxs("section",{className:cs.fixed,children:[O.jsx("section",{children:O.jsxs("div",{className:cs.header__container,children:[O.jsxs("div",{className:cs.logo__container,children:[O.jsx(ai,{to:"/",children:O.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),O.jsxs("div",{className:cs.delivery,children:[O.jsx("span",{children:O.jsx(h2,{})}),O.jsxs("div",{children:[O.jsx("p",{children:"Delivered to"}),O.jsxs("select",{value:r,onChange:g=>i(g.target.value),children:[O.jsx("option",{value:"Ethiopia",children:"Ethiopia"}),O.jsx("option",{value:"USA",children:"USA"}),O.jsx("option",{value:"Canada",children:"Canada"})]})]})]})]}),O.jsxs("div",{className:cs.search,children:[O.jsxs("select",{value:o,onChange:g=>l(g.target.value),children:[O.jsx("option",{value:"All",children:"All"}),O.jsx("option",{value:"Books",children:"Books"}),O.jsx("option",{value:"Electronics",children:"Electronics"}),O.jsx("option",{value:"Clothing",children:"Clothing"})]}),O.jsx("input",{type:"text",placeholder:"search products"}),O.jsx(d2,{size:"36"})]}),O.jsxs("div",{className:cs.order__container,children:[O.jsxs(ai,{to:"",className:cs.language,children:[O.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg",alt:""}),O.jsxs("select",{value:u,onChange:g=>d(g.target.value),children:[O.jsx("option",{value:"EN",children:"EN"}),O.jsx("option",{value:"ES",children:"ES"}),O.jsx("option",{value:"FR",children:"FR"})]})]}),O.jsx(ai,{to:!n&&"/auth",children:O.jsx("div",{children:n?O.jsxs(O.Fragment,{children:[O.jsxs("p",{children:["Hello ",(m=n==null?void 0:n.email)==null?void 0:m.split("@")[0]]}),O.jsx("span",{onClick:()=>Dm.signOut(),children:"Sign Out"})]}):O.jsxs(O.Fragment,{children:[O.jsx("p",{children:"Hello, Sign In"}),O.jsx("span",{children:"Account & Lists"})]})})}),O.jsxs(ai,{to:"/orders",children:[O.jsx("p",{children:"returns"}),O.jsx("span",{children:"& Orders"})]}),O.jsxs(ai,{to:"/cart",className:cs.cart,children:[O.jsx(R2,{size:35}),O.jsx("span",{children:f})]})]})]})}),O.jsx(T2,{})]})},oc=({children:n})=>O.jsxs("div",{children:[O.jsx(D3,{}),n]});function Kk(n,e){return function(){return n.apply(e,arguments)}}const{toString:V3}=Object.prototype,{getPrototypeOf:rE}=Object,kg=(n=>e=>{const t=V3.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ci=n=>(n=n.toLowerCase(),e=>kg(e)===n),xg=n=>e=>typeof e===n,{isArray:ac}=Array,vh=xg("undefined");function L3(n){return n!==null&&!vh(n)&&n.constructor!==null&&!vh(n.constructor)&&Er(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Gk=ci("ArrayBuffer");function M3(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Gk(n.buffer),e}const F3=xg("string"),Er=xg("function"),Qk=xg("number"),Ng=n=>n!==null&&typeof n=="object",j3=n=>n===!0||n===!1,Qp=n=>{if(kg(n)!=="object")return!1;const e=rE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},U3=ci("Date"),B3=ci("File"),z3=ci("Blob"),$3=ci("FileList"),q3=n=>Ng(n)&&Er(n.pipe),W3=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Er(n.append)&&((e=kg(n))==="formdata"||e==="object"&&Er(n.toString)&&n.toString()==="[object FormData]"))},H3=ci("URLSearchParams"),[K3,G3,Q3,Y3]=["ReadableStream","Request","Response","Headers"].map(ci),J3=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),ac(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,n[u],u,n)}}function Yk(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Jk=n=>!vh(n)&&n!==Ca;function Xv(){const{caseless:n}=Jk(this)&&this||{},e={},t=(r,i)=>{const o=n&&Yk(e,i)||i;Qp(e[o])&&Qp(r)?e[o]=Xv(e[o],r):Qp(r)?e[o]=Xv({},r):ac(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Gh(arguments[r],t);return e}const X3=(n,e,t,{allOwnKeys:r}={})=>(Gh(e,(i,o)=>{t&&Er(i)?n[o]=Kk(i,t):n[o]=i},{allOwnKeys:r}),n),Z3=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ez=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},tz=(n,e,t,r)=>{let i,o,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)l=i[o],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&rE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},nz=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},rz=n=>{if(!n)return null;if(ac(n))return n;let e=n.length;if(!Qk(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},iz=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&rE(Uint8Array)),sz=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},oz=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},az=ci("HTMLFormElement"),lz=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),XR=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),uz=ci("RegExp"),Xk=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Gh(t,(i,o)=>{let l;(l=e(i,o,n))!==!1&&(r[o]=l||i)}),Object.defineProperties(n,r)},cz=n=>{Xk(n,(e,t)=>{if(Er(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Er(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},dz=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return ac(n)?r(n):r(String(n).split(e)),t},hz=()=>{},fz=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,K_="abcdefghijklmnopqrstuvwxyz",ZR="0123456789",Zk={DIGIT:ZR,ALPHA:K_,ALPHA_DIGIT:K_+K_.toUpperCase()+ZR},pz=(n=16,e=Zk.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function mz(n){return!!(n&&Er(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const gz=n=>{const e=new Array(10),t=(r,i)=>{if(Ng(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=ac(r)?[]:{};return Gh(r,(l,u)=>{const d=t(l,i+1);!vh(d)&&(o[u]=d)}),e[i]=void 0,o}}return r};return t(n,0)},yz=ci("AsyncFunction"),_z=n=>n&&(Ng(n)||Er(n))&&Er(n.then)&&Er(n.catch),ex=((n,e)=>n?setImmediate:e?((t,r)=>(Ca.addEventListener("message",({source:i,data:o})=>{i===Ca&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Ca.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Er(Ca.postMessage)),vz=typeof queueMicrotask<"u"?queueMicrotask.bind(Ca):typeof process<"u"&&process.nextTick||ex,re={isArray:ac,isArrayBuffer:Gk,isBuffer:L3,isFormData:W3,isArrayBufferView:M3,isString:F3,isNumber:Qk,isBoolean:j3,isObject:Ng,isPlainObject:Qp,isReadableStream:K3,isRequest:G3,isResponse:Q3,isHeaders:Y3,isUndefined:vh,isDate:U3,isFile:B3,isBlob:z3,isRegExp:uz,isFunction:Er,isStream:q3,isURLSearchParams:H3,isTypedArray:iz,isFileList:$3,forEach:Gh,merge:Xv,extend:X3,trim:J3,stripBOM:Z3,inherits:ez,toFlatObject:tz,kindOf:kg,kindOfTest:ci,endsWith:nz,toArray:rz,forEachEntry:sz,matchAll:oz,isHTMLForm:az,hasOwnProperty:XR,hasOwnProp:XR,reduceDescriptors:Xk,freezeMethods:cz,toObjectSet:dz,toCamelCase:lz,noop:hz,toFiniteNumber:fz,findKey:Yk,global:Ca,isContextDefined:Jk,ALPHABET:Zk,generateString:pz,isSpecCompliantForm:mz,toJSONObject:gz,isAsyncFn:yz,isThenable:_z,setImmediate:ex,asap:vz};function Le(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const tx=Le.prototype,nx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{nx[n]={value:n}});Object.defineProperties(Le,nx);Object.defineProperty(tx,"isAxiosError",{value:!0});Le.from=(n,e,t,r,i,o)=>{const l=Object.create(tx);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Le.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,o&&Object.assign(l,o),l};const wz=null;function Zv(n){return re.isPlainObject(n)||re.isArray(n)}function rx(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function eA(n,e,t){return n?n.concat(e).map(function(i,o){return i=rx(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Ez(n){return re.isArray(n)&&!n.some(Zv)}const Iz=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Og(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,b){return!re.isUndefined(b[R])});const r=t.metaTokens,i=t.visitor||m,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function f(I){if(I===null)return"";if(re.isDate(I))return I.toISOString();if(!d&&re.isBlob(I))throw new Le("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(I)||re.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function m(I,R,b){let M=I;if(I&&!b&&typeof I=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),I=JSON.stringify(I);else if(re.isArray(I)&&Ez(I)||(re.isFileList(I)||re.endsWith(R,"[]"))&&(M=re.toArray(I)))return R=rx(R),M.forEach(function(F,$){!(re.isUndefined(F)||F===null)&&e.append(l===!0?eA([R],$,o):l===null?R:R+"[]",f(F))}),!1}return Zv(I)?!0:(e.append(eA(b,R,o),f(I)),!1)}const g=[],_=Object.assign(Iz,{defaultVisitor:m,convertValue:f,isVisitable:Zv});function T(I,R){if(!re.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+R.join("."));g.push(I),re.forEach(I,function(M,L){(!(re.isUndefined(M)||M===null)&&i.call(e,M,re.isString(L)?L.trim():L,R,_))===!0&&T(M,R?R.concat(L):[L])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return T(n),e}function tA(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function iE(n,e){this._pairs=[],n&&Og(n,this,e)}const ix=iE.prototype;ix.append=function(e,t){this._pairs.push([e,t])};ix.toString=function(e){const t=e?function(r){return e.call(this,r,tA)}:tA;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Tz(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sx(n,e,t){if(!e)return n;const r=t&&t.encode||Tz;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=re.isURLSearchParams(e)?e.toString():new iE(e,t).toString(r),o){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class nA{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ox={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sz=typeof URLSearchParams<"u"?URLSearchParams:iE,Rz=typeof FormData<"u"?FormData:null,Az=typeof Blob<"u"?Blob:null,bz={isBrowser:!0,classes:{URLSearchParams:Sz,FormData:Rz,Blob:Az},protocols:["http","https","file","blob","url","data"]},sE=typeof window<"u"&&typeof document<"u",ew=typeof navigator=="object"&&navigator||void 0,Pz=sE&&(!ew||["ReactNative","NativeScript","NS"].indexOf(ew.product)<0),Cz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kz=sE&&window.location.href||"http://localhost",xz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sE,hasStandardBrowserEnv:Pz,hasStandardBrowserWebWorkerEnv:Cz,navigator:ew,origin:kz},Symbol.toStringTag,{value:"Module"})),Nn={...xz,...bz};function Nz(n,e){return Og(n,new Nn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Nn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Oz(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Dz(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function ax(n){function e(t,r,i,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],o)&&re.isArray(i[l])&&(i[l]=Dz(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(Oz(r),i,t,0)}),t}return null}function Vz(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Qh={transitional:ox,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=re.isObject(e);if(o&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(ax(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Nz(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Og(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),Vz(e)):e}],transformResponse:[function(e){const t=this.transitional||Qh.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Le.from(u,Le.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Qh.headers[n]={}});const Lz=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mz=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&Lz[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},rA=Symbol("internals");function md(n){return n&&String(n).trim().toLowerCase()}function Yp(n){return n===!1||n==null?n:re.isArray(n)?n.map(Yp):String(n)}function Fz(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const jz=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function G_(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function Uz(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Bz(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let ir=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(u,d,f){const m=md(d);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(i,m);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||d]=Yp(u))}const l=(u,d)=>re.forEach(u,(f,m)=>o(f,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!jz(e))l(Mz(e),t);else if(re.isHeaders(e))for(const[u,d]of e.entries())o(d,u,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=md(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Fz(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=md(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||G_(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(l){if(l=md(l),l){const u=re.findKey(r,l);u&&(!t||G_(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||G_(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,o)=>{const l=re.findKey(r,o);if(l){t[l]=Yp(i),delete t[o];return}const u=e?Uz(o):String(o).trim();u!==o&&delete t[o],t[u]=Yp(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[rA]=this[rA]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=md(l);r[u]||(Bz(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(o):o(e),this}};ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(ir.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(ir);function Q_(n,e){const t=this||Qh,r=e||t,i=ir.from(r.headers);let o=r.data;return re.forEach(n,function(u){o=u.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function lx(n){return!!(n&&n.__CANCEL__)}function lc(n,e,t){Le.call(this,n??"canceled",Le.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(lc,Le,{__CANCEL__:!0});function ux(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Le("Request failed with status code "+t.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function zz(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function $z(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),m=r[o];l||(l=f),t[i]=d,r[i]=f;let g=o,_=0;for(;g!==i;)_+=t[g++],g=g%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-l<e)return;const T=m&&f-m;return T?Math.round(_*1e3/T):void 0}}function qz(n,e){let t=0,r=1e3/e,i,o;const l=(f,m=Date.now())=>{t=m,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const m=Date.now(),g=m-t;g>=r?l(f,m):(i=f,o||(o=setTimeout(()=>{o=null,l(i)},r-g)))},()=>i&&l(i)]}const Vm=(n,e,t=3)=>{let r=0;const i=$z(50,250);return qz(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,f=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&m?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},iA=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},sA=n=>(...e)=>re.asap(()=>n(...e)),Wz=Nn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Nn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Nn.origin),Nn.navigator&&/(msie|trident)/i.test(Nn.navigator.userAgent)):()=>!0,Hz=Nn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kz(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Gz(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function cx(n,e){return n&&!Kz(e)?Gz(n,e):e}const oA=n=>n instanceof ir?{...n}:n;function Wa(n,e){e=e||{};const t={};function r(f,m,g,_){return re.isPlainObject(f)&&re.isPlainObject(m)?re.merge.call({caseless:_},f,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(f,m,g,_){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f,g,_)}else return r(f,m,g,_)}function o(f,m){if(!re.isUndefined(m))return r(void 0,m)}function l(f,m){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function u(f,m,g){if(g in e)return r(f,m);if(g in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m,g)=>i(oA(f),oA(m),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||i,_=g(n[m],e[m],m);re.isUndefined(_)&&g!==u||(t[m]=_)}),t}const dx=n=>{const e=Wa({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=ir.from(l),e.url=sx(cx(e.baseURL,e.url),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(re.isFormData(t)){if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...m].join("; "))}}if(Nn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&Wz(e.url))){const f=i&&o&&Hz.read(o);f&&l.set(i,f)}return e},Qz=typeof XMLHttpRequest<"u",Yz=Qz&&function(n){return new Promise(function(t,r){const i=dx(n);let o=i.data;const l=ir.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=i,m,g,_,T,I;function R(){T&&T(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function M(){if(!b)return;const F=ir.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),B={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:F,config:n,request:b};ux(function(V){t(V),R()},function(V){r(V),R()},B),b=null}"onloadend"in b?b.onloadend=M:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(M)},b.onabort=function(){b&&(r(new Le("Request aborted",Le.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new Le("Network Error",Le.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const B=i.transitional||ox;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new Le($,B.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,n,b)),b=null},o===void 0&&l.setContentType(null),"setRequestHeader"in b&&re.forEach(l.toJSON(),function($,B){b.setRequestHeader(B,$)}),re.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),u&&u!=="json"&&(b.responseType=i.responseType),f&&([_,I]=Vm(f,!0),b.addEventListener("progress",_)),d&&b.upload&&([g,T]=Vm(d),b.upload.addEventListener("progress",g),b.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=F=>{b&&(r(!F||F.type?new lc(null,n,b):F),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const L=zz(i.url);if(L&&Nn.protocols.indexOf(L)===-1){r(new Le("Unsupported protocol "+L+":",Le.ERR_BAD_REQUEST,n));return}b.send(o||null)})},Jz=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,u();const m=f instanceof Error?f:this.reason;r.abort(m instanceof Le?m:new lc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},Xz=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Zz=async function*(n,e){for await(const t of e6(n))yield*Xz(t,e)},e6=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},aA=(n,e,t,r)=>{const i=Zz(n,e);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await i.next();if(f){u(),d.close();return}let g=m.byteLength;if(t){let _=o+=g;t(_)}d.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Dg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hx=Dg&&typeof ReadableStream=="function",t6=Dg&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),fx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},n6=hx&&fx(()=>{let n=!1;const e=new Request(Nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),lA=64*1024,tw=hx&&fx(()=>re.isReadableStream(new Response("").body)),Lm={stream:tw&&(n=>n.body)};Dg&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lm[e]&&(Lm[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,r)})})})(new Response);const r6=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(Nn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await t6(n)).byteLength},i6=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??r6(e)},s6=Dg&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:f,headers:m,withCredentials:g="same-origin",fetchOptions:_}=dx(n);f=f?(f+"").toLowerCase():"text";let T=Jz([i,o&&o.toAbortSignal()],l),I;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let b;try{if(d&&n6&&t!=="get"&&t!=="head"&&(b=await i6(m,r))!==0){let B=new Request(e,{method:"POST",body:r,duplex:"half"}),q;if(re.isFormData(r)&&(q=B.headers.get("content-type"))&&m.setContentType(q),B.body){const[V,A]=iA(b,Vm(sA(d)));r=aA(B.body,lA,V,A)}}re.isString(g)||(g=g?"include":"omit");const M="credentials"in Request.prototype;I=new Request(e,{..._,signal:T,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:M?g:void 0});let L=await fetch(I);const F=tw&&(f==="stream"||f==="response");if(tw&&(u||F&&R)){const B={};["status","statusText","headers"].forEach(C=>{B[C]=L[C]});const q=re.toFiniteNumber(L.headers.get("content-length")),[V,A]=u&&iA(q,Vm(sA(u),!0))||[];L=new Response(aA(L.body,lA,V,()=>{A&&A(),R&&R()}),B)}f=f||"text";let $=await Lm[re.findKey(Lm,f)||"text"](L,n);return!F&&R&&R(),await new Promise((B,q)=>{ux(B,q,{data:$,headers:ir.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:I})})}catch(M){throw R&&R(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,n,I),{cause:M.cause||M}):Le.from(M,M&&M.code,n,I)}}),nw={http:wz,xhr:Yz,fetch:s6};re.forEach(nw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const uA=n=>`- ${n}`,o6=n=>re.isFunction(n)||n===null||n===!1,px={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let l;if(r=t,!o6(t)&&(r=nw[(l=String(t)).toLowerCase()],r===void 0))throw new Le(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(uA).join(`
`):" "+uA(o[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:nw};function Y_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new lc(null,n)}function cA(n){return Y_(n),n.headers=ir.from(n.headers),n.data=Q_.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),px.getAdapter(n.adapter||Qh.adapter)(n).then(function(r){return Y_(n),r.data=Q_.call(n,n.transformResponse,r),r.headers=ir.from(r.headers),r},function(r){return lx(r)||(Y_(n),r&&r.response&&(r.response.data=Q_.call(n,n.transformResponse,r.response),r.response.headers=ir.from(r.response.headers))),Promise.reject(r)})}const mx="1.7.9",Vg={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Vg[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const dA={};Vg.transitional=function(e,t,r){function i(o,l){return"[Axios v"+mx+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new Le(i(l," has been removed"+(t?" in "+t:"")),Le.ERR_DEPRECATED);return t&&!dA[l]&&(dA[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};Vg.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function a6(n,e,t){if(typeof n!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const u=n[o],d=u===void 0||l(u,o,n);if(d!==!0)throw new Le("option "+o+" must be "+d,Le.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Le("Unknown option "+o,Le.ERR_BAD_OPTION)}}const Jp={assertOptions:a6,validators:Vg},Ii=Jp.validators;let Oa=class{constructor(e){this.defaults=e,this.interceptors={request:new nA,response:new nA}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Wa(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Jp.assertOptions(r,{silentJSONParsing:Ii.transitional(Ii.boolean),forcedJSONParsing:Ii.transitional(Ii.boolean),clarifyTimeoutError:Ii.transitional(Ii.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:Jp.assertOptions(i,{encode:Ii.function,serialize:Ii.function},!0)),Jp.assertOptions(t,{baseUrl:Ii.spelling("baseURL"),withXsrfToken:Ii.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&re.merge(o.common,o[t.method]);o&&re.forEach(["delete","get","head","post","put","patch","common"],I=>{delete o[I]}),t.headers=ir.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let m,g=0,_;if(!d){const I=[cA.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,f),_=I.length,m=Promise.resolve(t);g<_;)m=m.then(I[g++],I[g++]);return m}_=u.length;let T=t;for(g=0;g<_;){const I=u[g++],R=u[g++];try{T=I(T)}catch(b){R.call(this,b);break}}try{m=cA.call(this,T)}catch(I){return Promise.reject(I)}for(g=0,_=f.length;g<_;)m=m.then(f[g++],f[g++]);return m}getUri(e){e=Wa(this.defaults,e);const t=cx(e.baseURL,e.url);return sx(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Oa.prototype[e]=function(t,r){return this.request(Wa(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(o,l,u){return this.request(Wa(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Oa.prototype[e]=t(),Oa.prototype[e+"Form"]=t(!0)});let l6=class gx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new lc(o,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new gx(function(i){e=i}),cancel:e}}};function u6(n){return function(t){return n.apply(null,t)}}function c6(n){return re.isObject(n)&&n.isAxiosError===!0}const rw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rw).forEach(([n,e])=>{rw[e]=n});function yx(n){const e=new Oa(n),t=Kk(Oa.prototype.request,e);return re.extend(t,Oa.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return yx(Wa(n,i))},t}const Rt=yx(Qh);Rt.Axios=Oa;Rt.CanceledError=lc;Rt.CancelToken=l6;Rt.isCancel=lx;Rt.VERSION=mx;Rt.toFormData=Og;Rt.AxiosError=Le;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=u6;Rt.isAxiosError=c6;Rt.mergeConfig=Wa;Rt.AxiosHeaders=ir;Rt.formToJSON=n=>ax(re.isHTMLForm(n)?new FormData(n):n);Rt.getAdapter=px.getAdapter;Rt.HttpStatusCode=rw;Rt.default=Rt;const{Axios:Z8,AxiosError:eH,CanceledError:tH,isCancel:nH,CancelToken:rH,VERSION:iH,all:sH,Cancel:oH,isAxiosError:aH,spread:lH,toFormData:uH,AxiosHeaders:cH,HttpStatusCode:dH,formToJSON:hH,getAdapter:fH,mergeConfig:pH}=Rt;var J_={exports:{}},X_,hA;function d6(){if(hA)return X_;hA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return X_=n,X_}var Z_,fA;function h6(){if(fA)return Z_;fA=1;var n=d6();function e(){}function t(){}return t.resetWarningCache=e,Z_=function(){function r(l,u,d,f,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Z_}var pA;function _x(){return pA||(pA=1,J_.exports=h6()()),J_.exports}var f6=_x();const Pt=mw(f6);function vx(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=vx(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Gd(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=vx(n))&&(r&&(r+=" "),r+=e);return r}function wx(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const p6={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ex(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let l="",u=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(l+=(u===!0?"":" ")+e(f),u=!1,t&&t[f]&&(l+=" "+t[f]))}r[i]=l}return r}const m6=K.createContext(),g6=()=>K.useContext(m6)??!1;function mA(n){try{return n.matches(":focus-visible")}catch{}return!1}var ev={exports:{}},st={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA;function y6(){if(gA)return st;gA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function I(R){if(typeof R=="object"&&R!==null){var b=R.$$typeof;switch(b){case n:switch(R=R.type,R){case t:case i:case r:case d:case f:return R;default:switch(R=R&&R.$$typeof,R){case l:case u:case g:case m:return R;case o:return R;default:return b}}case e:return b}}}return st.ContextConsumer=o,st.ContextProvider=l,st.Element=n,st.ForwardRef=u,st.Fragment=t,st.Lazy=g,st.Memo=m,st.Portal=e,st.Profiler=i,st.StrictMode=r,st.Suspense=d,st.SuspenseList=f,st.isContextConsumer=function(R){return I(R)===o},st.isContextProvider=function(R){return I(R)===l},st.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},st.isForwardRef=function(R){return I(R)===u},st.isFragment=function(R){return I(R)===t},st.isLazy=function(R){return I(R)===g},st.isMemo=function(R){return I(R)===m},st.isPortal=function(R){return I(R)===e},st.isProfiler=function(R){return I(R)===i},st.isStrictMode=function(R){return I(R)===r},st.isSuspense=function(R){return I(R)===d},st.isSuspenseList=function(R){return I(R)===f},st.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===f||R===_||typeof R=="object"&&R!==null&&(R.$$typeof===g||R.$$typeof===m||R.$$typeof===l||R.$$typeof===o||R.$$typeof===u||R.$$typeof===T||R.getModuleId!==void 0)},st.typeOf=I,st}var yA;function _6(){return yA||(yA=1,ev.exports=y6()),ev.exports}var Ix=_6();function ds(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Tx(n){if(K.isValidElement(n)||Ix.isValidElementType(n)||!ds(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Tx(n[t])}),e}function Ir(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return ds(n)&&ds(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||Ix.isValidElementType(e[i])?r[i]=e[i]:ds(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&ds(n[i])?r[i]=Ir(n[i],e[i],t):t.clone?r[i]=ds(e[i])?Tx(e[i]):e[i]:r[i]=e[i]}),r}function Ha(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function xo(n){if(typeof n!="string")throw new Error(Ha(7));return n.charAt(0).toUpperCase()+n.slice(1)}function v6(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let _A=0;function w6(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(_A+=1,t(`mui-${_A}`))},[e]),r}const E6={...lv},vA=E6.useId;function Sx(n){if(vA!==void 0){const e=vA();return n??e}return w6(n)}function I6({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[o,l]=K.useState(e),u=i?n:o,d=K.useCallback(f=>{i||l(f)},[]);return[u,d]}function T6(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{v6(t,e)})},n)}function iw(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],l=e[i];if(!l)t[i]=o||{};else if(!o)t[i]=l;else{t[i]={...l};for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const d=u;t[i][d]=iw(o[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const wA=n=>n,S6=()=>{let n=wA;return{configure(e){n=e},generate(e){return n(e)},reset(){n=wA}}},R6=S6(),A6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function oE(n,e,t="Mui"){const r=A6[e];return r?`${t}-${r}`:`${R6.generate(n)}-${e}`}function Rx(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=oE(n,i,t)}),r}function Qd(n,e){return e?Ir(n,e,{clone:!1}):n}function b6(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const o=/min-width:\s*([0-9.]+)/;return+(((l=r.match(o))==null?void 0:l[1])||0)-+(((u=i.match(o))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function P6(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function C6(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function k6(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...u)=>e(n.breakpoints.up(...u),l),o.down=(...u)=>e(n.breakpoints.down(...u),l),o.between=(...u)=>e(n.breakpoints.between(...u),l),o.only=(...u)=>e(n.breakpoints.only(...u),l),o.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const Lg={xs:0,sm:600,md:900,lg:1200,xl:1536},EA={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Lg[n]}px)`},x6={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Lg[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ts(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||EA;return e.reduce((l,u,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=r.breakpoints||EA;return Object.keys(e).reduce((l,u)=>{if(P6(o.keys,u)){const d=C6(r.containerQueries?r:x6,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(o.values||Lg).includes(u)){const d=o.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function N6(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function O6(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Mg(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Mm(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Mg(n,t)||r,e&&(i=e(i,r,n)),i}function qt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,f=Mg(d,r)||{};return Ts(l,u,g=>{let _=Mm(f,i,g);return g===_&&typeof g=="string"&&(_=Mm(f,i,`${e}${g==="default"?"":xo(g)}`,g)),t===!1?_:{[t]:_}})};return o.propTypes={},o.filterProps=[e],o}function D6(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const V6={m:"margin",p:"padding"},L6={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},IA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},M6=D6(n=>{if(n.length>2)if(IA[n])n=IA[n];else return[n];const[e,t]=n.split(""),r=V6[e],i=L6[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),aE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...aE,...lE];function Yh(n,e,t,r){const i=Mg(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),u=i[l];return o>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function uE(n){return Yh(n,"spacing",8)}function Jh(n,e){return typeof e=="string"||e==null?e:n(e)}function F6(n,e){return t=>n.reduce((r,i)=>(r[i]=Jh(e,t),r),{})}function j6(n,e,t,r){if(!e.includes(t))return null;const i=M6(t),o=F6(i,r),l=n[t];return Ts(n,l,o)}function Ax(n,e){const t=uE(n.theme);return Object.keys(n).map(r=>j6(n,e,r,t)).reduce(Qd,{})}function Dt(n){return Ax(n,aE)}Dt.propTypes={};Dt.filterProps=aE;function Vt(n){return Ax(n,lE)}Vt.propTypes={};Vt.filterProps=lE;function Fg(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Qd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Mr(n){return typeof n!="number"?n:`${n}px solid`}function zr(n,e){return qt({prop:n,themeKey:"borders",transform:e})}const U6=zr("border",Mr),B6=zr("borderTop",Mr),z6=zr("borderRight",Mr),$6=zr("borderBottom",Mr),q6=zr("borderLeft",Mr),W6=zr("borderColor"),H6=zr("borderTopColor"),K6=zr("borderRightColor"),G6=zr("borderBottomColor"),Q6=zr("borderLeftColor"),Y6=zr("outline",Mr),J6=zr("outlineColor"),jg=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Yh(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Jh(e,r)});return Ts(n,n.borderRadius,t)}return null};jg.propTypes={};jg.filterProps=["borderRadius"];Fg(U6,B6,z6,$6,q6,W6,H6,K6,G6,Q6,jg,Y6,J6);const Ug=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Yh(n.theme,"spacing",8),t=r=>({gap:Jh(e,r)});return Ts(n,n.gap,t)}return null};Ug.propTypes={};Ug.filterProps=["gap"];const Bg=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Yh(n.theme,"spacing",8),t=r=>({columnGap:Jh(e,r)});return Ts(n,n.columnGap,t)}return null};Bg.propTypes={};Bg.filterProps=["columnGap"];const zg=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Yh(n.theme,"spacing",8),t=r=>({rowGap:Jh(e,r)});return Ts(n,n.rowGap,t)}return null};zg.propTypes={};zg.filterProps=["rowGap"];const X6=qt({prop:"gridColumn"}),Z6=qt({prop:"gridRow"}),e$=qt({prop:"gridAutoFlow"}),t$=qt({prop:"gridAutoColumns"}),n$=qt({prop:"gridAutoRows"}),r$=qt({prop:"gridTemplateColumns"}),i$=qt({prop:"gridTemplateRows"}),s$=qt({prop:"gridTemplateAreas"}),o$=qt({prop:"gridArea"});Fg(Ug,Bg,zg,X6,Z6,e$,t$,n$,r$,i$,s$,o$);function pu(n,e){return e==="grey"?e:n}const a$=qt({prop:"color",themeKey:"palette",transform:pu}),l$=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:pu}),u$=qt({prop:"backgroundColor",themeKey:"palette",transform:pu});Fg(a$,l$,u$);function vr(n){return n<=1&&n!==0?`${n*100}%`:n}const c$=qt({prop:"width",transform:vr}),cE=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,l,u,d;const r=((l=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:l[t])||Lg[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:vr(t)}};return Ts(n,n.maxWidth,e)}return null};cE.filterProps=["maxWidth"];const d$=qt({prop:"minWidth",transform:vr}),h$=qt({prop:"height",transform:vr}),f$=qt({prop:"maxHeight",transform:vr}),p$=qt({prop:"minHeight",transform:vr});qt({prop:"size",cssProperty:"width",transform:vr});qt({prop:"size",cssProperty:"height",transform:vr});const m$=qt({prop:"boxSizing"});Fg(c$,cE,d$,h$,f$,p$,m$);const $g={border:{themeKey:"borders",transform:Mr},borderTop:{themeKey:"borders",transform:Mr},borderRight:{themeKey:"borders",transform:Mr},borderBottom:{themeKey:"borders",transform:Mr},borderLeft:{themeKey:"borders",transform:Mr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Mr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jg},color:{themeKey:"palette",transform:pu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:pu},backgroundColor:{themeKey:"palette",transform:pu},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Dt},mt:{style:Dt},mr:{style:Dt},mb:{style:Dt},ml:{style:Dt},mx:{style:Dt},my:{style:Dt},margin:{style:Dt},marginTop:{style:Dt},marginRight:{style:Dt},marginBottom:{style:Dt},marginLeft:{style:Dt},marginX:{style:Dt},marginY:{style:Dt},marginInline:{style:Dt},marginInlineStart:{style:Dt},marginInlineEnd:{style:Dt},marginBlock:{style:Dt},marginBlockStart:{style:Dt},marginBlockEnd:{style:Dt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ug},rowGap:{style:zg},columnGap:{style:Bg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:vr},maxWidth:{style:cE},minWidth:{transform:vr},height:{transform:vr},maxHeight:{transform:vr},minHeight:{transform:vr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function g$(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function y$(n,e){return typeof n=="function"?n(e):n}function _$(){function n(t,r,i,o){const l={[t]:r,theme:i},u=o[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:m,style:g}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const _=Mg(i,f)||{};return g?g(l):Ts(l,r,I=>{let R=Mm(_,m,I);return I===R&&typeof I=="string"&&(R=Mm(_,m,`${t}${I==="default"?"":xo(I)}`,I)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??$g;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const f=N6(i.breakpoints),m=Object.keys(f);let g=f;return Object.keys(d).forEach(_=>{const T=y$(d[_],i);if(T!=null)if(typeof T=="object")if(o[_])g=Qd(g,n(_,T,i,o));else{const I=Ts({theme:i},T,R=>({[_]:R}));g$(I,T)?g[_]=e({sx:T,theme:i}):g=Qd(g,I)}else g=Qd(g,n(_,T,i,o))}),b6(i,O6(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const Bu=_$();Bu.filterProps=["sx"];function sw(){return sw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sw.apply(null,arguments)}function v$(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function w$(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var E$=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(w$(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=v$(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),kn="-ms-",Fm="-moz-",Xe="-webkit-",bx="comm",dE="rule",hE="decl",I$="@import",Px="@keyframes",T$="@layer",S$=Math.abs,qg=String.fromCharCode,R$=Object.assign;function A$(n,e){return In(n,0)^45?(((e<<2^In(n,0))<<2^In(n,1))<<2^In(n,2))<<2^In(n,3):0}function Cx(n){return n.trim()}function b$(n,e){return(n=e.exec(n))?n[0]:n}function Ze(n,e,t){return n.replace(e,t)}function ow(n,e){return n.indexOf(e)}function In(n,e){return n.charCodeAt(e)|0}function wh(n,e,t){return n.slice(e,t)}function Ai(n){return n.length}function fE(n){return n.length}function Rp(n,e){return e.push(n),n}function P$(n,e){return n.map(e).join("")}var Wg=1,zu=1,kx=0,sr=0,Yt=0,uc="";function Hg(n,e,t,r,i,o,l){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Wg,column:zu,length:l,return:""}}function gd(n,e){return R$(Hg("",null,null,"",null,null,0),n,{length:-n.length},e)}function C$(){return Yt}function k$(){return Yt=sr>0?In(uc,--sr):0,zu--,Yt===10&&(zu=1,Wg--),Yt}function Tr(){return Yt=sr<kx?In(uc,sr++):0,zu++,Yt===10&&(zu=1,Wg++),Yt}function Mi(){return In(uc,sr)}function Xp(){return sr}function Xh(n,e){return wh(uc,n,e)}function Eh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xx(n){return Wg=zu=1,kx=Ai(uc=n),sr=0,[]}function Nx(n){return uc="",n}function Zp(n){return Cx(Xh(sr-1,aw(n===91?n+2:n===40?n+1:n)))}function x$(n){for(;(Yt=Mi())&&Yt<33;)Tr();return Eh(n)>2||Eh(Yt)>3?"":" "}function N$(n,e){for(;--e&&Tr()&&!(Yt<48||Yt>102||Yt>57&&Yt<65||Yt>70&&Yt<97););return Xh(n,Xp()+(e<6&&Mi()==32&&Tr()==32))}function aw(n){for(;Tr();)switch(Yt){case n:return sr;case 34:case 39:n!==34&&n!==39&&aw(Yt);break;case 40:n===41&&aw(n);break;case 92:Tr();break}return sr}function O$(n,e){for(;Tr()&&n+Yt!==57;)if(n+Yt===84&&Mi()===47)break;return"/*"+Xh(e,sr-1)+"*"+qg(n===47?n:Tr())}function D$(n){for(;!Eh(Mi());)Tr();return Xh(n,sr)}function V$(n){return Nx(em("",null,null,null,[""],n=xx(n),0,[0],n))}function em(n,e,t,r,i,o,l,u,d){for(var f=0,m=0,g=l,_=0,T=0,I=0,R=1,b=1,M=1,L=0,F="",$=i,B=o,q=r,V=F;b;)switch(I=L,L=Tr()){case 40:if(I!=108&&In(V,g-1)==58){ow(V+=Ze(Zp(L),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:V+=Zp(L);break;case 9:case 10:case 13:case 32:V+=x$(I);break;case 92:V+=N$(Xp()-1,7);continue;case 47:switch(Mi()){case 42:case 47:Rp(L$(O$(Tr(),Xp()),e,t),d);break;default:V+="/"}break;case 123*R:u[f++]=Ai(V)*M;case 125*R:case 59:case 0:switch(L){case 0:case 125:b=0;case 59+m:M==-1&&(V=Ze(V,/\f/g,"")),T>0&&Ai(V)-g&&Rp(T>32?SA(V+";",r,t,g-1):SA(Ze(V," ","")+";",r,t,g-2),d);break;case 59:V+=";";default:if(Rp(q=TA(V,e,t,f,m,i,u,F,$=[],B=[],g),o),L===123)if(m===0)em(V,e,q,q,$,o,g,u,B);else switch(_===99&&In(V,3)===110?100:_){case 100:case 108:case 109:case 115:em(n,q,q,r&&Rp(TA(n,q,q,0,0,i,u,F,i,$=[],g),B),i,B,g,u,r?$:B);break;default:em(V,q,q,q,[""],B,0,u,B)}}f=m=T=0,R=M=1,F=V="",g=l;break;case 58:g=1+Ai(V),T=I;default:if(R<1){if(L==123)--R;else if(L==125&&R++==0&&k$()==125)continue}switch(V+=qg(L),L*R){case 38:M=m>0?1:(V+="\f",-1);break;case 44:u[f++]=(Ai(V)-1)*M,M=1;break;case 64:Mi()===45&&(V+=Zp(Tr())),_=Mi(),m=g=Ai(F=V+=D$(Xp())),L++;break;case 45:I===45&&Ai(V)==2&&(R=0)}}return o}function TA(n,e,t,r,i,o,l,u,d,f,m){for(var g=i-1,_=i===0?o:[""],T=fE(_),I=0,R=0,b=0;I<r;++I)for(var M=0,L=wh(n,g+1,g=S$(R=l[I])),F=n;M<T;++M)(F=Cx(R>0?_[M]+" "+L:Ze(L,/&\f/g,_[M])))&&(d[b++]=F);return Hg(n,e,t,i===0?dE:u,d,f,m)}function L$(n,e,t){return Hg(n,e,t,bx,qg(C$()),wh(n,2,-2),0)}function SA(n,e,t,r){return Hg(n,e,t,hE,wh(n,0,r),wh(n,r+1,-1),r)}function mu(n,e){for(var t="",r=fE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function M$(n,e,t,r){switch(n.type){case T$:if(n.children.length)break;case I$:case hE:return n.return=n.return||n.value;case bx:return"";case Px:return n.return=n.value+"{"+mu(n.children,r)+"}";case dE:n.value=n.props.join(",")}return Ai(t=mu(n.children,r))?n.return=n.value+"{"+t+"}":""}function F$(n){var e=fE(n);return function(t,r,i,o){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,o)||"";return l}}function j$(n){return function(e){e.root||(e=e.return)&&n(e)}}function Ox(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var U$=function(e,t,r){for(var i=0,o=0;i=o,o=Mi(),i===38&&o===12&&(t[r]=1),!Eh(o);)Tr();return Xh(e,sr)},B$=function(e,t){var r=-1,i=44;do switch(Eh(i)){case 0:i===38&&Mi()===12&&(t[r]=1),e[r]+=U$(sr-1,t,r);break;case 2:e[r]+=Zp(i);break;case 4:if(i===44){e[++r]=Mi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=qg(i)}while(i=Tr());return e},z$=function(e,t){return Nx(B$(xx(e),t))},RA=new WeakMap,$$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!RA.get(r))&&!i){RA.set(e,!0);for(var o=[],l=z$(t,o),u=r.props,d=0,f=0;d<l.length;d++)for(var m=0;m<u.length;m++,f++)e.props[f]=o[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},q$=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Dx(n,e){switch(A$(n,e)){case 5103:return Xe+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+n+Fm+n+kn+n+n;case 6828:case 4268:return Xe+n+kn+n+n;case 6165:return Xe+n+kn+"flex-"+n+n;case 5187:return Xe+n+Ze(n,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+kn+"flex-$1$2")+n;case 5443:return Xe+n+kn+"flex-item-"+Ze(n,/flex-|-self/,"")+n;case 4675:return Xe+n+kn+"flex-line-pack"+Ze(n,/align-content|flex-|-self/,"")+n;case 5548:return Xe+n+kn+Ze(n,"shrink","negative")+n;case 5292:return Xe+n+kn+Ze(n,"basis","preferred-size")+n;case 6060:return Xe+"box-"+Ze(n,"-grow","")+Xe+n+kn+Ze(n,"grow","positive")+n;case 4554:return Xe+Ze(n,/([^-])(transform)/g,"$1"+Xe+"$2")+n;case 6187:return Ze(Ze(Ze(n,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),n,"")+n;case 5495:case 3959:return Ze(n,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return Ze(Ze(n,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+n+n;case 4095:case 3583:case 4068:case 2532:return Ze(n,/(.+)-inline(.+)/,Xe+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ai(n)-1-e>6)switch(In(n,e+1)){case 109:if(In(n,e+4)!==45)break;case 102:return Ze(n,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+Fm+(In(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~ow(n,"stretch")?Dx(Ze(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(In(n,e+1)!==115)break;case 6444:switch(In(n,Ai(n)-3-(~ow(n,"!important")&&10))){case 107:return Ze(n,":",":"+Xe)+n;case 101:return Ze(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xe+(In(n,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+kn+"$2box$3")+n}break;case 5936:switch(In(n,e+11)){case 114:return Xe+n+kn+Ze(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Xe+n+kn+Ze(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Xe+n+kn+Ze(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Xe+n+kn+n+n}return n}var W$=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case hE:e.return=Dx(e.value,e.length);break;case Px:return mu([gd(e,{value:Ze(e.value,"@","@"+Xe)})],i);case dE:if(e.length)return P$(e.props,function(o){switch(b$(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mu([gd(e,{props:[Ze(o,/:(read-\w+)/,":"+Fm+"$1")]})],i);case"::placeholder":return mu([gd(e,{props:[Ze(o,/:(plac\w+)/,":"+Xe+"input-$1")]}),gd(e,{props:[Ze(o,/:(plac\w+)/,":"+Fm+"$1")]}),gd(e,{props:[Ze(o,/:(plac\w+)/,kn+"input-$1")]})],i)}return""})}},H$=[W$],K$=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var b=R.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||H$,o={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var b=R.getAttribute("data-emotion").split(" "),M=1;M<b.length;M++)o[b[M]]=!0;u.push(R)});var d,f=[$$,q$];{var m,g=[M$,j$(function(R){m.insert(R)})],_=F$(f.concat(i,g)),T=function(b){return mu(V$(b),_)};d=function(b,M,L,F){m=L,T(b?b+"{"+M.styles+"}":M.styles),F&&(I.inserted[M.name]=!0)}}var I={key:t,sheet:new E$({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return I.sheet.hydrate(u),I},G$=!0;function Q$(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var Vx=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||G$===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Y$=function(e,t,r){Vx(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function J$(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var X$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Z$=/[A-Z]|^ms/g,e9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Lx=function(e){return e.charCodeAt(1)===45},AA=function(e){return e!=null&&typeof e!="boolean"},tv=Ox(function(n){return Lx(n)?n:n.replace(Z$,"-$&").toLowerCase()}),bA=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(e9,function(r,i,o){return bi={name:i,styles:o,next:bi},i})}return X$[e]!==1&&!Lx(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ih(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return bi={name:i.name,styles:i.styles,next:bi},i.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)bi={name:l.name,styles:l.styles,next:bi},l=l.next;var u=o.styles+";";return u}return t9(n,e,t)}case"function":{if(n!==void 0){var d=bi,f=t(n);return bi=d,Ih(n,e,f)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function t9(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Ih(n,e,t[i])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=o+"{"+e[u]+"}":AA(u)&&(r+=tv(o)+":"+bA(o,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)AA(l[d])&&(r+=tv(o)+":"+bA(o,l[d])+";");else{var f=Ih(n,e,l);switch(o){case"animation":case"animationName":{r+=tv(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var PA=/label:\s*([^\s;{]+)\s*(;|$)/g,bi;function Mx(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";bi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=Ih(t,e,o);else{var l=o;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=Ih(t,e,n[u]),r){var d=o;i+=d[u]}PA.lastIndex=0;for(var f="",m;(m=PA.exec(i))!==null;)f+="-"+m[1];var g=J$(i)+f;return{name:g,styles:i,next:bi}}var n9=function(e){return e()},r9=lv.useInsertionEffect?lv.useInsertionEffect:!1,i9=r9||n9,Fx=K.createContext(typeof HTMLElement<"u"?K$({key:"css"}):null);Fx.Provider;var s9=function(e){return K.forwardRef(function(t,r){var i=K.useContext(Fx);return e(t,i,r)})},o9=K.createContext({}),a9=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l9=Ox(function(n){return a9.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),u9=l9,c9=function(e){return e!=="theme"},CA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?u9:c9},kA=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},d9=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Vx(t,r,i),i9(function(){return Y$(t,r,i)}),null},h9=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var u=kA(e,t,r),d=u||CA(i),f=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var _=m[0];g.push(_[0]);for(var T=m.length,I=1;I<T;I++)g.push(m[I],_[I])}var R=s9(function(b,M,L){var F=f&&b.as||i,$="",B=[],q=b;if(b.theme==null){q={};for(var V in b)q[V]=b[V];q.theme=K.useContext(o9)}typeof b.className=="string"?$=Q$(M.registered,B,b.className):b.className!=null&&($=b.className+" ");var A=Mx(g.concat(B),M.registered,q);$+=M.key+"-"+A.name,l!==void 0&&($+=" "+l);var C=f&&u===void 0?CA(F):d,E={};for(var x in b)f&&x==="as"||C(x)&&(E[x]=b[x]);return E.className=$,L&&(E.ref=L),K.createElement(K.Fragment,null,K.createElement(d9,{cache:M,serialized:A,isStringTag:typeof F=="string"}),K.createElement(F,E))});return R.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=g,R.__emotion_forwardProp=u,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(b,M){var L=n(b,sw({},t,M,{shouldForwardProp:kA(R,M,!0)}));return L.apply(void 0,g)},R}},f9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lw=h9.bind(null);f9.forEach(function(n){lw[n]=lw(n)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function p9(n,e){return lw(n,e)}function m9(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const xA=[];function NA(n){return xA[0]=n,Mx(xA)}const g9=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function y9(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=g9(e),l=Object.keys(o);function u(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${t})`}function f(_,T){const I=l.indexOf(T);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t}) and (max-width:${(I!==-1&&typeof e[l[I]]=="number"?e[l[I]]:T)-r/100}${t})`}function m(_){return l.indexOf(_)+1<l.length?f(_,l[l.indexOf(_)+1]):u(_)}function g(_){const T=l.indexOf(_);return T===0?u(l[1]):T===l.length-1?d(l[T]):f(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:u,down:d,between:f,only:m,not:g,unit:t,...i}}const _9={borderRadius:4};function jx(n=8,e=uE({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function v9(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function Ux(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...l}=n,u=y9(t),d=jx(i);let f=Ir({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{..._9,...o}},l);return f=k6(f),f.applyStyles=v9,f=e.reduce((m,g)=>Ir(m,g),f),f.unstable_sxConfig={...$g,...l==null?void 0:l.unstable_sxConfig},f.unstable_sx=function(g){return Bu({sx:g,theme:this})},f}function Bx(n){const{variants:e,...t}=n,r={variants:e,style:NA(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=NA(i.style))}),r}const w9=Ux();function nv(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function E9(n){return n?(e,t)=>t[n]:null}function I9(n,e,t){n.theme=R9(n.theme)?t:n.theme[e]||n.theme}function tm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>tm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return zx(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function zx(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function T9(n={}){const{themeId:e,defaultTheme:t=w9,rootShouldForwardProp:r=nv,slotShouldForwardProp:i=nv}=n;function o(u){I9(u,e,t)}return(u,d={})=>{m9(u,B=>B.filter(q=>q!==Bu));const{name:f,slot:m,skipVariantsResolver:g,skipSx:_,overridesResolver:T=E9(b9(m)),...I}=d,R=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,b=_||!1;let M=nv;m==="Root"||m==="root"?M=r:m?M=i:A9(u)&&(M=void 0);const L=p9(u,{shouldForwardProp:M,label:S9(),...I}),F=B=>{if(typeof B=="function"&&B.__emotion_real!==B)return function(V){return tm(V,B)};if(ds(B)){const q=Bx(B);return q.variants?function(A){return tm(A,q)}:q.style}return B},$=(...B)=>{const q=[],V=B.map(F),A=[];if(q.push(o),f&&T&&A.push(function(k){var me,oe;const X=(oe=(me=k.theme.components)==null?void 0:me[f])==null?void 0:oe.styleOverrides;if(!X)return null;const j={};for(const Z in X)j[Z]=tm(k,X[Z]);return T(k,j)}),f&&!R&&A.push(function(k){var j,me;const N=k.theme,X=(me=(j=N==null?void 0:N.components)==null?void 0:j[f])==null?void 0:me.variants;return X?zx(k,X):null}),b||A.push(Bu),Array.isArray(V[0])){const x=V.shift(),k=new Array(q.length).fill(""),N=new Array(A.length).fill("");let X;X=[...k,...x,...N],X.raw=[...k,...x.raw,...N],q.unshift(X)}const C=[...q,...V,...A],E=L(...C);return u.muiName&&(E.muiName=u.muiName),E};return L.withConfig&&($.withConfig=L.withConfig),$}}function S9(n,e){return void 0}function R9(n){for(const e in n)return!1;return!0}function A9(n){return typeof n=="string"&&n.charCodeAt(0)>96}function b9(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function pE(n,e=0,t=1){return wx(n,e,t)}function P9(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function No(n){if(n.type)return n;if(n.charAt(0)==="#")return No(P9(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Ha(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ha(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const C9=n=>{const e=No(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Dd=(n,e)=>{try{return C9(n)}catch{return n}};function Kg(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function $x(n){n=No(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),l=(f,m=(f+t/30)%12)=>i-o*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),Kg({type:u,values:d})}function uw(n){n=No(n);let e=n.type==="hsl"||n.type==="hsla"?No($x(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function k9(n,e){const t=uw(n),r=uw(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function x9(n,e){return n=No(n),e=pE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Kg(n)}function Ap(n,e,t){try{return x9(n,e)}catch{return n}}function mE(n,e){if(n=No(n),e=pE(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Kg(n)}function at(n,e,t){try{return mE(n,e)}catch{return n}}function gE(n,e){if(n=No(n),e=pE(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Kg(n)}function lt(n,e,t){try{return gE(n,e)}catch{return n}}function N9(n,e=.15){return uw(n)>.5?mE(n,e):gE(n,e)}function bp(n,e,t){try{return N9(n,e)}catch{return n}}const O9=K.createContext(void 0);function D9(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?iw(i.defaultProps,r):!i.styleOverrides&&!i.variants?iw(i,r):r}function V9({props:n,name:e}){const t=K.useContext(O9);return D9({props:n,name:e,theme:{components:t}})}const OA={theme:void 0};function L9(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(OA.theme=i.theme,o=Bx(n(OA)),e=o,t=i.theme),o}}function M9(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const DA=(n,e,t,r=[])=>{let i=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},F9=(n,e,t)=>{function r(i,o=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...o,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,u],Array.isArray(d)?[...l,u]:l):e([...o,u],d,l))})}r(n)},j9=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function rv(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},l={};return F9(n,(u,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=j9(u,d);Object.assign(i,{[m]:g}),DA(o,u,`var(${m})`,f),DA(l,u,`var(${m}, ${g})`,f)}},u=>u[0]==="vars"),{css:i,vars:o,varsWithDefaults:l}}function U9(n,e={}){const{getSelector:t=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:l,defaultColorScheme:u="light",...d}=n,{vars:f,css:m,varsWithDefaults:g}=rv(d,e);let _=g;const T={},{[u]:I,...R}=o;if(Object.entries(R||{}).forEach(([F,$])=>{const{vars:B,css:q,varsWithDefaults:V}=rv($,e);_=Ir(_,V),T[F]={css:q,vars:B}}),I){const{css:F,vars:$,varsWithDefaults:B}=rv(I,e);_=Ir(_,B),T[u]={css:F,vars:$}}function b(F,$){var q,V;let B=i;if(i==="class"&&(B=".%s"),i==="data"&&(B="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(B=`[${i}="%s"]`),F){if(B==="media")return n.defaultColorScheme===F?":root":{[`@media (prefers-color-scheme: ${((V=(q=o[F])==null?void 0:q.palette)==null?void 0:V.mode)||F})`]:{":root":$}};if(B)return n.defaultColorScheme===F?`:root, ${B.replace("%s",String(F))}`:B.replace("%s",String(F))}return":root"}return{vars:_,generateThemeVars:()=>{let F={...f};return Object.entries(T).forEach(([,{vars:$}])=>{F=Ir(F,$)}),F},generateStyleSheets:()=>{var A,C;const F=[],$=n.defaultColorScheme||"light";function B(E,x){Object.keys(x).length&&F.push(typeof E=="string"?{[E]:{...x}}:E)}B(t(void 0,{...m}),m);const{[$]:q,...V}=T;if(q){const{css:E}=q,x=(C=(A=o[$])==null?void 0:A.palette)==null?void 0:C.mode,k=!r&&x?{colorScheme:x,...E}:{...E};B(t($,{...k}),k)}return Object.entries(V).forEach(([E,{css:x}])=>{var X,j;const k=(j=(X=o[E])==null?void 0:X.palette)==null?void 0:j.mode,N=!r&&k?{colorScheme:k,...x}:{...x};B(t(E,{...N}),N)}),F}}}function B9(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Th={black:"#000",white:"#fff"},z9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ql={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Yl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},yd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Jl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Xl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Zl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function qx(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Th.white,default:Th.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const $9=qx();function Wx(){return{text:{primary:Th.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Th.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VA=Wx();function LA(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=gE(n.main,i):e==="dark"&&(n.dark=mE(n.main,o)))}function q9(n="light"){return n==="dark"?{main:Jl[200],light:Jl[50],dark:Jl[400]}:{main:Jl[700],light:Jl[400],dark:Jl[800]}}function W9(n="light"){return n==="dark"?{main:Ql[200],light:Ql[50],dark:Ql[400]}:{main:Ql[500],light:Ql[300],dark:Ql[700]}}function H9(n="light"){return n==="dark"?{main:Yl[500],light:Yl[300],dark:Yl[700]}:{main:Yl[700],light:Yl[400],dark:Yl[800]}}function K9(n="light"){return n==="dark"?{main:Xl[400],light:Xl[300],dark:Xl[700]}:{main:Xl[700],light:Xl[500],dark:Xl[900]}}function G9(n="light"){return n==="dark"?{main:Zl[400],light:Zl[300],dark:Zl[700]}:{main:Zl[800],light:Zl[500],dark:Zl[900]}}function Q9(n="light"){return n==="dark"?{main:yd[400],light:yd[300],dark:yd[700]}:{main:"#ed6c02",light:yd[500],dark:yd[900]}}function yE(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||q9(e),l=n.secondary||W9(e),u=n.error||H9(e),d=n.info||K9(e),f=n.success||G9(e),m=n.warning||Q9(e);function g(R){return k9(R,VA.text.primary)>=t?VA.text.primary:$9.text.primary}const _=({color:R,name:b,mainShade:M=500,lightShade:L=300,darkShade:F=700})=>{if(R={...R},!R.main&&R[M]&&(R.main=R[M]),!R.hasOwnProperty("main"))throw new Error(Ha(11,b?` (${b})`:"",M));if(typeof R.main!="string")throw new Error(Ha(12,b?` (${b})`:"",JSON.stringify(R.main)));return LA(R,"light",L,r),LA(R,"dark",F,r),R.contrastText||(R.contrastText=g(R.main)),R};let T;return e==="light"?T=qx():e==="dark"&&(T=Wx()),Ir({common:{...Th},mode:e,primary:_({color:o,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:u,name:"error"}),warning:_({color:m,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:f,name:"success"}),grey:z9,contrastThreshold:t,getContrastText:g,augmentColor:_,tonalOffset:r,...T},i)}function Y9(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function J9(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function X9(n){return Math.round(n*1e5)/1e5}const MA={textTransform:"uppercase"},FA='"Roboto", "Helvetica", "Arial", sans-serif';function Z9(n,e){const{fontFamily:t=FA,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:m,...g}=typeof e=="function"?e(n):e,_=r/14,T=m||(b=>`${b/d*_}rem`),I=(b,M,L,F,$)=>({fontFamily:t,fontWeight:b,fontSize:T(M),lineHeight:L,...t===FA?{letterSpacing:`${X9(F/M)}em`}:{},...$,...f}),R={h1:I(i,96,1.167,-1.5),h2:I(i,60,1.2,-.5),h3:I(o,48,1.167,0),h4:I(o,34,1.235,.25),h5:I(o,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(o,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(o,16,1.5,.15),body2:I(o,14,1.43,.15),button:I(l,14,1.75,.4,MA),caption:I(o,12,1.66,.4),overline:I(o,12,2.66,1,MA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ir({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:u,...R},g,{clone:!1})}const eq=.2,tq=.14,nq=.12;function vt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${eq})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${tq})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${nq})`].join(",")}const rq=["none",vt(0,2,1,-1,0,1,1,0,0,1,3,0),vt(0,3,1,-2,0,2,2,0,0,1,5,0),vt(0,3,3,-2,0,3,4,0,0,1,8,0),vt(0,2,4,-1,0,4,5,0,0,1,10,0),vt(0,3,5,-1,0,5,8,0,0,1,14,0),vt(0,3,5,-1,0,6,10,0,0,1,18,0),vt(0,4,5,-2,0,7,10,1,0,2,16,1),vt(0,5,5,-3,0,8,10,1,0,3,14,2),vt(0,5,6,-3,0,9,12,1,0,3,16,2),vt(0,6,6,-3,0,10,14,1,0,4,18,3),vt(0,6,7,-4,0,11,15,1,0,4,20,3),vt(0,7,8,-4,0,12,17,2,0,5,22,4),vt(0,7,8,-4,0,13,19,2,0,5,24,4),vt(0,7,9,-4,0,14,21,2,0,5,26,4),vt(0,8,9,-5,0,15,22,2,0,6,28,5),vt(0,8,10,-5,0,16,24,2,0,6,30,5),vt(0,8,11,-5,0,17,26,2,0,6,32,5),vt(0,9,11,-5,0,18,28,2,0,7,34,6),vt(0,9,12,-6,0,19,29,2,0,7,36,6),vt(0,10,13,-6,0,20,31,3,0,8,38,7),vt(0,10,13,-6,0,21,33,3,0,8,40,7),vt(0,10,14,-6,0,22,35,3,0,8,42,7),vt(0,11,14,-7,0,23,36,3,0,9,44,8),vt(0,11,15,-7,0,24,38,3,0,9,46,8)],iq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},sq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function jA(n){return`${Math.round(n)}ms`}function oq(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function aq(n){const e={...iq,...n.easing},t={...sq,...n.duration};return{getAutoHeightDuration:oq,create:(i=["all"],o={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:jA(l)} ${u} ${typeof d=="string"?d:jA(d)}`).join(",")},...n,easing:e,duration:t}}const lq={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function uq(n){return ds(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function Hx(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[l,u]=i[o];!uq(u)||l.startsWith("unstable_")?delete r[l]:ds(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function cw(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:l={},typography:u={},shape:d,...f}=n;if(n.vars)throw new Error(Ha(20));const m=yE(o),g=Ux(n);let _=Ir(g,{mixins:J9(g.breakpoints,r),palette:m,shadows:rq.slice(),typography:Z9(m,u),transitions:aq(l),zIndex:{...lq}});return _=Ir(_,f),_=e.reduce((T,I)=>Ir(T,I),_),_.unstable_sxConfig={...$g,...f==null?void 0:f.unstable_sxConfig},_.unstable_sx=function(I){return Bu({sx:I,theme:this})},_.toRuntimeSource=Hx,_}function cq(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const dq=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=cq(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Kx(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function Gx(n){return n==="dark"?dq:[]}function hq(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=yE(e);return{palette:o,opacity:{...Kx(o.mode),...t},overlays:r||Gx(o.mode),...i}}function fq(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const pq=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],mq=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return pq(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function gq(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function Vd(n){return typeof n!="string"||!n.startsWith("hsl")?n:$x(n)}function ls(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Dd(Vd(n[e])))}function yq(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ti=n=>{try{return n()}catch{}},_q=(n="mui")=>M9(n);function iv(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=hq({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...l}=cw({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...Kx(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Gx(i)},l}function vq(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=fq,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),_=_q(o),{[g]:T,light:I,dark:R,...b}=t,M={...b};let L=T;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(Ha(21,g));const F=iv(M,L,f,g);I&&!M.light&&iv(M,I,void 0,"light"),R&&!M.dark&&iv(M,R,void 0,"dark");let $={defaultColorScheme:g,...F,cssVarPrefix:o,colorSchemeSelector:u,rootSelector:d,getCssVar:_,colorSchemes:M,font:{...Y9(F.typography),...F.font},spacing:yq(f.spacing)};Object.keys($.colorSchemes).forEach(C=>{const E=$.colorSchemes[C].palette,x=k=>{const N=k.split("-"),X=N[1],j=N[2];return _(k,E[X][j])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),gq(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",at(E.error.light,.6)),se(E.Alert,"infoColor",at(E.info.light,.6)),se(E.Alert,"successColor",at(E.success.light,.6)),se(E.Alert,"warningColor",at(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-main")),se(E.Alert,"infoFilledBg",x("palette-info-main")),se(E.Alert,"successFilledBg",x("palette-success-main")),se(E.Alert,"warningFilledBg",x("palette-warning-main")),se(E.Alert,"errorFilledColor",Ti(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",Ti(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",Ti(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",Ti(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",lt(E.error.light,.9)),se(E.Alert,"infoStandardBg",lt(E.info.light,.9)),se(E.Alert,"successStandardBg",lt(E.success.light,.9)),se(E.Alert,"warningStandardBg",lt(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-100")),se(E.Avatar,"defaultBg",x("palette-grey-400")),se(E.Button,"inheritContainedBg",x("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-A100")),se(E.Chip,"defaultBorder",x("palette-grey-400")),se(E.Chip,"defaultAvatarColor",x("palette-grey-700")),se(E.Chip,"defaultIconColor",x("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",lt(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",lt(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",lt(E.error.main,.62)),se(E.LinearProgress,"infoBg",lt(E.info.main,.62)),se(E.LinearProgress,"successBg",lt(E.success.main,.62)),se(E.LinearProgress,"warningBg",lt(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",lt(E.primary.main,.62)),se(E.Slider,"secondaryTrack",lt(E.secondary.main,.62)),se(E.Slider,"errorTrack",lt(E.error.main,.62)),se(E.Slider,"infoTrack",lt(E.info.main,.62)),se(E.Slider,"successTrack",lt(E.success.main,.62)),se(E.Slider,"warningTrack",lt(E.warning.main,.62));const k=bp(E.background.default,.8);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Ti(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",bp(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-400")),se(E.StepContent,"border",x("palette-grey-400")),se(E.Switch,"defaultColor",x("palette-common-white")),se(E.Switch,"defaultDisabledColor",x("palette-grey-100")),se(E.Switch,"primaryDisabledColor",lt(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",lt(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",lt(E.error.main,.62)),se(E.Switch,"infoDisabledColor",lt(E.info.main,.62)),se(E.Switch,"successDisabledColor",lt(E.success.main,.62)),se(E.Switch,"warningDisabledColor",lt(E.warning.main,.62)),se(E.TableCell,"border",lt(Ap(E.divider,1),.88)),se(E.Tooltip,"bg",Ap(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",lt(E.error.light,.6)),se(E.Alert,"infoColor",lt(E.info.light,.6)),se(E.Alert,"successColor",lt(E.success.light,.6)),se(E.Alert,"warningColor",lt(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-dark")),se(E.Alert,"infoFilledBg",x("palette-info-dark")),se(E.Alert,"successFilledBg",x("palette-success-dark")),se(E.Alert,"warningFilledBg",x("palette-warning-dark")),se(E.Alert,"errorFilledColor",Ti(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",Ti(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",Ti(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",Ti(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",at(E.error.light,.9)),se(E.Alert,"infoStandardBg",at(E.info.light,.9)),se(E.Alert,"successStandardBg",at(E.success.light,.9)),se(E.Alert,"warningStandardBg",at(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-900")),se(E.AppBar,"darkBg",x("palette-background-paper")),se(E.AppBar,"darkColor",x("palette-text-primary")),se(E.Avatar,"defaultBg",x("palette-grey-600")),se(E.Button,"inheritContainedBg",x("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-700")),se(E.Chip,"defaultBorder",x("palette-grey-700")),se(E.Chip,"defaultAvatarColor",x("palette-grey-300")),se(E.Chip,"defaultIconColor",x("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",at(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",at(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",at(E.error.main,.5)),se(E.LinearProgress,"infoBg",at(E.info.main,.5)),se(E.LinearProgress,"successBg",at(E.success.main,.5)),se(E.LinearProgress,"warningBg",at(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",at(E.primary.main,.5)),se(E.Slider,"secondaryTrack",at(E.secondary.main,.5)),se(E.Slider,"errorTrack",at(E.error.main,.5)),se(E.Slider,"infoTrack",at(E.info.main,.5)),se(E.Slider,"successTrack",at(E.success.main,.5)),se(E.Slider,"warningTrack",at(E.warning.main,.5));const k=bp(E.background.default,.98);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Ti(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",bp(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-600")),se(E.StepContent,"border",x("palette-grey-600")),se(E.Switch,"defaultColor",x("palette-grey-300")),se(E.Switch,"defaultDisabledColor",x("palette-grey-600")),se(E.Switch,"primaryDisabledColor",at(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",at(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",at(E.error.main,.55)),se(E.Switch,"infoDisabledColor",at(E.info.main,.55)),se(E.Switch,"successDisabledColor",at(E.success.main,.55)),se(E.Switch,"warningDisabledColor",at(E.warning.main,.55)),se(E.TableCell,"border",at(Ap(E.divider,1),.68)),se(E.Tooltip,"bg",Ap(E.grey[700],.92))}ls(E.background,"default"),ls(E.background,"paper"),ls(E.common,"background"),ls(E.common,"onBackground"),ls(E,"divider"),Object.keys(E).forEach(k=>{const N=E[k];k!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&se(E[k],"mainChannel",Dd(Vd(N.main))),N.light&&se(E[k],"lightChannel",Dd(Vd(N.light))),N.dark&&se(E[k],"darkChannel",Dd(Vd(N.dark))),N.contrastText&&se(E[k],"contrastTextChannel",Dd(Vd(N.contrastText))),k==="text"&&(ls(E[k],"primary"),ls(E[k],"secondary")),k==="action"&&(N.active&&ls(E[k],"active"),N.selected&&ls(E[k],"selected")))})}),$=e.reduce((C,E)=>Ir(C,E),$);const B={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:mq($)},{vars:q,generateThemeVars:V,generateStyleSheets:A}=U9($,B);return $.vars=q,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([C,E])=>{$[C]=E}),$.generateThemeVars=V,$.generateStyleSheets=A,$.generateSpacing=function(){return jx(f.spacing,uE(this))},$.getColorSchemeSelector=B9(u),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=l,$.unstable_sxConfig={...$g,...f==null?void 0:f.unstable_sxConfig},$.unstable_sx=function(E){return Bu({sx:E,theme:this})},$.toRuntimeSource=Hx,$}function UA(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:yE({...t===!0?{}:t.palette,mode:e})})}function wq(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...l}=n,u=o||"light",d=i==null?void 0:i[u],f={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return cw(n,...e);let m=t;"palette"in n||f[u]&&(f[u]!==!0?m=f[u].palette:u==="dark"&&(m={mode:"dark"}));const g=cw({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},UA(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},UA(g,"light",f.light)),g}return!t&&!("light"in f)&&u==="light"&&(f.light=!0),vq({...l,colorSchemes:f,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const Eq=wq(),Iq="$$material";function Qx(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Tq=n=>Qx(n)&&n!=="classes",Zh=T9({themeId:Iq,defaultTheme:Eq,rootShouldForwardProp:Tq}),_E=L9;function Yx(n){return V9(n)}function Sq(n){return oE("MuiSvgIcon",n)}Rx("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Rq=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${xo(e)}`,`fontSize${xo(t)}`]};return Ex(i,Sq,r)},Aq=Zh("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${xo(t.color)}`],e[`fontSize${xo(t.fontSize)}`]]}})(_E(({theme:n})=>{var e,t,r,i,o,l,u,d,f,m,g,_,T,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:m.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var b,M;return{props:{color:R},style:{color:(M=(b=(n.vars??n).palette)==null?void 0:b[R])==null?void 0:M.main}}}),{props:{color:"action"},style:{color:(_=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(I=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),dw=K.forwardRef(function(e,t){const r=Yx({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:m=!1,titleAccess:g,viewBox:_="0 0 24 24",...T}=r,I=K.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:_,hasSvgAsChild:I},b={};m||(b.viewBox=_);const M=Rq(R);return O.jsxs(Aq,{as:u,className:Gd(M.root,o),focusable:"false",color:f,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...b,...T,...I&&i.props,ownerState:R,children:[I?i.props.children:i,g?O.jsx("title",{children:g}):null]})});dw.muiName="SvgIcon";function Jx(n,e){function t(r,i){return O.jsx(dw,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=dw.muiName,K.memo(K.forwardRef(t))}const bq=Jx(O.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Pq=Jx(O.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Cq(n){return oE("MuiRating",n)}const _d=Rx("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function kq(n){const e=n.toString().split(".")[1];return e?e.length:0}function sv(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(kq(e)))}const xq=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:l}=n,u={root:["root",`size${xo(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Ex(u,Cq,e)},Nq=Zh("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${_d.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${xo(t.size)}`],t.readOnly&&e.readOnly]}})(_E(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${_d.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${_d.focusVisible} .${_d.iconActive}`]:{outline:"1px solid #999"},[`& .${_d.visuallyHidden}`]:p6,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),Xx=Zh("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),Oq=Zh("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(_E(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),Dq=Zh("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>Qx(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function Vq(n){const{value:e,...t}=n;return O.jsx("span",{...t})}function BA(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:f,isActive:m,itemValue:g,labelProps:_,name:T,onBlur:I,onChange:R,onClick:b,onFocus:M,readOnly:L,ownerState:F,ratingValue:$,ratingValueRounded:B}=n,q=l?g===$:g<=$,V=g<=u,A=g<=i,C=g===B,E=`${T}-${Sx()}`,x=O.jsx(Oq,{as:f,value:g,className:Gd(e.icon,q?e.iconFilled:e.iconEmpty,V&&e.iconHover,A&&e.iconFocus,m&&e.iconActive),ownerState:{...F,iconEmpty:!q,iconFilled:q,iconHover:V,iconFocus:A,iconActive:m},children:r&&!q?r:d});return L?O.jsx("span",{..._,children:x}):O.jsxs(K.Fragment,{children:[O.jsxs(Xx,{ownerState:{...F,emptyValueFocused:void 0},htmlFor:E,..._,children:[x,O.jsx("span",{className:e.visuallyHidden,children:o(g)})]}),O.jsx("input",{className:e.visuallyHidden,onFocus:M,onBlur:I,onChange:R,onClick:b,disabled:t,value:g,id:E,type:"radio",name:T,checked:C})]})}const Lq=O.jsx(bq,{fontSize:"inherit"}),Mq=O.jsx(Pq,{fontSize:"inherit"});function Fq(n){return`${n||"0"} Star${n!==1?"s":""}`}const jq=K.forwardRef(function(e,t){const r=Yx({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:l=null,disabled:u=!1,emptyIcon:d=Mq,emptyLabelText:f="Empty",getLabelText:m=Fq,highlightSelectedOnly:g=!1,icon:_=Lq,IconContainerComponent:T=Vq,max:I=5,name:R,onChange:b,onChangeActive:M,onMouseLeave:L,onMouseMove:F,precision:$=1,readOnly:B=!1,size:q="medium",value:V,...A}=r,C=Sx(R),[E,x]=I6({controlled:V,default:l,name:"Rating"}),k=sv(E,$),N=g6(),[{hover:X,focus:j},me]=K.useState({hover:-1,focus:-1});let oe=k;X!==-1&&(oe=X),j!==-1&&(oe=j);const[Z,pe]=K.useState(!1),de=K.useRef(),W=T6(de,t),ie=tt=>{F&&F(tt);const ht=de.current,{right:Zt,left:$r,width:Rr}=ht.getBoundingClientRect();let Ar;N?Ar=(Zt-tt.clientX)/Rr:Ar=(tt.clientX-$r)/Rr;let qn=sv(I*Ar+$/2,$);qn=wx(qn,$,I),me(Wn=>Wn.hover===qn&&Wn.focus===qn?Wn:{hover:qn,focus:qn}),pe(!1),M&&X!==qn&&M(tt,qn)},Te=tt=>{L&&L(tt);const ht=-1;me({hover:ht,focus:ht}),M&&X!==ht&&M(tt,ht)},Ce=tt=>{let ht=tt.target.value===""?null:parseFloat(tt.target.value);X!==-1&&(ht=X),x(ht),b&&b(tt,ht)},Ve=tt=>{tt.clientX===0&&tt.clientY===0||(me({hover:-1,focus:-1}),x(null),b&&parseFloat(tt.target.value)===k&&b(tt,null))},Fe=tt=>{mA(tt.target)&&pe(!0);const ht=parseFloat(tt.target.value);me(Zt=>({hover:Zt.hover,focus:ht}))},He=tt=>{if(X!==-1)return;mA(tt.target)||pe(!1);const ht=-1;me(Zt=>({hover:Zt.hover,focus:ht}))},[$e,et]=K.useState(!1),gt={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:f,emptyValueFocused:$e,focusVisible:Z,getLabelText:m,icon:_,IconContainerComponent:T,max:I,precision:$,readOnly:B,size:q},ln=xq(gt);return O.jsxs(Nq,{as:i,ref:W,onMouseMove:ie,onMouseLeave:Te,className:Gd(ln.root,o,B&&"MuiRating-readOnly"),ownerState:gt,role:B?"img":null,"aria-label":B?m(oe):null,...A,children:[Array.from(new Array(I)).map((tt,ht)=>{const Zt=ht+1,$r={classes:ln,disabled:u,emptyIcon:d,focus:j,getLabelText:m,highlightSelectedOnly:g,hover:X,icon:_,IconContainerComponent:T,name:C,onBlur:He,onChange:Ce,onClick:Ve,onFocus:Fe,ratingValue:oe,ratingValueRounded:k,readOnly:B,ownerState:gt},Rr=Zt===Math.ceil(oe)&&(X!==-1||j!==-1);if($<1){const Ar=Array.from(new Array(1/$));return O.jsx(Dq,{className:Gd(ln.decimal,Rr&&ln.iconActive),ownerState:gt,iconActive:Rr,children:Ar.map((qn,Wn)=>{const or=sv(Zt-1+(Wn+1)*$,$);return O.jsx(BA,{...$r,isActive:!1,itemValue:or,labelProps:{style:Ar.length-1===Wn?{}:{width:or===oe?`${(Wn+1)*$*100}%`:"0%",overflow:"hidden",position:"absolute"}}},or)})},Zt)}return O.jsx(BA,{...$r,isActive:Rr,itemValue:Zt},Zt)}),!B&&!u&&O.jsxs(Xx,{className:Gd(ln.label,ln.labelEmptyValue),ownerState:gt,children:[O.jsx("input",{className:ln.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:k==null,onFocus:()=>et(!0),onBlur:()=>et(!1),onChange:Ce}),O.jsx("span",{className:ln.visuallyHidden,children:f})]})]})});var nm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var Uq=nm.exports,zA;function Bq(){return zA||(zA=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(Uq,function(){var e,t,r="2.0.6",i={},o={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(f,m){this._input=f,this._value=m}return e=function(f){var m,g,_,T;if(e.isNumeral(f))m=f.value();else if(f===0||typeof f>"u")m=0;else if(f===null||t.isNaN(f))m=null;else if(typeof f=="string")if(u.zeroFormat&&f===u.zeroFormat)m=0;else if(u.nullFormat&&f===u.nullFormat||!f.replace(/[^0-9]+/g,"").length)m=null;else{for(g in i)if(T=typeof i[g].regexps.unformat=="function"?i[g].regexps.unformat():i[g].regexps.unformat,T&&f.match(T)){_=i[g].unformat;break}_=_||e._.stringToNumber,m=_(f)}else m=Number(f)||null;return new d(f,m)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,m,g){var _=o[e.options.currentLocale],T=!1,I=!1,R=0,b="",M=1e12,L=1e9,F=1e6,$=1e3,B="",q=!1,V,A,C,E,x,k,N;if(f=f||0,A=Math.abs(f),e._.includes(m,"(")?(T=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(x=e._.includes(m,"+")?m.indexOf("+"):f<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(V=m.match(/a(k|m|b|t)?/),V=V?V[1]:!1,e._.includes(m," a")&&(b=" "),m=m.replace(new RegExp(b+"a[kmbt]?"),""),A>=M&&!V||V==="t"?(b+=_.abbreviations.trillion,f=f/M):A<M&&A>=L&&!V||V==="b"?(b+=_.abbreviations.billion,f=f/L):A<L&&A>=F&&!V||V==="m"?(b+=_.abbreviations.million,f=f/F):(A<F&&A>=$&&!V||V==="k")&&(b+=_.abbreviations.thousand,f=f/$)),e._.includes(m,"[.]")&&(I=!0,m=m.replace("[.]",".")),C=f.toString().split(".")[0],E=m.split(".")[1],k=m.indexOf(","),R=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),B=e._.toFixed(f,E[0].length+E[1].length,g,E[1].length)):B=e._.toFixed(f,E.length,g),C=B.split(".")[0],e._.includes(B,".")?B=_.delimiters.decimal+B.split(".")[1]:B="",I&&Number(B.slice(1))===0&&(B="")):C=e._.toFixed(f,0,g),b&&!V&&Number(C)>=1e3&&b!==_.abbreviations.trillion)switch(C=String(Number(C)/1e3),b){case _.abbreviations.thousand:b=_.abbreviations.million;break;case _.abbreviations.million:b=_.abbreviations.billion;break;case _.abbreviations.billion:b=_.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),q=!0),C.length<R)for(var X=R-C.length;X>0;X--)C="0"+C;return k>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),m.indexOf(".")===0&&(C=""),N=C+B+(b||""),T?N=(T&&q?"(":"")+N+(T&&q?")":""):x>=0?N=x===0?(q?"-":"+")+N:N+(q?"-":"+"):q&&(N="-"+N),N},stringToNumber:function(f){var m=o[u.currentLocale],g=f,_={thousand:3,million:6,billion:9,trillion:12},T,I,R;if(u.zeroFormat&&f===u.zeroFormat)I=0;else if(u.nullFormat&&f===u.nullFormat||!f.replace(/[^0-9]+/g,"").length)I=null;else{I=1,m.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(T in _)if(R=new RegExp("[^a-zA-Z]"+m.abbreviations[T]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),g.match(R)){I*=Math.pow(10,_[T]);break}I*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),I*=Number(f)}return I},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,m){return f.indexOf(m)!==-1},insert:function(f,m,g){return f.slice(0,g)+m+f.slice(g)},reduce:function(f,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var g=Object(f),_=g.length>>>0,T=0,I;if(arguments.length===3)I=arguments[2];else{for(;T<_&&!(T in g);)T++;if(T>=_)throw new TypeError("Reduce of empty array with no initial value");I=g[T++]}for(;T<_;T++)T in g&&(I=m(I,g[T],T,g));return I},multiplier:function(f){var m=f.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(m,g){var _=t.multiplier(g);return m>_?m:_},1)},toFixed:function(f,m,g,_){var T=f.toString().split("."),I=m-(_||0),R,b,M,L;return T.length===2?R=Math.min(Math.max(T[1].length,I),m):R=I,M=Math.pow(10,R),L=(g(f+"e+"+R)/M).toFixed(R),_>m-R&&(b=new RegExp("\\.?0{1,"+(_-(m-R))+"}$"),L=L.replace(b,"")),L}},e.options=u,e.formats=i,e.locales=o,e.locale=function(f){return f&&(u.currentLocale=f.toLowerCase()),u.currentLocale},e.localeData=function(f){if(!f)return o[u.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in l)u[f]=l[f]},e.zeroFormat=function(f){u.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){u.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){u.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,m,g){if(m=m.toLowerCase(),this[f+"s"][m])throw new TypeError(m+" "+f+" already registered.");return this[f+"s"][m]=g,g},e.validate=function(f,m){var g,_,T,I,R,b,M,L;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{M=e.localeData(m)}catch{M=e.localeData(e.locale())}return T=M.currency.symbol,R=M.abbreviations,g=M.delimiters.decimal,M.delimiters.thousands==="."?_="\\.":_=M.delimiters.thousands,L=f.match(/^[^\d]+/),L!==null&&(f=f.substr(1),L[0]!==T)||(L=f.match(/[^\d]+$/),L!==null&&(f=f.slice(0,-1),L[0]!==R.thousand&&L[0]!==R.million&&L[0]!==R.billion&&L[0]!==R.trillion))?!1:(b=new RegExp(_+"{2}"),f.match(/[^\d.,]/g)?!1:(I=f.split(g),I.length>2?!1:I.length<2?!!I[0].match(/^\d+.*\d$/)&&!I[0].match(b):I[0].length===1?!!I[0].match(/^\d+$/)&&!I[0].match(b)&&!!I[1].match(/^\d+$/):!!I[0].match(/^\d+.*\d$/)&&!I[0].match(b)&&!!I[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,m){var g=this._value,_=f||u.defaultFormat,T,I,R;if(m=m||Math.round,g===0&&u.zeroFormat!==null)I=u.zeroFormat;else if(g===null&&u.nullFormat!==null)I=u.nullFormat;else{for(T in i)if(_.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,I=R(g,_,m)}return I},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var m=t.correctionFactor.call(null,this._value,f);function g(_,T,I,R){return _+Math.round(m*T)}return this._value=t.reduce([this._value,f],g,0)/m,this},subtract:function(f){var m=t.correctionFactor.call(null,this._value,f);function g(_,T,I,R){return _-Math.round(m*T)}return this._value=t.reduce([f],g,Math.round(this._value*m))/m,this},multiply:function(f){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)*Math.round(_*R)/Math.round(R*R)}return this._value=t.reduce([this._value,f],m,1),this},divide:function(f){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)/Math.round(_*R)}return this._value=t.reduce([this._value,f],m),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var m=f%10;return~~(f%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,m,g){var _=e._.includes(m," BPS")?" ":"",T;return f=f*1e4,m=m.replace(/\s?BPS/,""),T=e._.numberToFormat(f,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"BPS"),T=T.join("")):T=T+_+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=f.suffixes.concat(m.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),_=g.join("|");_="("+_.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(_)},format:function(T,I,R){var b,M=e._.includes(I,"ib")?m:f,L=e._.includes(I," b")||e._.includes(I," ib")?" ":"",F,$,B;for(I=I.replace(/\s?i?b/,""),F=0;F<=M.suffixes.length;F++)if($=Math.pow(M.base,F),B=Math.pow(M.base,F+1),T===null||T===0||T>=$&&T<B){L+=M.suffixes[F],$>0&&(T=T/$);break}return b=e._.numberToFormat(T,I,R),b+L},unformat:function(T){var I=e._.stringToNumber(T),R,b;if(I){for(R=f.suffixes.length-1;R>=0;R--){if(e._.includes(T,f.suffixes[R])){b=Math.pow(f.base,R);break}if(e._.includes(T,m.suffixes[R])){b=Math.pow(m.base,R);break}}I*=b||1}return I}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,m,g){var _=e.locales[e.options.currentLocale],T={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},I,R,b;for(m=m.replace(/\s?\$\s?/,""),I=e._.numberToFormat(f,m,g),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),b=0;b<T.before.length;b++)switch(R=T.before[b],R){case"$":I=e._.insert(I,_.currency.symbol,b);break;case" ":I=e._.insert(I," ",b+_.currency.symbol.length-1);break}for(b=T.after.length-1;b>=0;b--)switch(R=T.after[b],R){case"$":I=b===T.after.length-1?I+_.currency.symbol:e._.insert(I,_.currency.symbol,-(T.after.length-(1+b)));break;case" ":I=b===T.after.length-1?I+" ":e._.insert(I," ",-(T.after.length-(1+b)+_.currency.symbol.length-1));break}return I}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,m,g){var _,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",I=T.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),_=e._.numberToFormat(Number(I[0]),m,g),_+"e"+I[1]},unformat:function(f){var m=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),g=Number(m[0]),_=Number(m[1]);_=e._.includes(f,"e-")?_*=-1:_;function T(I,R,b,M){var L=e._.correctionFactor(I,R),F=I*L*(R*L)/(L*L);return F}return e._.reduce([g,Math.pow(10,_)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,m,g){var _=e.locales[e.options.currentLocale],T,I=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),I+=_.ordinal(f),T=e._.numberToFormat(f,m,g),T+I}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,m,g){var _=e._.includes(m," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),m=m.replace(/\s?\%/,""),T=e._.numberToFormat(f,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"%"),T=T.join("")):T=T+_+"%",T},unformat:function(f){var m=e._.stringToNumber(f);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,m,g){var _=Math.floor(f/60/60),T=Math.floor((f-_*60*60)/60),I=Math.round(f-_*60*60-T*60);return _+":"+(T<10?"0"+T:T)+":"+(I<10?"0"+I:I)},unformat:function(f){var m=f.split(":"),g=0;return m.length===3?(g=g+Number(m[0])*60*60,g=g+Number(m[1])*60,g=g+Number(m[2])):m.length===2&&(g=g+Number(m[0])*60,g=g+Number(m[1])),Number(g)}})}(),e})}(nm)),nm.exports}var zq=Bq();const $q=mw(zq),vE=({amount:n})=>{const e=$q(n).format("$0,0.00");return O.jsx("div",{children:e})},qq="_card__container_qgzh0_1",Wq="_button_qgzh0_17",Hq="_rating_qgzh0_71",Kq="_products_container_qgzh0_81",Gq="_product__flexed_qgzh0_107",su={card__container:qq,button:Wq,rating:Hq,products_container:Kq,product__flexed:Gq},jr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"},cc=({product:n,flex:e,renderDesc:t,renderAdd:r})=>{const{image:i,title:o,id:l,rating:u,price:d,description:f}=n,[m,g]=K.useContext(Ss),_=()=>{g({type:jr.ADD_TO_BASKET,item:{image:i,title:o,id:l,rating:u,price:d,description:f}})};return O.jsxs("div",{className:`${su.card__container} ${e?su.product__flexed:""}`,children:[O.jsx(ai,{to:`/products/${l}`,children:O.jsx("img",{src:i,alt:"",className:su.img_container})}),O.jsxs("div",{children:[O.jsx("h3",{children:o}),t&&O.jsx("div",{style:{maxWidth:"750px"},children:f}),O.jsxs("div",{className:su.rating,children:[O.jsx(jq,{value:u==null?void 0:u.rate,precision:.1}),O.jsx("small",{children:u==null?void 0:u.count})]}),O.jsx("div",{children:O.jsx(vE,{amount:d})}),r&&O.jsx("button",{className:su.button,onClick:_,children:"add to cart"})]})]})};var Qq={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Zx(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return Qq[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function au(n){var e=Zx(n);return"".concat(e.value).concat(e.unit)}var eN=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(l,0),r},jm=function(){return jm=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},jm.apply(this,arguments)},Yq=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Jq=eN("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function hw(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,u=n.cssOverride,d=u===void 0?{}:u,f=n.size,m=f===void 0?35:f,g=Yq(n,["loading","color","speedMultiplier","cssOverride","size"]),_=jm({background:"transparent !important",width:au(m),height:au(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(Jq," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?K.createElement("span",jm({style:_},g)):null}var Kt=function(){return Kt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Kt.apply(this,arguments)},Xq=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Zq=eN("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function eW(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,u=n.cssOverride,d=u===void 0?{}:u,f=n.height,m=f===void 0?15:f,g=n.width,_=g===void 0?5:g,T=n.radius,I=T===void 0?2:T,R=n.margin,b=R===void 0?2:R,M=Xq(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),L=Zx(b).value,F=L+18,$=F/2+F/5.5,B=Kt({display:"inherit",position:"relative",fontSize:"0",top:F,left:F,width:"".concat(F*3,"px"),height:"".concat(F*3,"px")},d),q=function(j){return{position:"absolute",width:au(_),height:au(m),margin:au(b),backgroundColor:i,borderRadius:au(I),transition:"2s",animationFillMode:"both",animation:"".concat(Zq," ").concat(1.2/l,"s ").concat(j*.12,"s infinite ease-in-out")}},V=Kt(Kt({},q(1)),{top:"".concat(F,"px"),left:"0"}),A=Kt(Kt({},q(2)),{top:"".concat($,"px"),left:"".concat($,"px"),transform:"rotate(-45deg)"}),C=Kt(Kt({},q(3)),{top:"0",left:"".concat(F,"px"),transform:"rotate(90deg)"}),E=Kt(Kt({},q(4)),{top:"".concat(-1*$,"px"),left:"".concat($,"px"),transform:"rotate(45deg)"}),x=Kt(Kt({},q(5)),{top:"".concat(-1*F,"px"),left:"0"}),k=Kt(Kt({},q(6)),{top:"".concat(-1*$,"px"),left:"".concat(-1*$,"px"),transform:"rotate(-45deg)"}),N=Kt(Kt({},q(7)),{top:"0",left:"".concat(-1*F,"px"),transform:"rotate(90deg)"}),X=Kt(Kt({},q(8)),{top:"".concat($,"px"),left:"".concat(-1*$,"px"),transform:"rotate(45deg)"});return t?K.createElement("span",Kt({style:B},M),K.createElement("span",{style:V}),K.createElement("span",{style:A}),K.createElement("span",{style:C}),K.createElement("span",{style:E}),K.createElement("span",{style:x}),K.createElement("span",{style:k}),K.createElement("span",{style:N}),K.createElement("span",{style:X})):null}const wE=()=>O.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:O.jsx(eW,{color:"#36d7b7"})}),tW=()=>{const[n,e]=K.useState([]),[t,r]=K.useState(!1);return K.useEffect(()=>{r(!0),Rt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),O.jsx(O.Fragment,{children:t?O.jsx(wE,{}):O.jsx("section",{className:su.products_container,children:n==null?void 0:n.map(i=>O.jsx(cc,{renderAdd:!0,product:i},i.id))})})};var ov={},vd={},Pp={},Cp={},$A;function nW(){return $A||($A=1,function(n){(function(e,t){t(n,Oo(),_x())})(Cp,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=I;var i=l(t),o=l(r);function l(L){return L&&L.__esModule?L:{default:L}}var u=Object.assign||function(L){for(var F=1;F<arguments.length;F++){var $=arguments[F];for(var B in $)Object.prototype.hasOwnProperty.call($,B)&&(L[B]=$[B])}return L};function d(L,F){var $={};for(var B in L)F.indexOf(B)>=0||Object.prototype.hasOwnProperty.call(L,B)&&($[B]=L[B]);return $}function f(L,F){if(!(L instanceof F))throw new TypeError("Cannot call a class as a function")}var m=function(){function L(F,$){for(var B=0;B<$.length;B++){var q=$[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}}return function(F,$,B){return $&&L(F.prototype,$),B&&L(F,B),F}}();function g(L,F){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:L}function _(L,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);L.prototype=Object.create(F&&F.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(L,F):L.__proto__=F)}var T=!1;function I(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){I(!0)}}))}catch{}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function b(L){if("touches"in L){var F=L.touches[0],$=F.pageX,B=F.pageY;return{x:$,y:B}}var q=L.screenX,V=L.screenY;return{x:q,y:V}}var M=function(L){_(F,L);function F(){var $;f(this,F);for(var B=arguments.length,q=Array(B),V=0;V<B;V++)q[V]=arguments[V];var A=g(this,($=F.__proto__||Object.getPrototypeOf(F)).call.apply($,[this].concat(q)));return A._handleSwipeStart=A._handleSwipeStart.bind(A),A._handleSwipeMove=A._handleSwipeMove.bind(A),A._handleSwipeEnd=A._handleSwipeEnd.bind(A),A._onMouseDown=A._onMouseDown.bind(A),A._onMouseMove=A._onMouseMove.bind(A),A._onMouseUp=A._onMouseUp.bind(A),A._setSwiperRef=A._setSwiperRef.bind(A),A}return m(F,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(B){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(B))}},{key:"_onMouseMove",value:function(B){this.mouseDown&&this._handleSwipeMove(B)}},{key:"_onMouseUp",value:function(B){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(B)}},{key:"_handleSwipeStart",value:function(B){var q=b(B),V=q.x,A=q.y;this.moveStart={x:V,y:A},this.props.onSwipeStart(B)}},{key:"_handleSwipeMove",value:function(B){if(this.moveStart){var q=b(B),V=q.x,A=q.y,C=V-this.moveStart.x,E=A-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:C,y:E},B);x&&B.cancelable&&B.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function(B){this.props.onSwipeEnd(B);var q=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-q?this.props.onSwipeLeft(1,B):this.movePosition.deltaX>q&&this.props.onSwipeRight(1,B),this.movePosition.deltaY<-q?this.props.onSwipeUp(1,B):this.movePosition.deltaY>q&&this.props.onSwipeDown(1,B)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(B){this.swiper=B,this.props.innerRef(B)}},{key:"render",value:function(){var B=this.props;B.tagName;var q=B.className,V=B.style,A=B.children;B.allowMouseEvents,B.onSwipeUp,B.onSwipeDown,B.onSwipeLeft,B.onSwipeRight,B.onSwipeStart,B.onSwipeMove,B.onSwipeEnd,B.innerRef,B.tolerance;var C=d(B,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:q,style:V},C),A)}}]),F}(t.Component);M.displayName="ReactSwipe",M.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},M.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=M})}(Cp)),Cp}var qA;function tN(){return qA||(qA=1,function(n){(function(e,t){t(n,nW())})(Pp,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Pp)),Pp}var wd={},av={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var WA;function rW(){return WA||(WA=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(av)),av.exports}var HA;function nN(){if(HA)return wd;HA=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.default=void 0;var n=e(rW());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,l){return o in i?Object.defineProperty(i,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[o]=l,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,l){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(o,l){return(0,n.default)({thumbs:!o,slider:o,animated:!l})},ITEM:function(o,l,u){return(0,n.default)({thumb:!o,slide:o,selected:l,previous:u})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return wd.default=r,wd}var Ed={},Id={},KA;function iW(){if(KA)return Id;KA=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return Id.outerWidth=n,Id}var Td={},GA;function EE(){if(GA)return Td;GA=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,l=i==="horizontal"?[o,0,0]:[0,o,0],u="translate3d",d="("+l.join(",")+")";return u+d};return Td.default=n,Td}var Sd={},QA;function rN(){if(QA)return Sd;QA=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.default=void 0;var n=function(){return window};return Sd.default=n,Sd}var YA;function iN(){if(YA)return Ed;YA=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.default=void 0;var n=d(Oo()),e=l(nN()),t=iW(),r=l(EE()),i=l(tN()),o=l(rN());function l(A){return A&&A.__esModule?A:{default:A}}function u(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return u=function(){return A},A}function d(A){if(A&&A.__esModule)return A;if(A===null||f(A)!=="object"&&typeof A!="function")return{default:A};var C=u();if(C&&C.has(A))return C.get(A);var E={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in A)if(Object.prototype.hasOwnProperty.call(A,k)){var N=x?Object.getOwnPropertyDescriptor(A,k):null;N&&(N.get||N.set)?Object.defineProperty(E,k,N):E[k]=A[k]}return E.default=A,C&&C.set(A,E),E}function f(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(E){return typeof E}:f=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(A)}function m(){return m=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(A[x]=E[x])}return A},m.apply(this,arguments)}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function _(A,C){for(var E=0;E<C.length;E++){var x=C[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function T(A,C,E){return C&&_(A.prototype,C),A}function I(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),C&&R(A,C)}function R(A,C){return R=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x},R(A,C)}function b(A){var C=F();return function(){var x=$(A),k;if(C){var N=$(this).constructor;k=Reflect.construct(x,arguments,N)}else k=x.apply(this,arguments);return M(this,k)}}function M(A,C){return C&&(f(C)==="object"||typeof C=="function")?C:L(A)}function L(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $(A){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},$(A)}function B(A,C,E){return C in A?Object.defineProperty(A,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):A[C]=E,A}var q=function(C){return C.hasOwnProperty("key")},V=function(A){I(E,A);var C=b(E);function E(x){var k;return g(this,E),k=C.call(this,x),B(L(k),"itemsWrapperRef",void 0),B(L(k),"itemsListRef",void 0),B(L(k),"thumbsRef",void 0),B(L(k),"setItemsWrapperRef",function(N){k.itemsWrapperRef=N}),B(L(k),"setItemsListRef",function(N){k.itemsListRef=N}),B(L(k),"setThumbsRef",function(N,X){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[X]=N}),B(L(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var N=n.Children.count(k.props.children),X=k.itemsWrapperRef.clientWidth,j=k.props.thumbWidth?k.props.thumbWidth:(0,t.outerWidth)(k.thumbsRef[0]),me=Math.floor(X/j),oe=me<N,Z=oe?N-me:0;k.setState(function(pe,de){return{itemSize:j,visibleItems:me,firstItem:oe?k.getFirstItem(de.selectedItem):0,lastPosition:Z,showArrows:oe}})}}),B(L(k),"handleClickItem",function(N,X,j){if(!q(j)||j.key==="Enter"){var me=k.props.onSelectItem;typeof me=="function"&&me(N,X)}}),B(L(k),"onSwipeStart",function(){k.setState({swiping:!0})}),B(L(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),B(L(k),"onSwipeMove",function(N){var X=N.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var j=0,me=n.Children.count(k.props.children),oe=-(k.state.firstItem*100)/k.state.visibleItems,Z=Math.max(me-k.state.visibleItems,0),pe=-Z*100/k.state.visibleItems;oe===j&&X>0&&(X=0),oe===pe&&X<0&&(X=0);var de=k.itemsWrapperRef.clientWidth,W=oe+100/(de/X);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){k.itemsListRef.style[ie]=(0,r.default)(W,"%",k.props.axis)}),!0}),B(L(k),"slideRight",function(N){k.moveTo(k.state.firstItem-(typeof N=="number"?N:1))}),B(L(k),"slideLeft",function(N){k.moveTo(k.state.firstItem+(typeof N=="number"?N:1))}),B(L(k),"moveTo",function(N){N=N<0?0:N,N=N>=k.state.lastPosition?k.state.lastPosition:N,k.setState({firstItem:N})}),k.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return T(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var N=k;return k>=this.state.lastPosition&&(N=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(N=this.state.firstItem),k<this.state.firstItem&&(N=k),N}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(N,X){var j=e.default.ITEM(!1,X===k.state.selectedItem),me={key:X,ref:function(Z){return k.setThumbsRef(Z,X)},className:j,onClick:k.handleClickItem.bind(k,X,k.props.children[X]),onKeyDown:k.handleClickItem.bind(k,X,k.props.children[X]),"aria-label":"".concat(k.props.labels.item," ").concat(X+1),style:{width:k.props.thumbWidth}};return n.default.createElement("li",m({},me,{role:"button",tabIndex:0}),N)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var N=n.Children.count(this.props.children)>1,X=this.state.showArrows&&this.state.firstItem>0,j=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,me={},oe=-this.state.firstItem*(this.state.itemSize||0),Z=(0,r.default)(oe,"px",this.props.axis),pe=this.props.transitionTime+"ms";return me={WebkitTransform:Z,MozTransform:Z,MsTransform:Z,OTransform:Z,transform:Z,msTransform:Z,WebkitTransitionDuration:pe,MozTransitionDuration:pe,MsTransitionDuration:pe,OTransitionDuration:pe,transitionDuration:pe,msTransitionDuration:pe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!X),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),N?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:me,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(W){return k.setItemsListRef(W)},style:me},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!j),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return Ed.default=V,B(V,"displayName","Thumbs"),B(V,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Ed}var Rd={},JA;function sW(){if(JA)return Rd;JA=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.default=void 0;var n=function(){return document};return Rd.default=n,Rd}var pr={},XA;function sN(){if(XA)return pr;XA=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.setPosition=pr.getPosition=pr.isKeyboardEvent=pr.defaultStatusFormatter=pr.noop=void 0;var n=Oo(),e=t(EE());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};pr.noop=r;var i=function(f,m){return"".concat(f," of ").concat(m)};pr.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};pr.isKeyboardEvent=o;var l=function(f,m){if(m.infiniteLoop&&++f,f===0)return 0;var g=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var _=-f*m.centerSlidePercentage,T=g-1;return f&&(f!==T||m.infiniteLoop)?_+=(100-m.centerSlidePercentage)/2:f===T&&(_+=100-m.centerSlidePercentage),_}return-f*100};pr.getPosition=l;var u=function(f,m){var g={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){g[_]=(0,e.default)(f,"%",m)}),g};return pr.setPosition=u,pr}var si={},ZA;function oW(){if(ZA)return si;ZA=1,Object.defineProperty(si,"__esModule",{value:!0}),si.fadeAnimationHandler=si.slideStopSwipingHandler=si.slideSwipeAnimationHandler=si.slideAnimationHandler=void 0;var n=Oo(),e=r(EE()),t=sN();function r(g){return g&&g.__esModule?g:{default:g}}function i(g,_){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);_&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(g,R).enumerable})),T.push.apply(T,I)}return T}function o(g){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?i(Object(T),!0).forEach(function(I){l(g,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(T,I))})}return g}function l(g,_,T){return _ in g?Object.defineProperty(g,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[_]=T,g}var u=function(_,T){var I={},R=T.selectedItem,b=R,M=n.Children.count(_.children)-1,L=_.infiniteLoop&&(R<0||R>M);if(L)return b<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?I.itemListStyle=(0,t.setPosition)(-(M+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):I.itemListStyle=(0,t.setPosition)(-(M+2)*100,_.axis):b>M&&(I.itemListStyle=(0,t.setPosition)(0,_.axis)),I;var F=(0,t.getPosition)(R,_),$=(0,e.default)(F,"%",_.axis),B=_.transitionTime+"ms";return I.itemListStyle={WebkitTransform:$,msTransform:$,OTransform:$,transform:$},T.swiping||(I.itemListStyle=o(o({},I.itemListStyle),{},{WebkitTransitionDuration:B,MozTransitionDuration:B,OTransitionDuration:B,transitionDuration:B,msTransitionDuration:B})),I};si.slideAnimationHandler=u;var d=function(_,T,I,R){var b={},M=T.axis==="horizontal",L=n.Children.count(T.children),F=0,$=(0,t.getPosition)(I.selectedItem,T),B=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),q=M?_.x:_.y,V=q;$===F&&q>0&&(V=0),$===B&&q<0&&(V=0);var A=$+100/(I.itemSize/V),C=Math.abs(q)>T.swipeScrollTolerance;return T.infiniteLoop&&C&&(I.selectedItem===0&&A>-100?A-=L*100:I.selectedItem===L-1&&A<-L*100&&(A+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||C||I.swipeMovementStarted)&&(I.swipeMovementStarted||R({swipeMovementStarted:!0}),b.itemListStyle=(0,t.setPosition)(A,T.axis)),C&&!I.cancelClick&&R({cancelClick:!0}),b};si.slideSwipeAnimationHandler=d;var f=function(_,T){var I=(0,t.getPosition)(T.selectedItem,_),R=(0,t.setPosition)(I,_.axis);return{itemListStyle:R}};si.slideStopSwipingHandler=f;var m=function(_,T){var I=_.transitionTime+"ms",R="ease-in-out",b={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(b=o(o({},b),{},{WebkitTransitionDuration:I,MozTransitionDuration:I,OTransitionDuration:I,transitionDuration:I,msTransitionDuration:I})),{slideStyle:b,selectedStyle:o(o({},b),{},{opacity:1,position:"relative"}),prevStyle:o({},b)}};return si.fadeAnimationHandler=m,si}var eb;function aW(){if(eb)return vd;eb=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.default=void 0;var n=m(Oo()),e=d(tN()),t=d(nN()),r=d(iN()),i=d(sW()),o=d(rN()),l=sN(),u=oW();function d(x){return x&&x.__esModule?x:{default:x}}function f(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return f=function(){return x},x}function m(x){if(x&&x.__esModule)return x;if(x===null||g(x)!=="object"&&typeof x!="function")return{default:x};var k=f();if(k&&k.has(x))return k.get(x);var N={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in x)if(Object.prototype.hasOwnProperty.call(x,j)){var me=X?Object.getOwnPropertyDescriptor(x,j):null;me&&(me.get||me.set)?Object.defineProperty(N,j,me):N[j]=x[j]}return N.default=x,k&&k.set(x,N),N}function g(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(N){return typeof N}:g=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},g(x)}function _(){return _=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var N=arguments[k];for(var X in N)Object.prototype.hasOwnProperty.call(N,X)&&(x[X]=N[X])}return x},_.apply(this,arguments)}function T(x,k){var N=Object.keys(x);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(x);k&&(X=X.filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable})),N.push.apply(N,X)}return N}function I(x){for(var k=1;k<arguments.length;k++){var N=arguments[k]!=null?arguments[k]:{};k%2?T(Object(N),!0).forEach(function(X){C(x,X,N[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(N)):T(Object(N)).forEach(function(X){Object.defineProperty(x,X,Object.getOwnPropertyDescriptor(N,X))})}return x}function R(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function b(x,k){for(var N=0;N<k.length;N++){var X=k[N];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}function M(x,k,N){return k&&b(x.prototype,k),x}function L(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),k&&F(x,k)}function F(x,k){return F=Object.setPrototypeOf||function(X,j){return X.__proto__=j,X},F(x,k)}function $(x){var k=V();return function(){var X=A(x),j;if(k){var me=A(this).constructor;j=Reflect.construct(X,arguments,me)}else j=X.apply(this,arguments);return B(this,j)}}function B(x,k){return k&&(g(k)==="object"||typeof k=="function")?k:q(x)}function q(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(x){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},A(x)}function C(x,k,N){return k in x?Object.defineProperty(x,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):x[k]=N,x}var E=function(x){L(N,x);var k=$(N);function N(X){var j;R(this,N),j=k.call(this,X),C(q(j),"thumbsRef",void 0),C(q(j),"carouselWrapperRef",void 0),C(q(j),"listRef",void 0),C(q(j),"itemsRef",void 0),C(q(j),"timer",void 0),C(q(j),"animationHandler",void 0),C(q(j),"setThumbsRef",function(oe){j.thumbsRef=oe}),C(q(j),"setCarouselWrapperRef",function(oe){j.carouselWrapperRef=oe}),C(q(j),"setListRef",function(oe){j.listRef=oe}),C(q(j),"setItemsRef",function(oe,Z){j.itemsRef||(j.itemsRef=[]),j.itemsRef[Z]=oe}),C(q(j),"autoPlay",function(){n.Children.count(j.props.children)<=1||(j.clearAutoPlay(),j.props.autoPlay&&(j.timer=setTimeout(function(){j.increment()},j.props.interval)))}),C(q(j),"clearAutoPlay",function(){j.timer&&clearTimeout(j.timer)}),C(q(j),"resetAutoPlay",function(){j.clearAutoPlay(),j.autoPlay()}),C(q(j),"stopOnHover",function(){j.setState({isMouseEntered:!0},j.clearAutoPlay)}),C(q(j),"startOnLeave",function(){j.setState({isMouseEntered:!1},j.autoPlay)}),C(q(j),"isFocusWithinTheCarousel",function(){return j.carouselWrapperRef?!!((0,i.default)().activeElement===j.carouselWrapperRef||j.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(q(j),"navigateWithKeyboard",function(oe){if(j.isFocusWithinTheCarousel()){var Z=j.props.axis,pe=Z==="horizontal",de={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},W=pe?de.ArrowRight:de.ArrowDown,ie=pe?de.ArrowLeft:de.ArrowUp;W===oe.keyCode?j.increment():ie===oe.keyCode&&j.decrement()}}),C(q(j),"updateSizes",function(){if(!(!j.state.initialized||!j.itemsRef||j.itemsRef.length===0)){var oe=j.props.axis==="horizontal",Z=j.itemsRef[0];if(Z){var pe=oe?Z.clientWidth:Z.clientHeight;j.setState({itemSize:pe}),j.thumbsRef&&j.thumbsRef.updateSizes()}}}),C(q(j),"setMountState",function(){j.setState({hasMount:!0}),j.updateSizes()}),C(q(j),"handleClickItem",function(oe,Z){if(n.Children.count(j.props.children)!==0){if(j.state.cancelClick){j.setState({cancelClick:!1});return}j.props.onClickItem(oe,Z),oe!==j.state.selectedItem&&j.setState({selectedItem:oe})}}),C(q(j),"handleOnChange",function(oe,Z){n.Children.count(j.props.children)<=1||j.props.onChange(oe,Z)}),C(q(j),"handleClickThumb",function(oe,Z){j.props.onClickThumb(oe,Z),j.moveTo(oe)}),C(q(j),"onSwipeStart",function(oe){j.setState({swiping:!0}),j.props.onSwipeStart(oe)}),C(q(j),"onSwipeEnd",function(oe){j.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),j.props.onSwipeEnd(oe),j.clearAutoPlay(),j.state.autoPlay&&j.autoPlay()}),C(q(j),"onSwipeMove",function(oe,Z){j.props.onSwipeMove(Z);var pe=j.props.swipeAnimationHandler(oe,j.props,j.state,j.setState.bind(q(j)));return j.setState(I({},pe)),!!Object.keys(pe).length}),C(q(j),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;j.moveTo(j.state.selectedItem-(typeof oe=="number"?oe:1))}),C(q(j),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;j.moveTo(j.state.selectedItem+(typeof oe=="number"?oe:1))}),C(q(j),"moveTo",function(oe){if(typeof oe=="number"){var Z=n.Children.count(j.props.children)-1;oe<0&&(oe=j.props.infiniteLoop?Z:0),oe>Z&&(oe=j.props.infiniteLoop?0:Z),j.selectItem({selectedItem:oe}),j.state.autoPlay&&j.state.isMouseEntered===!1&&j.resetAutoPlay()}}),C(q(j),"onClickNext",function(){j.increment(1)}),C(q(j),"onClickPrev",function(){j.decrement(1)}),C(q(j),"onSwipeForward",function(){j.increment(1),j.props.emulateTouch&&j.setState({cancelClick:!0})}),C(q(j),"onSwipeBackwards",function(){j.decrement(1),j.props.emulateTouch&&j.setState({cancelClick:!0})}),C(q(j),"changeItem",function(oe){return function(Z){(!(0,l.isKeyboardEvent)(Z)||Z.key==="Enter")&&j.moveTo(oe)}}),C(q(j),"selectItem",function(oe){j.setState(I({previousItem:j.state.selectedItem},oe),function(){j.setState(j.animationHandler(j.props,j.state))}),j.handleOnChange(oe.selectedItem,n.Children.toArray(j.props.children)[oe.selectedItem])}),C(q(j),"getInitialImage",function(){var oe=j.props.selectedItem,Z=j.itemsRef&&j.itemsRef[oe],pe=Z&&Z.getElementsByTagName("img")||[];return pe[0]}),C(q(j),"getVariableItemHeight",function(oe){var Z=j.itemsRef&&j.itemsRef[oe];if(j.state.hasMount&&Z&&Z.children.length){var pe=Z.children[0].getElementsByTagName("img")||[];if(pe.length>0){var de=pe[0];if(!de.complete){var W=function Ce(){j.forceUpdate(),de.removeEventListener("load",Ce)};de.addEventListener("load",W)}}var ie=pe[0]||Z.children[0],Te=ie.clientHeight;return Te>0?Te:null}return null});var me={initialized:!1,previousItem:X.selectedItem,selectedItem:X.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:X.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return j.animationHandler=typeof X.animationHandler=="function"&&X.animationHandler||X.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,j.state=I(I({},me),j.animationHandler(X,me)),j}return M(N,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(j,me){!j.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!j.autoFocus&&this.props.autoFocus&&this.forceFocus(),me.swiping&&!this.state.swiping&&this.setState(I({},this.props.stopSwipingHandler(this.props,this.state))),(j.selectedItem!==this.props.selectedItem||j.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),j.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var j=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var me=j.getInitialImage();me&&!me.complete?me.addEventListener("load",j.setMountState):j.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var j=this.carouselWrapperRef;this.props.stopOnHover&&j&&(j.addEventListener("mouseenter",this.stopOnHover),j.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var j=this.carouselWrapperRef;this.props.stopOnHover&&j&&(j.removeEventListener("mouseenter",this.stopOnHover),j.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var j=this.getInitialImage();j&&j.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var j;(j=this.carouselWrapperRef)===null||j===void 0||j.focus()}},{key:"renderItems",value:function(j){var me=this;return this.props.children?n.Children.map(this.props.children,function(oe,Z){var pe=Z===me.state.selectedItem,de=Z===me.state.previousItem,W=pe&&me.state.selectedStyle||de&&me.state.prevStyle||me.state.slideStyle||{};me.props.centerMode&&me.props.axis==="horizontal"&&(W=I(I({},W),{},{minWidth:me.props.centerSlidePercentage+"%"})),me.state.swiping&&me.state.swipeMovementStarted&&(W=I(I({},W),{},{pointerEvents:"none"}));var ie={ref:function(Ce){return me.setItemsRef(Ce,Z)},key:"itemKey"+Z+(j?"clone":""),className:t.default.ITEM(!0,Z===me.state.selectedItem,Z===me.state.previousItem),onClick:me.handleClickItem.bind(me,Z,oe),style:W};return n.default.createElement("li",ie,me.props.renderItem(oe,{isSelected:Z===me.state.selectedItem,isPrevious:Z===me.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var j=this,me=this.props,oe=me.showIndicators,Z=me.labels,pe=me.renderIndicator,de=me.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(de,function(W,ie){return pe&&pe(j.changeItem(ie),ie===j.state.selectedItem,ie,Z.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var j=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var me=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",Z=this.props.showArrows&&n.Children.count(this.props.children)>1,pe=Z&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,de=Z&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,W=this.renderItems(!0),ie=W.shift(),Te=W.pop(),Ce={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ve={};if(oe){if(Ce.onSwipeLeft=this.onSwipeForward,Ce.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Fe=this.getVariableItemHeight(this.state.selectedItem);Ve.height=Fe||"auto"}}else Ce.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Ce.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Ce.style=I(I({},Ce.style),{},{height:this.state.itemSize}),Ve.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,pe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Ve},me?n.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},Ce,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function($e){return j.setListRef($e)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,de,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),N}(n.default.Component);return vd.default=E,C(E,"displayName","Carousel"),C(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,N,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_PREV(!N),onClick:k})},renderArrowNext:function(k,N,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_NEXT(!N),onClick:k})},renderIndicator:function(k,N,X,j){return n.default.createElement("li",{className:t.default.DOT(N),onClick:k,onKeyDown:k,value:X,key:X,role:"button",tabIndex:0,"aria-label":"".concat(j," ").concat(X+1)})},renderItem:function(k){return k},renderThumbs:function(k){var N=n.Children.map(k,function(X){var j=X;if(X.type!=="img"&&(j=n.Children.toArray(X.props.children).find(function(me){return me.type==="img"})),!!j)return j});return N.filter(function(X){return X}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):N},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),vd}var tb={},nb;function lW(){return nb||(nb=1),tb}var rb;function uW(){return rb||(rb=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(aW()),t=lW(),r=i(iN());function i(o){return o&&o.__esModule?o:{default:o}}}(ov)),ov}var cW=uW();const dW="/assets/img1-Cgkt1SdF.jpg",hW="/assets/img2-yhNuh496.jpg",fW="/assets/img3-DjhQL4wt.jpg",pW="/assets/img4-rHvFg_xa.jpg",mW="/assets/img5-mZ66RMD9.jpg",gW="/assets/img6-0z9TqRqU.jpg",yW=[dW,hW,fW,pW,mW,gW],_W="_hero__img_bl28n_1",vW={hero__img:_W},wW=()=>O.jsxs(O.Fragment,{children:[O.jsx(cW.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,showStatus:!1,children:yW.map((n,e)=>O.jsx("img",{src:n,alt:`carousel-image-${e}`},e))}),O.jsx("div",{className:vW.hero__img})]}),EW="_footer__container_1tn72_1",IW="_back_to_top_1tn72_13",TW="_footer_links_1tn72_59",SW="_footer_column_1tn72_77",RW="_footer_bottom_container_1tn72_133",AW="_footer_logo_1tn72_145",bW="_language_country_1tn72_167",PW="_language_dropdown_1tn72_181",CW="_country_dropdown_1tn72_183",kW="_footer_bottom_1tn72_133",mr={footer__container:EW,back_to_top:IW,footer_links:TW,footer_column:SW,footer_bottom_container:RW,footer_logo:AW,language_country:bW,language_dropdown:PW,country_dropdown:CW,footer_bottom:kW};function xW(){const n=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})};return O.jsxs("section",{className:mr.footer__container,children:[O.jsx("div",{className:mr.back_to_top,children:O.jsx("p",{onClick:n,children:"Back to top"})}),O.jsxs("div",{className:mr.footer_links,children:[O.jsxs("div",{className:mr.footer_column,children:[O.jsx("h4",{children:"Get to Know Us"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx("a",{href:"#",children:"Careers"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Amazon Newsletter"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"About Amazon"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Accessibility"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Sustainability"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Press Center"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Investor Relations"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Amazon Devices"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Amazon Science"})})]})]}),O.jsxs("div",{className:mr.footer_column,children:[O.jsx("h4",{children:"Make Money with Us"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx("a",{href:"#",children:"Sell on Amazon"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Sell apps on Amazon"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Supply to Amazon"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Protect & Build Your Brand"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Become an Affiliate"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Become a Delivery Driver"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Start a Package Delivery Business"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Advertise Your Products"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Self-Publish with Us"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Become an Amazon Hub Partner"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"See More Ways to Make Money"})})]})]}),O.jsxs("div",{className:mr.footer_column,children:[O.jsx("h4",{children:"Amazon Payment Products"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx("a",{href:"",children:"Amazon Visa"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Amazon Store Card"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Amazon Secured Card"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Amazon Business Card"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Shop with Points"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Reload Your Balance"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Gift Cards"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Amazon Currency Converter"})})]})]}),O.jsxs("div",{className:mr.footer_column,children:[O.jsx("h4",{children:"Let Us Help You"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx("a",{href:"#",children:"Amazon and COVID-19"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Your Account"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Your Orders"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Shipping Rates & Policies"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Amazon Prime"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Returns & Replacements"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Manage Your Content and Devices"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Recalls and Product Safety Alerts"})}),O.jsx("li",{children:O.jsx("a",{href:"",children:"Registry & Gift List"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Help"})})]})]})]}),O.jsxs("div",{className:mr.footer_bottom_container,children:[O.jsx("div",{className:mr.footer_logo,children:O.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon Logo"})}),O.jsxs("div",{className:mr.language_country,children:[O.jsxs("div",{className:mr.language_dropdown,children:[O.jsx("img",{src:"",alt:""}),O.jsx("select",{name:"",id:"",children:O.jsx("option",{value:"",children:" English "})})]}),O.jsxs("div",{className:mr.country_dropdown,children:[O.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),O.jsx("select",{name:"",id:"",children:O.jsx("option",{value:"",children:" United States"})})]})]})]}),O.jsxs("div",{className:mr.footer_bottom,children:[O.jsx("p",{children:"Conditions of Use | Privacy Notice | Your Ads Privacy Choices"}),O.jsx("p",{children:"© 1996-2025, Amazon.com, Inc. or its affiliates"})]})]})}const NW=()=>O.jsxs(oc,{children:[O.jsx(wW,{}),O.jsx(r2,{}),O.jsx(tW,{}),O.jsx(xW,{})]}),OW="_login_1h856_1",DW="_login__container_1h856_23",VW="_login__signInButton_1h856_91",LW="_login__registerButton_1h856_123",kp={login:OW,login__container:DW,login__signInButton:VW,login__registerButton:LW},MW=()=>{var T,I;const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,o]=K.useState(""),[l,u]=K.useState({signIn:!1,signUp:!1}),[{user:d},f]=K.useContext(Ss),m=Bm(),g=Do();console.log(g);const _=async R=>{R.preventDefault(),R.target.name=="signin"?(u({...l,signIn:!0}),OP(Dm,n,t).then(b=>{var M;f({type:jr.SET_USER,user:b.user}),u({...l,signIn:!1}),m(((M=g==null?void 0:g.state)==null?void 0:M.redirect)||"/")}).catch(b=>{o(b.message),u({...l,signIn:!1})})):(u({...l,signUp:!0}),NP(Dm,n,t).then(b=>{var M;f({type:jr.SET_USER,user:b.user}),u({...l,signUp:!1}),m(((M=g==null?void 0:g.state)==null?void 0:M.redirect)||"/")}).catch(b=>{o(b.message),u({...l,signUp:!1})}))};return O.jsxs("section",{className:kp.login,children:[O.jsx(ai,{to:"/",children:O.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG6.png",alt:"amazon logo"})}),O.jsxs("div",{className:kp.login__container,children:[O.jsx("h1",{children:"Sign In"}),((T=g==null?void 0:g.state)==null?void 0:T.msg)&&O.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(I=g==null?void 0:g.state)==null?void 0:I.msg}),O.jsxs("form",{action:"",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"email",children:"Email"}),O.jsx("input",{value:n,onChange:R=>e(R.target.value),type:"email",id:"email"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"password",children:"Password"}),O.jsx("input",{value:t,onChange:R=>r(R.target.value),type:"password",id:"password"})]}),O.jsx("button",{type:"submit",name:"signin",onClick:_,className:kp.login__signInButton,children:l.signIn?O.jsx(hw,{color:"#000",size:15}):" Sign In"})]}),O.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),O.jsx("button",{type:"submit",name:"signup",onClick:_,className:kp.login__registerButton,children:l.signUp?O.jsx(hw,{color:"#000",size:15}):" Create your Amazon Account"}),i&&O.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})},FW="_payment__header_1yxp7_1",jW="_payment_1yxp7_1",UW="_flex_1yxp7_19",BW="_payment__card__container_1yxp7_65",zW="_payment__price_1yxp7_79",$W="_payment__details_1yxp7_73",qW="_loading_1yxp7_121",us={payment__header:FW,payment:jW,flex:UW,payment__card__container:BW,payment__price:zW,payment__details:$W,loading:qW};function ib(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function sb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ib(Object(t),!0).forEach(function(r){oN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ib(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rm=function(e){return typeof e}:rm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(n)}function oN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aN(n,e){return WW(n)||HW(n,e)||KW(n,e)||GW()}function WW(n){if(Array.isArray(n))return n}function HW(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw u}}return r}}function KW(n,e){if(n){if(typeof n=="string")return ob(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ob(n,e)}}function ob(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function GW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gr=function(e,t,r){var i=!!r,o=We.useRef(r);We.useEffect(function(){o.current=r},[r]),We.useEffect(function(){if(!i||!e)return function(){};var l=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,o])},fw=function(e){var t=We.useRef(e);return We.useEffect(function(){t.current=e},[e]),t.current},$u=function(e){return e!==null&&rm(e)==="object"},QW=function(e){return $u(e)&&typeof e.then=="function"},YW=function(e){return $u(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ab="[object Object]",JW=function n(e,t){if(!$u(e)||!$u(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===ab,l=Object.prototype.toString.call(t)===ab;if(o!==l)return!1;if(!o&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f={},m=0;m<u.length;m+=1)f[u[m]]=!0;for(var g=0;g<d.length;g+=1)f[d[g]]=!0;var _=Object.keys(f);if(_.length!==u.length)return!1;var T=e,I=t,R=function(M){return n(T[M],I[M])};return _.every(R)},lN=function(e,t,r){return $u(e)?Object.keys(e).reduce(function(i,o){var l=!$u(t)||!JW(e[o],t[o]);return r.includes(o)?(l&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):l?sb(sb({},i||{}),{},oN({},o,e[o])):i},null):null},uN="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",lb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uN;if(e===null||YW(e))return e;throw new Error(t)},XW=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uN;if(QW(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return lb(i,t)})};var r=lb(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},ZW=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.1.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.1.0",url:"https://stripe.com/docs/stripe-js/react"}))},Gg=We.createContext(null);Gg.displayName="ElementsContext";var cN=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},dN=function(e){var t=e.stripe,r=e.options,i=e.children,o=We.useMemo(function(){return XW(t)},[t]),l=We.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),u=aN(l,2),d=u[0],f=u[1];We.useEffect(function(){var _=!0,T=function(R){f(function(b){return b.stripe?b:{stripe:R,elements:R.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(I){I&&_&&T(I)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){_=!1}},[o,d,r]);var m=fw(t);We.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var g=fw(r);return We.useEffect(function(){if(d.elements){var _=lN(r,g,["clientSecret","fonts"]);_&&d.elements.update(_)}},[r,g,d.elements]),We.useEffect(function(){ZW(d.stripe)},[d.stripe]),We.createElement(Gg.Provider,{value:d},i)};dN.propTypes={stripe:Pt.any,options:Pt.object};var e8=function(e){var t=We.useContext(Gg);return cN(t,e)},t8=function(){var e=e8("calls useElements()"),t=e.elements;return t};Pt.func.isRequired;var hN=We.createContext(null);hN.displayName="CheckoutSdkContext";var n8=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},r8=We.createContext(null);r8.displayName="CheckoutContext";Pt.any,Pt.shape({clientSecret:Pt.string.isRequired,elementsOptions:Pt.object}).isRequired;var pw=function(e){var t=We.useContext(hN),r=We.useContext(Gg);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?n8(t,e):cN(r,e)},i8=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Jt=function(e,t){var r="".concat(i8(e),"Element"),i=function(d){var f=d.id,m=d.className,g=d.options,_=g===void 0?{}:g,T=d.onBlur,I=d.onFocus,R=d.onReady,b=d.onChange,M=d.onEscape,L=d.onClick,F=d.onLoadError,$=d.onLoaderStart,B=d.onNetworksChange,q=d.onConfirm,V=d.onCancel,A=d.onShippingAddressChange,C=d.onShippingRateChange,E=pw("mounts <".concat(r,">")),x="elements"in E?E.elements:null,k="checkoutSdk"in E?E.checkoutSdk:null,N=We.useState(null),X=aN(N,2),j=X[0],me=X[1],oe=We.useRef(null),Z=We.useRef(null);gr(j,"blur",T),gr(j,"focus",I),gr(j,"escape",M),gr(j,"click",L),gr(j,"loaderror",F),gr(j,"loaderstart",$),gr(j,"networkschange",B),gr(j,"confirm",q),gr(j,"cancel",V),gr(j,"shippingaddresschange",A),gr(j,"shippingratechange",C),gr(j,"change",b);var pe;R&&(e==="expressCheckout"?pe=R:pe=function(){R(j)}),gr(j,"ready",pe),We.useLayoutEffect(function(){if(oe.current===null&&Z.current!==null&&(x||k)){var W=null;k?W=k.createElement(e,_):x&&(W=x.create(e,_)),oe.current=W,me(W),W&&W.mount(Z.current)}},[x,k,_]);var de=fw(_);return We.useEffect(function(){if(oe.current){var W=lN(_,de,["paymentRequest"]);W&&"update"in oe.current&&oe.current.update(W)}},[_,de]),We.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy=="function")try{oe.current.destroy(),oe.current=null}catch{}}},[]),We.createElement("div",{id:f,className:m,ref:Z})},o=function(d){pw("mounts <".concat(r,">"));var f=d.id,m=d.className;return We.createElement("div",{id:f,className:m})},l=t?o:i;return l.propTypes={id:Pt.string,className:Pt.string,onChange:Pt.func,onBlur:Pt.func,onFocus:Pt.func,onReady:Pt.func,onEscape:Pt.func,onClick:Pt.func,onLoadError:Pt.func,onLoaderStart:Pt.func,onNetworksChange:Pt.func,onConfirm:Pt.func,onCancel:Pt.func,onShippingAddressChange:Pt.func,onShippingRateChange:Pt.func,options:Pt.object},l.displayName=r,l.__elementType=e,l},Xt=typeof window>"u",s8=We.createContext(null);s8.displayName="EmbeddedCheckoutProviderContext";var o8=function(){var e=pw("calls useStripe()"),t=e.stripe;return t};Jt("auBankAccount",Xt);var ub=Jt("card",Xt);Jt("cardNumber",Xt);Jt("cardExpiry",Xt);Jt("cardCvc",Xt);Jt("fpxBank",Xt);Jt("iban",Xt);Jt("idealBank",Xt);Jt("p24Bank",Xt);Jt("epsBank",Xt);Jt("payment",Xt);Jt("expressCheckout",Xt);Jt("currencySelector",Xt);Jt("paymentRequestButton",Xt);Jt("linkAuthentication",Xt);Jt("address",Xt);Jt("shippingAddress",Xt);Jt("paymentMethodMessaging",Xt);Jt("affirmMessage",Xt);Jt("afterpayClearpayMessage",Xt);const a8=Rt.create({baseURL:"https://api-fxatoytyya-uc.a.run.app"}),l8=()=>{const[{user:n,basket:e},t]=K.useContext(Ss),r=e==null?void 0:e.reduce((I,R)=>R.amount+I,0),i=e.reduce((I,R)=>R.price*R.amount+I,0),[o,l]=K.useState(null),[u,d]=K.useState(!1),f=o8(),m=t8(),g=Bm(),_=I=>{var R,b;(R=I==null?void 0:I.error)!=null&&R.message?l((b=I==null?void 0:I.error)==null?void 0:b.message):l("")},T=async I=>{var R;I.preventDefault();try{d(!0);const M=(R=(await a8({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:R.clientSecret,{paymentIntent:L}=await f.confirmCardPayment(M,{payment_method:{card:m.getElement(ub)}});await Hk.collection("users").doc(n.uid).collection("orders").doc(L.id).set({basket:e,amount:L.amount,created:L.created}),t({type:jr.EMPTY_BASKET}),d(!1),g("/orders",{state:{msg:"you have placed new Orders"}})}catch(b){console.log(b),d(!1)}};return O.jsxs(oc,{children:[O.jsxs("div",{className:us.payment__header,children:["Checkout (",r,") items"]}),O.jsxs("section",{className:us.payment,children:[O.jsxs("div",{className:us.flex,children:[O.jsx("h3",{children:"Delivery Address"}),O.jsxs("div",{children:[O.jsx("div",{children:n==null?void 0:n.email}),O.jsx("div",{children:"123 React Lane"}),O.jsx("div",{children:"MeryLand, Md"})]})]}),O.jsx("hr",{}),O.jsxs("div",{className:us.flex,children:[O.jsx("h3",{children:"Review items and delivery"}),O.jsx("div",{children:e==null?void 0:e.map(I=>O.jsx(cc,{product:I,flex:!0},I.id))})]}),O.jsx("hr",{}),O.jsxs("div",{className:us.flex,children:[O.jsx("h3",{children:"Payment methods"}),O.jsx("div",{className:us.payment__card__container,children:O.jsx("div",{className:us.payment__details,children:O.jsxs("form",{onSubmit:T,children:[o&&O.jsx("small",{style:{color:"red"},children:o}),O.jsx(ub,{onChange:_}),O.jsxs("div",{className:us.payment__price,children:[O.jsx("div",{children:O.jsxs("span",{style:{display:"flex",gap:"10px"},children:[O.jsx("p",{children:"Total Order | "}),O.jsx(vE,{amount:i})," "]})}),O.jsx("button",{type:"submit",children:u?O.jsxs("div",{className:us.loading,children:[O.jsx(hw,{color:"gray",size:12}),O.jsx("p",{children:"Please wait ..."})]}):"Pay Now"})]})]})})})]})]})]})},u8="_container_14jhy_1",c8="_orders__container_14jhy_9",cb={container:u8,orders__container:c8},d8=()=>{const[{user:n},e]=K.useContext(Ss),[t,r]=K.useState([]);return K.useEffect(()=>{n?Hk.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),O.jsx(oc,{children:O.jsx("section",{className:cb.container,children:O.jsxs("div",{className:cb.orders__container,children:[O.jsx("h2",{children:"Your Orders"}),(t==null?void 0:t.length)==0&&O.jsx("div",{style:{padding:"20px"},children:"You don't have orders yet."}),O.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var l,u;return O.jsxs("div",{children:[O.jsx("hr",{}),O.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id]}),(u=(l=i==null?void 0:i.data)==null?void 0:l.basket)==null?void 0:u.map(d=>O.jsx(cc,{flex:!0,product:d},d.id))]},o)})})]})})})},h8="_container_qhptj_1",f8="_subtotal_qhptj_19",p8="_cart_product_qhptj_27",m8="_btn_container_qhptj_37",g8="_btn_qhptj_37",y8="_cart__container_qhptj_75",ga={container:h8,subtotal:f8,cart_product:p8,btn_container:m8,btn:g8,cart__container:y8};function _8(n){return Hu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function v8(n){return Hu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}const w8=()=>{const[{basket:n,user:e},t]=K.useContext(Ss),r=n.reduce((l,u)=>u.price*u.amount+l,0),i=l=>{t({type:jr.ADD_TO_BASKET,item:l})},o=l=>{t({type:jr.REMOVE_FROM_BASKET,id:l})};return O.jsx(oc,{children:O.jsxs("section",{className:ga.container,children:[O.jsxs("div",{className:ga.cart__container,children:[O.jsx("h2",{children:"Hello"}),O.jsx("h3",{children:"Your shopping basket"}),O.jsx("hr",{}),(n==null?void 0:n.length)===0?O.jsx("p",{children:"Opps ! No item in your cart"}):n==null?void 0:n.map(l=>O.jsxs("section",{className:ga.cart_product,children:[O.jsx(cc,{product:l,renderDesc:!0,renderAdd:!1,flex:!0}),O.jsxs("div",{className:ga.btn_container,children:[O.jsx("button",{className:ga.btn,onClick:()=>i(l),children:O.jsx(v8,{size:20})}),O.jsx("span",{children:l.amount}),O.jsx("button",{className:ga.btn,onClick:()=>o(l.id),children:O.jsx(_8,{size:20})})]})]},l.id))]}),(n==null?void 0:n.length)!==0&&O.jsxs("div",{className:ga.subtotal,children:[O.jsxs("div",{children:[O.jsxs("p",{children:["Subtotal (",n==null?void 0:n.length,"items)"]}),O.jsx(vE,{amount:r})]}),O.jsxs("span",{children:[O.jsx("input",{type:"checkbox"}),O.jsx("small",{children:"This order contains a gift"})]}),O.jsx(ai,{to:"/payments",children:"Continue to checkout"})]})]})})},E8="_products_container_85ofs_1",I8={products_container:E8},fN="https://fakestoreapi.com",T8=()=>{const[n,e]=K.useState(!1),[t,r]=K.useState([]),{categoryName:i}=Ib();return K.useEffect(()=>{e(!0),Rt.get(`${fN}/products/category/${i}`).then(o=>{r(o.data),e(!1)}).catch(o=>{console.log(o),e(!1)})},[]),O.jsx(oc,{children:O.jsxs("section",{children:[O.jsx("h1",{style:{padding:"30px"},children:"Results"}),O.jsxs("p",{style:{padding:"30px"},children:["Category/",i]}),O.jsx("hr",{}),n?O.jsx(wE,{}):O.jsx("div",{className:I8.products_container,children:t==null?void 0:t.map(o=>O.jsx(cc,{product:o,renderAdd:!0},o.id))})]})})},S8=()=>{const{productId:n}=Ib(),[e,t]=K.useState({}),[r,i]=K.useState(!1);return K.useEffect(()=>{i(!0),Rt.get(`${fN}/products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o),i(!1)})},[]),O.jsx(oc,{children:r?O.jsx(wE,{}):O.jsx(cc,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})};var pN="https://js.stripe.com/v3",R8=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var A8=function(){for(var e=document.querySelectorAll('script[src^="'.concat(pN,'"]')),t=0;t<e.length;t++){var r=e[t];if(R8.test(r.src))return r}return null},db=function(e){var t="",r=document.createElement("script");r.src="".concat(pN).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},b8=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.6.0",startTime:t})},Ad=null,xp=null,Np=null,P8=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},C8=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},k8=function(e){return Ad!==null?Ad:(Ad=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=A8();if(!(i&&e)){if(!i)i=db(e);else if(i&&Np!==null&&xp!==null){var o;i.removeEventListener("load",Np),i.removeEventListener("error",xp),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=db(e)}}Np=C8(t,r),xp=P8(r),i.addEventListener("load",Np),i.addEventListener("error",xp)}catch(l){r(l);return}}),Ad.catch(function(t){return Ad=null,Promise.reject(t)}))},x8=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return b8(i,r),i},bd,mN=!1,gN=function(){return bd||(bd=k8(null).catch(function(e){return bd=null,Promise.reject(e)}),bd)};Promise.resolve().then(function(){return gN()}).catch(function(n){mN||console.warn(n)});var N8=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];mN=!0;var i=Date.now();return gN().then(function(o){return x8(o,t,i)})};const hb=({children:n,msg:e,redirect:t})=>{const r=Bm(),[{user:i},o]=K.useContext(Ss);return K.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},O8=N8("pk_test_51Iw80cKxKNLAaFsuA42R3kHsIfmLtkjQmxAG5Oao4UyLjmCbh5lfn3lfeN1awbHJxEzztD9lChlYcjDcpIi7Rwvl005lfSsfGz"),D8=()=>O.jsx($D,{basename:"/Amazon-Clone-Front",children:O.jsxs(vD,{children:[O.jsx(oo,{path:"/",element:O.jsx(NW,{})}),O.jsx(oo,{path:"/auth",element:O.jsx(MW,{})}),O.jsx(oo,{path:"/payments",element:O.jsx(hb,{msg:"You must log in to pay",redirect:"/payments",children:O.jsx(dN,{stripe:O8,children:O.jsx(l8,{})})})}),O.jsx(oo,{path:"/orders",element:O.jsx(hb,{msg:"You must log in to access your orders",redirect:"/orders",children:O.jsx(d8,{})})}),O.jsx(oo,{path:"/category/:categoryName",element:O.jsx(T8,{})}),O.jsx(oo,{path:"/products/:productId",element:O.jsx(S8,{})}),O.jsx(oo,{path:"/cart",element:O.jsx(w8,{})})]})});function V8(){const[{user:n},e]=K.useContext(Ss);return K.useEffect(()=>{Dm.onAuthStateChanged(t=>{e(t?{type:jr.SET_USER,user:t}:{type:jr.SET_USER,user:null})})},[]),O.jsx(O.Fragment,{children:O.jsx(D8,{})})}const L8={basket:[],user:null},M8=(n,e)=>{switch(e.type){case jr.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(l=>l.id===e.item.id?{...l,amount:l.amount+1}:l);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case jr.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case jr.EMPTY_BASKET:return{...n,basket:[]};case jr.SET_USER:return{...n,user:e.user};default:return n}};CO.createRoot(document.getElementById("root")).render(O.jsx(K.StrictMode,{children:O.jsx(S2,{reducer:M8,initialState:L8,children:O.jsx(V8,{})})}));
